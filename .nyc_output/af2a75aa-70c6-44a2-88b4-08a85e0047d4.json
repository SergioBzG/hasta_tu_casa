{"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\env.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\env.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":0},"end":{"line":14,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"env.js","sourceRoot":"","sources":["env.ts"],"names":[],"mappings":";;;;;AAcA,gFAAsC;AAEtC,kBAAe,aAAG,CAAC,KAAK,CAAC;IACxB,IAAI,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;IAC3C,IAAI,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IACzB,OAAO,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,QAAQ,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,UAAU,EAAE,aAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAU,CAAC;IAChD,QAAQ,EAAE,aAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,YAAY,EAAE,MAAM,CAAU,CAAC;CACzE,CAAC,CAAA","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Validating Environment Variables\n|--------------------------------------------------------------------------\n|\n| In this file we define the rules for validating environment variables.\n| By performing validation we ensure that your application is running in\n| a stable environment with correct configuration values.\n|\n| This file is read automatically by the framework during the boot lifecycle\n| and hence do not rename or move this file to a different location.\n|\n*/\n\nimport Env from '@ioc:Adonis/Core/Env'\n\nexport default Env.rules({\n\tHOST: Env.schema.string({ format: 'host' }),\n\tPORT: Env.schema.number(),\n\tAPP_KEY: Env.schema.string(),\n\tAPP_NAME: Env.schema.string(),\n  DRIVE_DISK: Env.schema.enum(['local'] as const),\n\tNODE_ENV: Env.schema.enum(['development', 'production', 'test'] as const),\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"da649159b5a25c6851fe5a90c92495cc8ca18526","contentHash":"293e53eb35e8071cba7c01c0b3fd9ea778f3ab186a3e48b8fce01fd8e00325cc"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\app.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":95}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":79}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":26,"column":2}},"8":{"start":{"line":27,"column":0},"end":{"line":32,"column":2}},"9":{"start":{"line":33,"column":0},"end":{"line":37,"column":2}},"10":{"start":{"line":38,"column":0},"end":{"line":38,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"app.js","sourceRoot":"","sources":["app.ts"],"names":[],"mappings":";;;;;;AAOA,4DAAkC;AAClC,gFAAsC;AAmBzB,QAAA,MAAM,GAAW,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;AAWnC,QAAA,IAAI,GAAiB;IAYhC,mBAAmB,EAAE,KAAK;IAO1B,eAAe,EAAE,CAAC;IAWlB,iBAAiB,EAAE,KAAK;IAWxB,UAAU,EAAE,oBAAS,CAAC,OAAO,CAAC,UAAU,CAAC;IAUzC,IAAI,EAAE,KAAK;IAOX,iBAAiB,EAAE,UAAU;IAO7B,MAAM,EAAE;QACN,MAAM,EAAE,EAAE;QACV,IAAI,EAAE,GAAG;QACT,MAAM,EAAE,IAAI;QACZ,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,KAAK;QACb,QAAQ,EAAE,KAAK;KAChB;IAkBD,yBAAyB,EAAE,kBAAkB;CAC9C,CAAA;AAOY,QAAA,MAAM,GAAiB;IAalC,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,UAAU,CAAC;IAUzB,OAAO,EAAE,IAAI;IAYb,KAAK,EAAE,aAAG,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC;IAWnC,WAAW,EAAE,aAAG,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,aAAa;CACnD,CAAA;AAOY,QAAA,QAAQ,GAAmB;IAStC,OAAO,EAAE,IAAI;IAWb,SAAS,EAAE,EAAE;IAWb,SAAS,EAAE,EAAE;CACd,CAAA;AAWY,QAAA,SAAS,GAAoB,EACzC,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefZ\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport proxyAddr from 'proxy-addr'\nimport Env from '@ioc:Adonis/Core/Env'\nimport type { ServerConfig } from '@ioc:Adonis/Core/Server'\nimport type { LoggerConfig } from '@ioc:Adonis/Core/Logger'\nimport type { ProfilerConfig } from '@ioc:Adonis/Core/Profiler'\nimport type { ValidatorConfig } from '@ioc:Adonis/Core/Validator'\n\n/*\n|--------------------------------------------------------------------------\n| Application secret key\n|--------------------------------------------------------------------------\n|\n| The secret to encrypt and sign different values in your application.\n| Make sure to keep the `APP_KEY` as an environment variable and secure.\n|\n| Note: Changing the application key for an existing app will make all\n| the cookies invalid and also the existing encrypted data will not\n| be decrypted.\n|\n*/\nexport const appKey: string = Env.get('APP_KEY')\n\n/*\n|--------------------------------------------------------------------------\n| Http server configuration\n|--------------------------------------------------------------------------\n|\n| The configuration for the HTTP(s) server. Make sure to go through all\n| the config properties to make keep server secure.\n|\n*/\nexport const http: ServerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Allow method spoofing\n  |--------------------------------------------------------------------------\n  |\n  | Method spoofing enables defining custom HTTP methods using a query string\n  | `_method`. This is usually required when you are making traditional\n  | form requests and wants to use HTTP verbs like `PUT`, `DELETE` and\n  | so on.\n  |\n  */\n  allowMethodSpoofing: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Subdomain offset\n  |--------------------------------------------------------------------------\n  */\n  subdomainOffset: 2,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Request Ids\n  |--------------------------------------------------------------------------\n  |\n  | Setting this value to `true` will generate a unique request id for each\n  | HTTP request and set it as `x-request-id` header.\n  |\n  */\n  generateRequestId: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Trusting proxy servers\n  |--------------------------------------------------------------------------\n  |\n  | Define the proxy servers that AdonisJs must trust for reading `X-Forwarded`\n  | headers.\n  |\n  */\n  trustProxy: proxyAddr.compile('loopback'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Generating Etag\n  |--------------------------------------------------------------------------\n  |\n  | Whether or not to generate an etag for every response.\n  |\n  */\n  etag: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | JSONP Callback\n  |--------------------------------------------------------------------------\n  */\n  jsonpCallbackName: 'callback',\n\n  /*\n  |--------------------------------------------------------------------------\n  | Cookie settings\n  |--------------------------------------------------------------------------\n  */\n  cookie: {\n    domain: '',\n    path: '/',\n    maxAge: '2h',\n    httpOnly: true,\n    secure: false,\n    sameSite: false,\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Force Content Negotiation\n  |--------------------------------------------------------------------------\n  |\n  | The internals of the framework relies on the content negotiation to\n  | detect the best possible response type for a given HTTP request.\n  |\n  | However, it is a very common these days that API servers always wants to\n  | make response in JSON regardless of the existence of the `Accept` header.\n  |\n  | By setting `forceContentNegotiationTo = 'application/json'`, you negotiate\n  | with the server in advance to always return JSON without relying on the\n  | client to set the header explicitly.\n  |\n  */\n  forceContentNegotiationTo: 'application/json',\n}\n\n/*\n|--------------------------------------------------------------------------\n| Logger\n|--------------------------------------------------------------------------\n*/\nexport const logger: LoggerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Application name\n  |--------------------------------------------------------------------------\n  |\n  | The name of the application you want to add to the log. It is recommended\n  | to always have app name in every log line.\n  |\n  | The `APP_NAME` environment variable is automatically set by AdonisJS by\n  | reading the `name` property from the `package.json` file.\n  |\n  */\n  name: Env.get('APP_NAME'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Toggle logger\n  |--------------------------------------------------------------------------\n  |\n  | Enable or disable logger application wide\n  |\n  */\n  enabled: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Logging level\n  |--------------------------------------------------------------------------\n  |\n  | The level from which you want the logger to flush logs. It is recommended\n  | to make use of the environment variable, so that you can define log levels\n  | at deployment level and not code level.\n  |\n  */\n  level: Env.get('LOG_LEVEL', 'info'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Pretty print\n  |--------------------------------------------------------------------------\n  |\n  | It is highly advised NOT to use `prettyPrint` in production, since it\n  | can have huge impact on performance.\n  |\n  */\n  prettyPrint: Env.get('NODE_ENV') === 'development',\n}\n\n/*\n|--------------------------------------------------------------------------\n| Profiler\n|--------------------------------------------------------------------------\n*/\nexport const profiler: ProfilerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Toggle profiler\n  |--------------------------------------------------------------------------\n  |\n  | Enable or disable profiler\n  |\n  */\n  enabled: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Blacklist actions/row labels\n  |--------------------------------------------------------------------------\n  |\n  | Define an array of actions or row labels that you want to disable from\n  | getting profiled.\n  |\n  */\n  blacklist: [],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Whitelist actions/row labels\n  |--------------------------------------------------------------------------\n  |\n  | Define an array of actions or row labels that you want to whitelist for\n  | the profiler. When whitelist is defined, then `blacklist` is ignored.\n  |\n  */\n  whitelist: [],\n}\n\n/*\n|--------------------------------------------------------------------------\n| Validator\n|--------------------------------------------------------------------------\n|\n| Configure the global configuration for the validator. Here's the reference\n| to the default config https://git.io/JT0WE\n|\n*/\nexport const validator: ValidatorConfig = {\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1df47af339b8b62cc0613f69546364ff977c3b20","contentHash":"6aad44401ab0eb8a3963ef9a5a37ddd8bf05652e624659bd7b2dfbff815abb9c"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\bodyparser.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\bodyparser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":44,"column":1}},"2":{"start":{"line":45,"column":0},"end":{"line":45,"column":35}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"bodyparser.js","sourceRoot":"","sources":["bodyparser.ts"],"names":[],"mappings":";;AASA,MAAM,gBAAgB,GAAqB;IAUzC,kBAAkB,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC;IAWtD,IAAI,EAAE;QACJ,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,MAAM,EAAE,IAAI;QACZ,KAAK,EAAE;YACL,kBAAkB;YAClB,6BAA6B;YAC7B,0BAA0B;YAC1B,wBAAwB;SACzB;KACF;IAWD,IAAI,EAAE;QACJ,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,WAAW,EAAE,EAAE;QAYf,yBAAyB,EAAE,IAAI;QAE/B,KAAK,EAAE;YACL,mCAAmC;SACpC;KACF;IAYD,GAAG,EAAE;QACH,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,WAAW,EAAE,EAAE;QACf,KAAK,EAAE;YACL,QAAQ;SACT;KACF;IAWD,SAAS,EAAE;QAcT,WAAW,EAAE,IAAI;QAsBjB,eAAe,EAAE,EAAE;QAuBnB,QAAQ,EAAE,OAAO;QAYjB,yBAAyB,EAAE,IAAI;QAW/B,SAAS,EAAE,IAAI;QAWf,KAAK,EAAE,MAAM;QAUb,KAAK,EAAE;YACL,qBAAqB;SACtB;KACF;CACF,CAAA;AAED,kBAAe,gBAAgB,CAAA","sourcesContent":["/**\n * Config source: https://git.io/Jfefn\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport type { BodyParserConfig } from '@ioc:Adonis/Core/BodyParser'\n\nconst bodyParserConfig: BodyParserConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | White listed methods\n  |--------------------------------------------------------------------------\n  |\n  | HTTP methods for which body parsing must be performed. It is a good practice\n  | to avoid body parsing for `GET` requests.\n  |\n  */\n  whitelistedMethods: ['POST', 'PUT', 'PATCH', 'DELETE'],\n\n  /*\n  |--------------------------------------------------------------------------\n  | JSON parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the JSON parser. The types defines the request content\n  | types which gets processed by the JSON parser.\n  |\n  */\n  json: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    strict: true,\n    types: [\n      'application/json',\n      'application/json-patch+json',\n      'application/vnd.api+json',\n      'application/csp-report',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Form parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the `application/x-www-form-urlencoded` parser. The types\n  | defines the request content types which gets processed by the form parser.\n  |\n  */\n  form: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    queryString: {},\n\n    /*\n    |--------------------------------------------------------------------------\n    | Convert empty strings to null\n    |--------------------------------------------------------------------------\n    |\n    | Convert empty form fields to null. HTML forms results in field string\n    | value when the field is left blank. This option normalizes all the blank\n    | field values to \"null\"\n    |\n    */\n    convertEmptyStringsToNull: true,\n\n    types: [\n      'application/x-www-form-urlencoded',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Raw body parser settings\n  |--------------------------------------------------------------------------\n  |\n  | Raw body just reads the request body stream as a plain text, which you\n  | can process by hand. This must be used when request body type is not\n  | supported by the body parser.\n  |\n  */\n  raw: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    queryString: {},\n    types: [\n      'text/*',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Multipart parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the `multipart/form-data` parser. The types defines the\n  | request content types which gets processed by the form parser.\n  |\n  */\n  multipart: {\n    /*\n    |--------------------------------------------------------------------------\n    | Auto process\n    |--------------------------------------------------------------------------\n    |\n    | The auto process option will process uploaded files and writes them to\n    | the `tmp` folder. You can turn it off and then manually use the stream\n    | to pipe stream to a different destination.\n    |\n    | It is recommended to keep `autoProcess=true`. Unless you are processing bigger\n    | file sizes.\n    |\n    */\n    autoProcess: true,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Files to be processed manually\n    |--------------------------------------------------------------------------\n    |\n    | You can turn off `autoProcess` for certain routes by defining\n    | routes inside the following array.\n    |\n    | NOTE: Make sure the route pattern starts with a leading slash.\n    |\n    | Correct\n    | ```js\n    | /projects/:id/file\n    | ```\n    |\n    | Incorrect\n    | ```js\n    | projects/:id/file\n    | ```\n    */\n    processManually: [],\n\n    /*\n    |--------------------------------------------------------------------------\n    | Temporary file name\n    |--------------------------------------------------------------------------\n    |\n    | When auto processing is on. We will use this method to compute the temporary\n    | file name. AdonisJs will compute a unique `tmpPath` for you automatically,\n    | However, you can also define your own custom method.\n    |\n    */\n    // tmpFileName () {\n    // },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Encoding\n    |--------------------------------------------------------------------------\n    |\n    | Request body encoding\n    |\n    */\n    encoding: 'utf-8',\n\n    /*\n    |--------------------------------------------------------------------------\n    | Convert empty strings to null\n    |--------------------------------------------------------------------------\n    |\n    | Convert empty form fields to null. HTML forms results in field string\n    | value when the field is left blank. This option normalizes all the blank\n    | field values to \"null\"\n    |\n    */\n    convertEmptyStringsToNull: true,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Max Fields\n    |--------------------------------------------------------------------------\n    |\n    | The maximum number of fields allowed in the request body. The field includes\n    | text inputs and files both.\n    |\n    */\n    maxFields: 1000,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Request body limit\n    |--------------------------------------------------------------------------\n    |\n    | The total limit to the multipart body. This includes all request files\n    | and fields data.\n    |\n    */\n    limit: '20mb',\n\n    /*\n    |--------------------------------------------------------------------------\n    | Types\n    |--------------------------------------------------------------------------\n    |\n    | The types that will be considered and parsed as multipart body.\n    |\n    */\n    types: [\n      'multipart/form-data',\n    ],\n  },\n}\n\nexport default bodyParserConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"564732190784dd20ac96c3679fbdef2530153f6b","contentHash":"a76e70c82a903db5f758bb3cc89e37c7d87d52ae244d0cf6cd99fcb1b9e9c4f3"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\cors.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\cors.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":18,"column":1}},"2":{"start":{"line":19,"column":0},"end":{"line":19,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"cors.js","sourceRoot":"","sources":["cors.ts"],"names":[],"mappings":";;AASA,MAAM,UAAU,GAAe;IAa7B,OAAO,EAAE,KAAK;IAwBd,MAAM,EAAE,IAAI;IAYZ,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC;IAmBjD,OAAO,EAAE,IAAI;IAsBb,aAAa,EAAE;QACb,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,SAAS;QACT,eAAe;QACf,QAAQ;KACT;IAaD,WAAW,EAAE,IAAI;IAWjB,MAAM,EAAE,EAAE;CACX,CAAA;AAED,kBAAe,UAAU,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefC\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport type { CorsConfig } from '@ioc:Adonis/Core/Cors'\n\nconst corsConfig: CorsConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Enabled\n  |--------------------------------------------------------------------------\n  |\n  | A boolean to enable or disable CORS integration from your AdonisJs\n  | application.\n  |\n  | Setting the value to `true` will enable the CORS for all HTTP request. However,\n  | you can define a function to enable/disable it on per request basis as well.\n  |\n  */\n  enabled: false,\n\n  // You can also use a function that return true or false.\n  // enabled: (request) => request.url().startsWith('/api')\n\n  /*\n  |--------------------------------------------------------------------------\n  | Origin\n  |--------------------------------------------------------------------------\n  |\n  | Set a list of origins to be allowed for `Access-Control-Allow-Origin`.\n  | The value can be one of the following:\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\n  |\n  | Boolean (true)    - Allow current request origin.\n  | Boolean (false)   - Disallow all.\n  | String            - Comma separated list of allowed origins.\n  | Array             - An array of allowed origins.\n  | String (*)        - A wildcard (*) to allow all request origins.\n  | Function          - Receives the current origin string and should return\n  |                     one of the above values.\n  |\n  */\n  origin: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Methods\n  |--------------------------------------------------------------------------\n  |\n  | An array of allowed HTTP methods for CORS. The `Access-Control-Request-Method`\n  | is checked against the following list.\n  |\n  | Following is the list of default methods. Feel free to add more.\n  */\n  methods: ['GET', 'HEAD', 'POST', 'PUT', 'DELETE'],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Headers\n  |--------------------------------------------------------------------------\n  |\n  | List of headers to be allowed for `Access-Control-Allow-Headers` header.\n  | The value can be one of the following:\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers\n  |\n  | Boolean(true)     - Allow all headers mentioned in `Access-Control-Request-Headers`.\n  | Boolean(false)    - Disallow all headers.\n  | String            - Comma separated list of allowed headers.\n  | Array             - An array of allowed headers.\n  | Function          - Receives the current header and should return one of the above values.\n  |\n  */\n  headers: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Expose Headers\n  |--------------------------------------------------------------------------\n  |\n  | A list of headers to be exposed by setting `Access-Control-Expose-Headers`.\n  | header. By default following 6 simple response headers are exposed.\n  |\n  | Cache-Control\n  | Content-Language\n  | Content-Type\n  | Expires\n  | Last-Modified\n  | Pragma\n  |\n  | In order to add more headers, simply define them inside the following array.\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers\n  |\n  */\n  exposeHeaders: [\n    'cache-control',\n    'content-language',\n    'content-type',\n    'expires',\n    'last-modified',\n    'pragma',\n  ],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Credentials\n  |--------------------------------------------------------------------------\n  |\n  | Toggle `Access-Control-Allow-Credentials` header. If value is set to `true`,\n  | then header will be set, otherwise not.\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\n  |\n  */\n  credentials: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | MaxAge\n  |--------------------------------------------------------------------------\n  |\n  | Define `Access-Control-Max-Age` header in seconds.\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age\n  |\n  */\n  maxAge: 90,\n}\n\nexport default corsConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c65481957341f5c6aa20398204148150c7295f49","contentHash":"6ffa21666eb6db4abbc09dcbd7591da80c7f1fcdc0c73bc69161c1a58a4a29bb"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\database.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\database.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":23},"end":{"line":24,"column":1}},"5":{"start":{"line":25,"column":0},"end":{"line":25,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"database.js","sourceRoot":"","sources":["database.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AAItC,MAAM,cAAc,GAAiD;IAWnE,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,eAAe,CAAC;IAEpC,WAAW,EAAE;QAYX,EAAE,EAAE;YACF,MAAM,EAAE,IAAI;YACZ,UAAU,EAAE;gBACV,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;gBACxB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;gBACxB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;gBACxB,QAAQ,EAAE,aAAG,CAAC,GAAG,CAAC,aAAa,EAAE,EAAE,CAAC;gBACpC,QAAQ,EAAE,aAAG,CAAC,GAAG,CAAC,YAAY,CAAC;aAChC;YACD,WAAW,EAAE,KAAK;YACrB,KAAK,EAAE,KAAK;SACV;KAEF;IAcD,GAAG,EAAE,EACJ;CACF,CAAA;AAED,kBAAe,cAAc,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JesV9\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { OrmConfig } from '@ioc:Adonis/Lucid/Orm'\nimport { DatabaseConfig } from '@ioc:Adonis/Lucid/Database'\n\nconst databaseConfig: DatabaseConfig & { orm: Partial<OrmConfig> } = {\n  /*\n  |--------------------------------------------------------------------------\n  | Connection\n  |--------------------------------------------------------------------------\n  |\n  | The primary connection for making database queries across the application\n  | You can use any key from the `connections` object defined in this same\n  | file.\n  |\n  */\n  connection: Env.get('DB_CONNECTION'),\n\n  connections: {\n    /*\n    |--------------------------------------------------------------------------\n    | PostgreSQL config\n    |--------------------------------------------------------------------------\n    |\n    | Configuration for PostgreSQL database. Make sure to install the driver\n    | from npm when using this connection\n    |\n    | npm i pg\n    |\n    */\n    pg: {\n      client: 'pg',\n      connection: {\n        host: Env.get('PG_HOST'),\n        port: Env.get('PG_PORT'),\n        user: Env.get('PG_USER'),\n        password: Env.get('PG_PASSWORD', ''),\n        database: Env.get('PG_DB_NAME'),\n      },\n      healthCheck: false,\n\t\t\tdebug: false,\n    },\n\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | ORM Configuration\n  |--------------------------------------------------------------------------\n  |\n  | Following are some of the configuration options to tweak the conventional\n  | settings of the ORM. For example:\n  |\n  | - Define a custom function to compute the default table name for a given model.\n  | - Or define a custom function to compute the primary key for a given model.\n  |\n  */\n  orm: {\n  },\n}\n\nexport default databaseConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5cb37fb1388cf4a78a9a84a23825c8f0827bb37b","contentHash":"02758ee249ab36a509384948e1e122fa14bc410aff8d27db51016b9bf5d30fd3"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\drive.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\drive.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":0},"end":{"line":20,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"drive.js","sourceRoot":"","sources":["drive.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AACtC,wDAAyD;AACzD,gGAAsD;AAWtD,kBAAe,IAAA,oBAAW,EAAC;IAUzB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,YAAY,CAAC;IAE3B,KAAK,EAAE;QAUL,KAAK,EAAE;YACL,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,QAAQ;YAWpB,IAAI,EAAE,qBAAW,CAAC,OAAO,CAAC,SAAS,CAAC;YAYpC,UAAU,EAAE,IAAI;YAYhB,QAAQ,EAAE,UAAU;SACrB;KAmEF;CACF,CAAC,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JBt3o\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { driveConfig } from '@adonisjs/core/build/config'\nimport Application from '@ioc:Adonis/Core/Application'\n\n/*\n|--------------------------------------------------------------------------\n| Drive Config\n|--------------------------------------------------------------------------\n|\n| The `DriveConfig` relies on the `DisksList` interface which is\n| defined inside the `contracts` directory.\n|\n*/\nexport default driveConfig({\n  /*\n  |--------------------------------------------------------------------------\n  | Default disk\n  |--------------------------------------------------------------------------\n  |\n  | The default disk to use for managing file uploads. The value is driven by\n  | the `DRIVE_DISK` environment variable.\n  |\n  */\n  disk: Env.get('DRIVE_DISK'),\n\n  disks: {\n    /*\n    |--------------------------------------------------------------------------\n    | Local\n    |--------------------------------------------------------------------------\n    |\n    | Uses the local file system to manage files. Make sure to turn off serving\n    | files when not using this disk.\n    |\n    */\n    local: {\n      driver: 'local',\n      visibility: 'public',\n\n      /*\n      |--------------------------------------------------------------------------\n      | Storage root - Local driver only\n      |--------------------------------------------------------------------------\n      |\n      | Define an absolute path to the storage directory from where to read the\n      | files.\n      |\n      */\n      root: Application.tmpPath('uploads'),\n\n      /*\n      |--------------------------------------------------------------------------\n      | Serve files - Local driver only\n      |--------------------------------------------------------------------------\n      |\n      | When this is set to true, AdonisJS will configure a files server to serve\n      | files from the disk root. This is done to mimic the behavior of cloud\n      | storage services that has inbuilt capabilities to serve files.\n      |\n      */\n      serveFiles: true,\n\n      /*\n      |--------------------------------------------------------------------------\n      | Base path - Local driver only\n      |--------------------------------------------------------------------------\n      |\n      | Base path is always required when \"serveFiles = true\". Also make sure\n      | the `basePath` is unique across all the disks using \"local\" driver and\n      | you are not registering routes with this prefix.\n      |\n      */\n      basePath: '/uploads',\n    },\n\n    /*\n    |--------------------------------------------------------------------------\n    | S3 Driver\n    |--------------------------------------------------------------------------\n    |\n    | Uses the S3 cloud storage to manage files. Make sure to install the s3\n    | drive separately when using it.\n    |\n    |**************************************************************************\n    | npm i @adonisjs/drive-s3\n    |**************************************************************************\n    |\n    */\n    // s3: {\n    //   driver: 's3',\n    //   visibility: 'public',\n    //   key: Env.get('S3_KEY'),\n    //   secret: Env.get('S3_SECRET'),\n    //   region: Env.get('S3_REGION'),\n    //   bucket: Env.get('S3_BUCKET'),\n    //   endpoint: Env.get('S3_ENDPOINT'),\n    //\n    //  // For minio to work\n    //  // forcePathStyle: true,\n    // },\n\n    /*\n    |--------------------------------------------------------------------------\n    | GCS Driver\n    |--------------------------------------------------------------------------\n    |\n    | Uses the Google cloud storage to manage files. Make sure to install the GCS\n    | drive separately when using it.\n    |\n    |**************************************************************************\n    | npm i @adonisjs/drive-gcs\n    |**************************************************************************\n    |\n    */\n    // gcs: {\n    //   driver: 'gcs',\n    //   visibility: 'public',\n    //   keyFilename: Env.get('GCS_KEY_FILENAME'),\n    //   bucket: Env.get('GCS_BUCKET'),\n\n      /*\n      |--------------------------------------------------------------------------\n      | Uniform ACL - Google cloud storage only\n      |--------------------------------------------------------------------------\n      |\n      | When using the Uniform ACL on the bucket, the \"visibility\" option is\n      | ignored. Since, the files ACL is managed by the google bucket policies\n      | directly.\n      |\n      |**************************************************************************\n      | Learn more: https://cloud.google.com/storage/docs/uniform-bucket-level-access\n      |**************************************************************************\n      |\n      | The following option just informs drive whether your bucket is using uniform\n      | ACL or not. The actual setting needs to be toggled within the Google cloud\n      | console.\n      |\n      */\n    //   usingUniformAcl: false,\n    // },\n  },\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26ac50f3bdf4667b0fd53f450df1445f33cbdbfb","contentHash":"96c356576aed32ebe67db82d67393798334b9261c6820f49c902f2e5e91ada2a"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\hash.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\config\\hash.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":0},"end":{"line":33,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"hash.js","sourceRoot":"","sources":["hash.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AACtC,wDAAwD;AAWxD,kBAAe,IAAA,mBAAU,EAAC;IAUxB,OAAO,EAAE,aAAG,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC;IAEzC,IAAI,EAAE;QAcJ,MAAM,EAAE;YACN,MAAM,EAAE,QAAQ;YAChB,IAAI,EAAE,KAAK;YACX,SAAS,EAAE,CAAC;YACZ,eAAe,EAAE,CAAC;YAClB,QAAQ,EAAE,EAAE;YACZ,SAAS,EAAE,EAAE;YACb,SAAS,EAAE,EAAE,GAAG,IAAI,GAAG,IAAI;SAC5B;QAeD,KAAK,EAAE;YACL,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,IAAI;YACb,UAAU,EAAE,CAAC;YACb,MAAM,EAAE,IAAI;YACZ,WAAW,EAAE,CAAC;YACd,QAAQ,EAAE,EAAE;SACb;QAeD,MAAM,EAAE;YACN,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,EAAE;SACX;KACF;CACF,CAAC,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefW\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { hashConfig } from '@adonisjs/core/build/config'\n\n/*\n|--------------------------------------------------------------------------\n| Hash Config\n|--------------------------------------------------------------------------\n|\n| The `HashConfig` relies on the `HashList` interface which is\n| defined inside `contracts` directory.\n|\n*/\nexport default hashConfig({\n  /*\n  |--------------------------------------------------------------------------\n  | Default hasher\n  |--------------------------------------------------------------------------\n  |\n  | By default we make use of the argon hasher to hash values. However, feel\n  | free to change the default value\n  |\n  */\n  default: Env.get('HASH_DRIVER', 'scrypt'),\n\n  list: {\n    /*\n    |--------------------------------------------------------------------------\n    | scrypt\n    |--------------------------------------------------------------------------\n    |\n    | Scrypt mapping uses the Node.js inbuilt crypto module for creating\n    | hashes.\n    |\n    | We are using the default configuration recommended within the Node.js\n    | documentation.\n    | https://nodejs.org/api/crypto.html#cryptoscryptpassword-salt-keylen-options-callback\n    |\n    */\n    scrypt: {\n      driver: 'scrypt',\n      cost: 16384,\n      blockSize: 8,\n      parallelization: 1,\n      saltSize: 16,\n      keyLength: 64,\n      maxMemory: 32 * 1024 * 1024,\n    },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Argon\n    |--------------------------------------------------------------------------\n    |\n    | Argon mapping uses the `argon2` driver to hash values.\n    |\n    | Make sure you install the underlying dependency for this driver to work.\n    | https://www.npmjs.com/package/phc-argon2.\n    |\n    | npm install phc-argon2\n    |\n    */\n    argon: {\n      driver: 'argon2',\n      variant: 'id',\n      iterations: 3,\n      memory: 4096,\n      parallelism: 1,\n      saltSize: 16,\n    },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Bcrypt\n    |--------------------------------------------------------------------------\n    |\n    | Bcrypt mapping uses the `bcrypt` driver to hash values.\n    |\n    | Make sure you install the underlying dependency for this driver to work.\n    | https://www.npmjs.com/package/phc-bcrypt.\n    |\n    | npm install phc-bcrypt\n    |\n    */\n    bcrypt: {\n      driver: 'bcrypt',\n      rounds: 10,\n    },\n  },\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d6a4ff10370731a3d69e7bc826e892c0518173df","contentHash":"9cbf768989f5068f7f5c1a044c415fdba7b89962e0fb19162ae444154919d925"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\providers\\AppProvider.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\providers\\AppProvider.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":21},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":15},"end":{"line":8,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":17},"end":{"line":10,"column":5}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":12,"column":5}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":21},"end":{"line":14,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1},"b":{},"inputSourceMap":{"version":3,"file":"AppProvider.js","sourceRoot":"","sources":["AppProvider.ts"],"names":[],"mappings":";;AAEA,MAAqB,WAAW;IAC9B,YAAuB,GAAwB;QAAxB,QAAG,GAAH,GAAG,CAAqB;IAC/C,CAAC;IAEM,QAAQ;IAEf,CAAC;IAEM,KAAK,CAAC,IAAI;IAEjB,CAAC;IAEM,KAAK,CAAC,KAAK;IAElB,CAAC;IAEM,KAAK,CAAC,QAAQ;IAErB,CAAC;CACF;AAnBD,8BAmBC","sourcesContent":["import type { ApplicationContract } from '@ioc:Adonis/Core/Application'\n\nexport default class AppProvider {\n  constructor (protected app: ApplicationContract) {\n  }\n\n  public register () {\n    // Register your own bindings\n  }\n\n  public async boot () {\n    // IoC container is ready\n  }\n\n  public async ready () {\n    // App is ready\n  }\n\n  public async shutdown () {\n    // Cleanup, since app is going down\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"834d2988438ac4bc9046eddd7105c8bba5fde4ec","contentHash":"4600e5308de83f6d5c9c002b68f218a0aa490788e95e7270feb756b42c69911a"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\start\\routes.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\start\\routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":9,"column":3}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":30}},"6":{"start":{"line":10,"column":0},"end":{"line":16,"column":29}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":74}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":74}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":95}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":114}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":110}},"12":{"start":{"line":17,"column":0},"end":{"line":19,"column":29}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":73}},"14":{"start":{"line":20,"column":0},"end":{"line":32,"column":67}},"15":{"start":{"line":21,"column":4},"end":{"line":21,"column":76}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":71}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":90}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":83}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":74}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":77}},"21":{"start":{"line":27,"column":4},"end":{"line":27,"column":81}},"22":{"start":{"line":28,"column":4},"end":{"line":28,"column":90}},"23":{"start":{"line":29,"column":4},"end":{"line":29,"column":85}},"24":{"start":{"line":30,"column":4},"end":{"line":30,"column":72}},"25":{"start":{"line":31,"column":4},"end":{"line":31,"column":83}},"26":{"start":{"line":33,"column":0},"end":{"line":42,"column":69}},"27":{"start":{"line":34,"column":4},"end":{"line":34,"column":103}},"28":{"start":{"line":35,"column":4},"end":{"line":35,"column":98}},"29":{"start":{"line":36,"column":4},"end":{"line":36,"column":117}},"30":{"start":{"line":37,"column":4},"end":{"line":37,"column":110}},"31":{"start":{"line":38,"column":4},"end":{"line":38,"column":86}},"32":{"start":{"line":39,"column":4},"end":{"line":39,"column":82}},"33":{"start":{"line":40,"column":4},"end":{"line":40,"column":90}},"34":{"start":{"line":41,"column":4},"end":{"line":41,"column":90}},"35":{"start":{"line":43,"column":0},"end":{"line":49,"column":48}},"36":{"start":{"line":44,"column":4},"end":{"line":44,"column":99}},"37":{"start":{"line":45,"column":4},"end":{"line":45,"column":74}},"38":{"start":{"line":46,"column":4},"end":{"line":46,"column":90}},"39":{"start":{"line":47,"column":4},"end":{"line":47,"column":106}},"40":{"start":{"line":48,"column":4},"end":{"line":48,"column":109}},"41":{"start":{"line":50,"column":0},"end":{"line":56,"column":48}},"42":{"start":{"line":51,"column":4},"end":{"line":51,"column":103}},"43":{"start":{"line":52,"column":4},"end":{"line":52,"column":68}},"44":{"start":{"line":53,"column":4},"end":{"line":53,"column":78}},"45":{"start":{"line":54,"column":4},"end":{"line":54,"column":110}},"46":{"start":{"line":55,"column":4},"end":{"line":55,"column":113}},"47":{"start":{"line":57,"column":0},"end":{"line":62,"column":59}},"48":{"start":{"line":58,"column":4},"end":{"line":58,"column":74}},"49":{"start":{"line":59,"column":4},"end":{"line":59,"column":90}},"50":{"start":{"line":60,"column":4},"end":{"line":60,"column":96}},"51":{"start":{"line":61,"column":4},"end":{"line":61,"column":94}},"52":{"start":{"line":63,"column":0},"end":{"line":68,"column":59}},"53":{"start":{"line":64,"column":4},"end":{"line":64,"column":77}},"54":{"start":{"line":65,"column":4},"end":{"line":65,"column":87}},"55":{"start":{"line":66,"column":4},"end":{"line":66,"column":96}},"56":{"start":{"line":67,"column":4},"end":{"line":67,"column":87}},"57":{"start":{"line":69,"column":0},"end":{"line":72,"column":59}},"58":{"start":{"line":70,"column":4},"end":{"line":70,"column":65}},"59":{"start":{"line":71,"column":4},"end":{"line":71,"column":93}},"60":{"start":{"line":73,"column":0},"end":{"line":75,"column":48}},"61":{"start":{"line":74,"column":4},"end":{"line":74,"column":71}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":25},"end":{"line":7,"column":26}},"loc":{"start":{"line":7,"column":37},"end":{"line":9,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":22},"end":{"line":10,"column":23}},"loc":{"start":{"line":10,"column":28},"end":{"line":16,"column":1}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":28},"end":{"line":19,"column":1}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":22},"end":{"line":20,"column":23}},"loc":{"start":{"line":20,"column":28},"end":{"line":32,"column":1}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":22},"end":{"line":33,"column":23}},"loc":{"start":{"line":33,"column":28},"end":{"line":42,"column":1}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":43,"column":22},"end":{"line":43,"column":23}},"loc":{"start":{"line":43,"column":28},"end":{"line":49,"column":1}},"line":43},"7":{"name":"(anonymous_7)","decl":{"start":{"line":50,"column":22},"end":{"line":50,"column":23}},"loc":{"start":{"line":50,"column":28},"end":{"line":56,"column":1}},"line":50},"8":{"name":"(anonymous_8)","decl":{"start":{"line":57,"column":22},"end":{"line":57,"column":23}},"loc":{"start":{"line":57,"column":28},"end":{"line":62,"column":1}},"line":57},"9":{"name":"(anonymous_9)","decl":{"start":{"line":63,"column":22},"end":{"line":63,"column":23}},"loc":{"start":{"line":63,"column":28},"end":{"line":68,"column":1}},"line":63},"10":{"name":"(anonymous_10)","decl":{"start":{"line":69,"column":22},"end":{"line":69,"column":23}},"loc":{"start":{"line":69,"column":28},"end":{"line":72,"column":1}},"line":69},"11":{"name":"(anonymous_11)","decl":{"start":{"line":73,"column":22},"end":{"line":73,"column":23}},"loc":{"start":{"line":73,"column":28},"end":{"line":75,"column":1}},"line":73}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"routes.js","sourceRoot":"","sources":["routes.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Routes\n|--------------------------------------------------------------------------\n|\n| This file is dedicated for defining HTTP routes. A single file is enough\n| for majority of projects, however you can define routes in different\n| files and just make sure to import them inside this file. For example\n|\n| Define routes in following two files\n|  start/routes/cart.ts\n|  start/routes/customer.ts\n|\n| and then import them inside `start/routes.ts` as follows\n|\n| import './routes/cart'\n| import './routes/customer'\n|\n*/\n\nimport Route from '@ioc:Adonis/Core/Route'\n\nRoute.get('/', async () => {\n  return { hello: 'world' }\n})\n\nRoute.group(() => { //Routes for User\n  Route.post('/loginByPhone', 'UsersController.loginByPhone')\n  Route.post('/loginByEmail', 'UsersController.loginByEmail')\n  Route.get('/getUsers', 'UsersController.getUsers').middleware(['auth', 'admin'])\n  Route.get('/getUserByEmail/:email', 'UsersController.getUserByEmail').middleware(['auth', 'admin'])\n  Route.delete('/deleteUser/:id', 'UsersController.deleteUserByid').middleware(['auth', 'admin'])\n}).prefix('api/hastaTuCasa')\n\nRoute.group(() => {//Routes for Admin\n  Route.post('/createAdmin', 'AdminsController.createAdmin')\n}).prefix('api/hastaTuCasa')\n\nRoute.group(() => {//Routes for Client\n  Route.post('/createClient', 'ClientsController.createClient')\n  Route.get('/getClients', 'ClientsController.getClients')\n  Route.get('/getClientByEmail/:email', 'ClientsController.getClientByEmail')\n  Route.put('/updateClient/:id', 'ClientsController.updateClientById')\n  Route.post('/makeRequest', 'ClientsController.makeRequest')\n  Route.get('/seeMyRequests', 'ClientsController.seeMyRequests')\n  Route.put('/cancelPurchase/*', 'ClientsController.cancelPurchase')\n  Route.get('/addFavoriteOffer/:offer', 'ClientsController.addFavoriteOffer')\n  Route.get('/getFavoriteOffers', 'ClientsController.getFavoriteOffers')\n  Route.post('/rateOffer/*', 'ClientsController.rateOffer')\n  Route.post('/commentOffer/:offer', 'ClientsController.commentOffer')\n}).prefix('api/hastaTuCasa/client').middleware(['auth', 'client'])\n\nRoute.group(() => {//Routes for ServiceProvider\n  Route.post('/createServiceProvider', 'ServiceProvidersController.createServiceProvider')\n  Route.get('/getServiceProviders', 'ServiceProvidersController.getServiceProviders')\n  Route.get('/getServiceProviderByEmail/:email', 'ServiceProvidersController.getServiceProviderByEmail')\n  Route.put('/updateServiceProvider/:id', 'ServiceProvidersController.updateServiceProviderById')\n  Route.get('/seeMyRequests', 'ServiceProvidersController.seeMyRequests')\n  Route.get('/seeMyOffers', 'ServiceProvidersController.seeMyOffers')\n  Route.put('/acceptPurchase/*', 'ServiceProvidersController.acceptPurchase')\n  Route.put('/rejectPurchase/*', 'ServiceProvidersController.rejectPurchase')\n}).prefix('api/hastaTuCasa').middleware(['auth', 'serviceProvider'])\n\nRoute.group(() => {//Routes for Service\n  Route.post('/createService', 'ServicesController.createService').middleware('admin')\n  Route.get('/getServices', 'ServicesController.getServices')\n  Route.get('/getServiceByName/:name', 'ServicesController.getServiceByName')\n  Route.put('/updateService/:id', 'ServicesController.updateServiceById').middleware('admin')\n  Route.delete('/deleteService/:id', 'ServicesController.deleteServiceById').middleware('admin')\n}).prefix('api/hastaTuCasa').middleware('auth')\n\nRoute.group(() => {//Routes for Offer\n  Route.post('/createOffer', 'OffersController.createOffer').middleware('serviceProvider')\n  Route.get('/getOffers', 'OffersController.getOffers')\n  Route.get('/getOfferById/:id', 'OffersController.getOfferById')\n  Route.put('/updateOffer/:id', 'OffersController.updateOfferById').middleware('serviceProvider')\n  Route.delete('/deleteOffer/:id', 'OffersController.deleteOfferById').middleware('serviceProvider')\n}).prefix('api/hastaTuCasa').middleware('auth')\n\nRoute.group(() => {//Routes for Requests\n  Route.get('/getRequests', 'RequestsController.getRequests')\n  Route.get('/getRequestByCode/:code', 'RequestsController.getRequestByCode')\n  Route.get('/getRequestByClient/:client', 'RequestsController.getRequestByClient')\n  Route.get('/getOffersByRequest/:code', 'RequestsController.getOffersByRequest')\n}).prefix('api/hastaTuCasa').middleware(['auth', 'admin'])\n\nRoute.group(() => {//Routes for Purchases\n  Route.get('/getPurchases', 'PurchasesController.getPurchases')\n  Route.get('/getPurchaseById/:id', 'PurchasesController.getPurchaseById')\n  Route.get('/getPurchaseByState/:state', 'PurchasesController.getPurchaseByState')\n  Route.get('/getBillPurchase/:id', 'PurchasesController.getBillPurchase')\n}).prefix('api/hastaTuCasa').middleware(['auth', 'admin'])\n\nRoute.group(() => {//Routes for Bills\n  Route.get('/getBills', 'BillsController.getBills')\n  Route.get('/getBillByPurchase/:purchase', 'BillsController.getBillByPurchase')\n}).prefix('api/hastaTuCasa').middleware(['auth', 'admin'])\n\nRoute.group(() => {//Routes for Ratings\n  Route.get('/getRatings', 'RatingsController.getRatings')\n}).prefix('api/hastaTuCasa').middleware('auth')"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ba46c5b62bb07b26834a448e21cdd0d0b42d4223","contentHash":"068b6b209a7c04213438efd4e006ef14351f54c941ed20c790af0adef8135c45"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\start\\kernel.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\start\\kernel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":17},"end":{"line":29,"column":85}},"28":{"start":{"line":30,"column":0},"end":{"line":32,"column":3}},"29":{"start":{"line":31,"column":10},"end":{"line":31,"column":109}},"30":{"start":{"line":31,"column":39},"end":{"line":31,"column":108}},"31":{"start":{"line":33,"column":0},"end":{"line":38,"column":3}},"32":{"start":{"line":34,"column":16},"end":{"line":34,"column":115}},"33":{"start":{"line":34,"column":45},"end":{"line":34,"column":114}},"34":{"start":{"line":35,"column":17},"end":{"line":35,"column":120}},"35":{"start":{"line":35,"column":46},"end":{"line":35,"column":119}},"36":{"start":{"line":36,"column":18},"end":{"line":36,"column":122}},"37":{"start":{"line":36,"column":47},"end":{"line":36,"column":121}},"38":{"start":{"line":37,"column":27},"end":{"line":37,"column":140}},"39":{"start":{"line":37,"column":56},"end":{"line":37,"column":139}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":10},"end":{"line":31,"column":109}},"line":31},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":33},"end":{"line":31,"column":34}},"loc":{"start":{"line":31,"column":39},"end":{"line":31,"column":108}},"line":31},"9":{"name":"(anonymous_9)","decl":{"start":{"line":34,"column":10},"end":{"line":34,"column":11}},"loc":{"start":{"line":34,"column":16},"end":{"line":34,"column":115}},"line":34},"10":{"name":"(anonymous_10)","decl":{"start":{"line":34,"column":39},"end":{"line":34,"column":40}},"loc":{"start":{"line":34,"column":45},"end":{"line":34,"column":114}},"line":34},"11":{"name":"(anonymous_11)","decl":{"start":{"line":35,"column":11},"end":{"line":35,"column":12}},"loc":{"start":{"line":35,"column":17},"end":{"line":35,"column":120}},"line":35},"12":{"name":"(anonymous_12)","decl":{"start":{"line":35,"column":40},"end":{"line":35,"column":41}},"loc":{"start":{"line":35,"column":46},"end":{"line":35,"column":119}},"line":35},"13":{"name":"(anonymous_13)","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":13}},"loc":{"start":{"line":36,"column":18},"end":{"line":36,"column":122}},"line":36},"14":{"name":"(anonymous_14)","decl":{"start":{"line":36,"column":41},"end":{"line":36,"column":42}},"loc":{"start":{"line":36,"column":47},"end":{"line":36,"column":121}},"line":36},"15":{"name":"(anonymous_15)","decl":{"start":{"line":37,"column":21},"end":{"line":37,"column":22}},"loc":{"start":{"line":37,"column":27},"end":{"line":37,"column":140}},"line":37},"16":{"name":"(anonymous_16)","decl":{"start":{"line":37,"column":50},"end":{"line":37,"column":51}},"loc":{"start":{"line":37,"column":56},"end":{"line":37,"column":139}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":198,"13":0,"14":1,"15":376,"16":178,"17":198,"18":198,"19":198,"20":0,"21":0,"22":198,"23":198,"24":1,"25":1,"26":1,"27":1,"28":1,"29":198,"30":198,"31":1,"32":93,"33":93,"34":28,"35":28,"36":29,"37":29,"38":28,"39":28},"f":{"0":0,"1":0,"2":0,"3":198,"4":0,"5":376,"6":1,"7":198,"8":198,"9":93,"10":93,"11":28,"12":28,"13":29,"14":29,"15":28,"16":28},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[178,198],"12":[376,376],"13":[198,0],"14":[0,0],"15":[0,0],"16":[1,1,1],"17":[0,1],"18":[1,1]},"inputSourceMap":{"version":3,"file":"kernel.js","sourceRoot":"","sources":["kernel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,sFAA4C;AAW5C,gBAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;IACzB,GAAG,EAAE,oGAAsC;CAC5C,CAAC,CAAA;AAkBF,gBAAM,CAAC,UAAU,CAAC,aAAa,CAAC;IAC9B,IAAI,EAAE,GAAG,EAAE,yEAAQ,wBAAwB,GAAC;IAC5C,KAAK,EAAE,GAAG,EAAE,yEAAQ,4BAA4B,GAAC;IACjD,MAAM,EAAE,GAAG,EAAE,yEAAQ,6BAA6B,GAAC;IACnD,eAAe,EAAE,GAAG,EAAE,yEAAQ,sCAAsC,GAAC;CACtE,CAAC,CAAA","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Application middleware\n|--------------------------------------------------------------------------\n|\n| This file is used to define middleware for HTTP requests. You can register\n| middleware as a `closure` or an IoC container binding. The bindings are\n| preferred, since they keep this file clean.\n|\n*/\n\nimport Server from '@ioc:Adonis/Core/Server'\n\n/*\n|--------------------------------------------------------------------------\n| Global middleware\n|--------------------------------------------------------------------------\n|\n| An array of global middleware, that will be executed in the order they\n| are defined for every HTTP requests.\n|\n*/\nServer.middleware.register([\n  () => import('@ioc:Adonis/Core/BodyParser'),\n])\n\n/*\n|--------------------------------------------------------------------------\n| Named middleware\n|--------------------------------------------------------------------------\n|\n| Named middleware are defined as key-value pair. The value is the namespace\n| or middleware function and key is the alias. Later you can use these\n| alias on individual routes. For example:\n|\n| { auth: () => import('App/Middleware/Auth') }\n|\n| and then use it as follows\n|\n| Route.get('dashboard', 'UserController.dashboard').middleware('auth')\n|\n*/\nServer.middleware.registerNamed({\n  auth: () => import('App/Middleware/AuthJwt'),\n  admin: () => import('App/Middleware/VerifyAdmin'),\n  client: () => import('App/Middleware/VerifyClient'),\n  serviceProvider: () => import('App/Middleware/VerifyServiceProvider')\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e6f22405f901f555128732a4b9fa08ab00362a2c","contentHash":"f94de2fba28f57c2dc85d75cab63917f43dc3008d59212022f379e2303740062"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\UsersController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\UsersController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":63}},"6":{"start":{"line":9,"column":14},"end":{"line":9,"column":79}},"7":{"start":{"line":12,"column":8},"end":{"line":46,"column":9}},"8":{"start":{"line":13,"column":12},"end":{"line":18,"column":13}},"9":{"start":{"line":14,"column":16},"end":{"line":17,"column":18}},"10":{"start":{"line":19,"column":12},"end":{"line":24,"column":13}},"11":{"start":{"line":20,"column":16},"end":{"line":23,"column":18}},"12":{"start":{"line":25,"column":25},"end":{"line":25,"column":58}},"13":{"start":{"line":26,"column":12},"end":{"line":26,"column":67}},"14":{"start":{"line":27,"column":12},"end":{"line":35,"column":15}},"15":{"start":{"line":36,"column":12},"end":{"line":39,"column":14}},"16":{"start":{"line":42,"column":12},"end":{"line":45,"column":14}},"17":{"start":{"line":49,"column":8},"end":{"line":91,"column":9}},"18":{"start":{"line":50,"column":40},"end":{"line":50,"column":53}},"19":{"start":{"line":51,"column":25},"end":{"line":51,"column":62}},"20":{"start":{"line":52,"column":12},"end":{"line":57,"column":13}},"21":{"start":{"line":53,"column":16},"end":{"line":56,"column":19}},"22":{"start":{"line":58,"column":34},"end":{"line":58,"column":89}},"23":{"start":{"line":59,"column":12},"end":{"line":64,"column":13}},"24":{"start":{"line":60,"column":16},"end":{"line":63,"column":19}},"25":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"26":{"start":{"line":66,"column":16},"end":{"line":69,"column":19}},"27":{"start":{"line":71,"column":28},"end":{"line":76,"column":13}},"28":{"start":{"line":77,"column":26},"end":{"line":77,"column":51}},"29":{"start":{"line":78,"column":12},"end":{"line":84,"column":15}},"30":{"start":{"line":87,"column":12},"end":{"line":90,"column":15}},"31":{"start":{"line":94,"column":8},"end":{"line":136,"column":9}},"32":{"start":{"line":95,"column":40},"end":{"line":95,"column":53}},"33":{"start":{"line":96,"column":25},"end":{"line":96,"column":62}},"34":{"start":{"line":97,"column":12},"end":{"line":102,"column":13}},"35":{"start":{"line":98,"column":16},"end":{"line":101,"column":19}},"36":{"start":{"line":103,"column":34},"end":{"line":103,"column":89}},"37":{"start":{"line":104,"column":12},"end":{"line":109,"column":13}},"38":{"start":{"line":105,"column":16},"end":{"line":108,"column":19}},"39":{"start":{"line":110,"column":12},"end":{"line":115,"column":13}},"40":{"start":{"line":111,"column":16},"end":{"line":114,"column":19}},"41":{"start":{"line":116,"column":28},"end":{"line":121,"column":13}},"42":{"start":{"line":122,"column":26},"end":{"line":122,"column":51}},"43":{"start":{"line":123,"column":12},"end":{"line":129,"column":15}},"44":{"start":{"line":132,"column":12},"end":{"line":135,"column":15}},"45":{"start":{"line":139,"column":8},"end":{"line":152,"column":9}},"46":{"start":{"line":140,"column":26},"end":{"line":140,"column":165}},"47":{"start":{"line":141,"column":12},"end":{"line":145,"column":15}},"48":{"start":{"line":148,"column":12},"end":{"line":151,"column":15}},"49":{"start":{"line":155,"column":8},"end":{"line":173,"column":9}},"50":{"start":{"line":156,"column":25},"end":{"line":156,"column":181}},"51":{"start":{"line":157,"column":12},"end":{"line":162,"column":13}},"52":{"start":{"line":158,"column":16},"end":{"line":161,"column":19}},"53":{"start":{"line":163,"column":12},"end":{"line":166,"column":15}},"54":{"start":{"line":169,"column":12},"end":{"line":172,"column":15}},"55":{"start":{"line":176,"column":8},"end":{"line":203,"column":9}},"56":{"start":{"line":177,"column":25},"end":{"line":177,"column":60}},"57":{"start":{"line":178,"column":32},"end":{"line":178,"column":69}},"58":{"start":{"line":179,"column":12},"end":{"line":184,"column":13}},"59":{"start":{"line":180,"column":16},"end":{"line":183,"column":18}},"60":{"start":{"line":185,"column":25},"end":{"line":185,"column":58}},"61":{"start":{"line":186,"column":12},"end":{"line":186,"column":29}},"62":{"start":{"line":187,"column":12},"end":{"line":187,"column":31}},"63":{"start":{"line":188,"column":12},"end":{"line":188,"column":72}},"64":{"start":{"line":189,"column":12},"end":{"line":189,"column":35}},"65":{"start":{"line":190,"column":12},"end":{"line":190,"column":45}},"66":{"start":{"line":191,"column":12},"end":{"line":191,"column":31}},"67":{"start":{"line":192,"column":12},"end":{"line":192,"column":30}},"68":{"start":{"line":193,"column":12},"end":{"line":196,"column":14}},"69":{"start":{"line":199,"column":12},"end":{"line":202,"column":14}},"70":{"start":{"line":206,"column":8},"end":{"line":220,"column":9}},"71":{"start":{"line":207,"column":25},"end":{"line":207,"column":67}},"72":{"start":{"line":208,"column":12},"end":{"line":208,"column":31}},"73":{"start":{"line":209,"column":12},"end":{"line":209,"column":30}},"74":{"start":{"line":210,"column":12},"end":{"line":213,"column":15}},"75":{"start":{"line":216,"column":12},"end":{"line":219,"column":15}},"76":{"start":{"line":223,"column":24},"end":{"line":225,"column":9}},"77":{"start":{"line":226,"column":8},"end":{"line":226,"column":98}},"78":{"start":{"line":229,"column":22},"end":{"line":229,"column":55}},"79":{"start":{"line":230,"column":8},"end":{"line":234,"column":11}},"80":{"start":{"line":231,"column":12},"end":{"line":233,"column":13}},"81":{"start":{"line":232,"column":16},"end":{"line":232,"column":49}},"82":{"start":{"line":235,"column":8},"end":{"line":235,"column":20}},"83":{"start":{"line":238,"column":22},"end":{"line":238,"column":55}},"84":{"start":{"line":239,"column":24},"end":{"line":239,"column":125}},"85":{"start":{"line":240,"column":8},"end":{"line":240,"column":23}},"86":{"start":{"line":243,"column":21},"end":{"line":243,"column":68}},"87":{"start":{"line":244,"column":8},"end":{"line":244,"column":20}},"88":{"start":{"line":247,"column":21},"end":{"line":247,"column":68}},"89":{"start":{"line":248,"column":8},"end":{"line":248,"column":20}},"90":{"start":{"line":251,"column":0},"end":{"line":251,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":84},"end":{"line":47,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":46},"end":{"line":92,"column":5}},"line":48},"3":{"name":"(anonymous_3)","decl":{"start":{"line":93,"column":4},"end":{"line":93,"column":5}},"loc":{"start":{"line":93,"column":46},"end":{"line":137,"column":5}},"line":93},"4":{"name":"(anonymous_4)","decl":{"start":{"line":138,"column":4},"end":{"line":138,"column":5}},"loc":{"start":{"line":138,"column":33},"end":{"line":153,"column":5}},"line":138},"5":{"name":"(anonymous_5)","decl":{"start":{"line":154,"column":4},"end":{"line":154,"column":5}},"loc":{"start":{"line":154,"column":47},"end":{"line":174,"column":5}},"line":154},"6":{"name":"(anonymous_6)","decl":{"start":{"line":175,"column":4},"end":{"line":175,"column":5}},"loc":{"start":{"line":175,"column":86},"end":{"line":204,"column":5}},"line":175},"7":{"name":"(anonymous_7)","decl":{"start":{"line":205,"column":4},"end":{"line":205,"column":5}},"loc":{"start":{"line":205,"column":47},"end":{"line":221,"column":5}},"line":205},"8":{"name":"(anonymous_8)","decl":{"start":{"line":222,"column":4},"end":{"line":222,"column":5}},"loc":{"start":{"line":222,"column":25},"end":{"line":227,"column":5}},"line":222},"9":{"name":"(anonymous_9)","decl":{"start":{"line":228,"column":4},"end":{"line":228,"column":5}},"loc":{"start":{"line":228,"column":44},"end":{"line":236,"column":5}},"line":228},"10":{"name":"(anonymous_10)","decl":{"start":{"line":230,"column":82},"end":{"line":230,"column":83}},"loc":{"start":{"line":230,"column":93},"end":{"line":234,"column":9}},"line":230},"11":{"name":"(anonymous_11)","decl":{"start":{"line":237,"column":4},"end":{"line":237,"column":5}},"loc":{"start":{"line":237,"column":43},"end":{"line":241,"column":5}},"line":237},"12":{"name":"(anonymous_12)","decl":{"start":{"line":242,"column":4},"end":{"line":242,"column":5}},"loc":{"start":{"line":242,"column":41},"end":{"line":245,"column":5}},"line":242},"13":{"name":"(anonymous_13)","decl":{"start":{"line":246,"column":4},"end":{"line":246,"column":5}},"loc":{"start":{"line":246,"column":41},"end":{"line":249,"column":5}},"line":246}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":12},"end":{"line":18,"column":13}},"type":"if","locations":[{"start":{"line":13,"column":12},"end":{"line":18,"column":13}},{"start":{"line":13,"column":12},"end":{"line":18,"column":13}}],"line":13},"4":{"loc":{"start":{"line":19,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":24,"column":13}},{"start":{"line":19,"column":12},"end":{"line":24,"column":13}}],"line":19},"5":{"loc":{"start":{"line":52,"column":12},"end":{"line":57,"column":13}},"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":57,"column":13}},{"start":{"line":52,"column":12},"end":{"line":57,"column":13}}],"line":52},"6":{"loc":{"start":{"line":59,"column":12},"end":{"line":64,"column":13}},"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":64,"column":13}},{"start":{"line":59,"column":12},"end":{"line":64,"column":13}}],"line":59},"7":{"loc":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},{"start":{"line":65,"column":12},"end":{"line":70,"column":13}}],"line":65},"8":{"loc":{"start":{"line":97,"column":12},"end":{"line":102,"column":13}},"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":102,"column":13}},{"start":{"line":97,"column":12},"end":{"line":102,"column":13}}],"line":97},"9":{"loc":{"start":{"line":104,"column":12},"end":{"line":109,"column":13}},"type":"if","locations":[{"start":{"line":104,"column":12},"end":{"line":109,"column":13}},{"start":{"line":104,"column":12},"end":{"line":109,"column":13}}],"line":104},"10":{"loc":{"start":{"line":110,"column":12},"end":{"line":115,"column":13}},"type":"if","locations":[{"start":{"line":110,"column":12},"end":{"line":115,"column":13}},{"start":{"line":110,"column":12},"end":{"line":115,"column":13}}],"line":110},"11":{"loc":{"start":{"line":157,"column":12},"end":{"line":162,"column":13}},"type":"if","locations":[{"start":{"line":157,"column":12},"end":{"line":162,"column":13}},{"start":{"line":157,"column":12},"end":{"line":162,"column":13}}],"line":157},"12":{"loc":{"start":{"line":179,"column":12},"end":{"line":184,"column":13}},"type":"if","locations":[{"start":{"line":179,"column":12},"end":{"line":184,"column":13}},{"start":{"line":179,"column":12},"end":{"line":184,"column":13}}],"line":179},"13":{"loc":{"start":{"line":179,"column":16},"end":{"line":179,"column":57}},"type":"binary-expr","locations":[{"start":{"line":179,"column":16},"end":{"line":179,"column":27}},{"start":{"line":179,"column":31},"end":{"line":179,"column":57}}],"line":179},"14":{"loc":{"start":{"line":231,"column":12},"end":{"line":233,"column":13}},"type":"if","locations":[{"start":{"line":231,"column":12},"end":{"line":233,"column":13}},{"start":{"line":231,"column":12},"end":{"line":233,"column":13}}],"line":231}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":7,"8":7,"9":2,"10":4,"11":1,"12":3,"13":3,"14":3,"15":3,"16":1,"17":6,"18":6,"19":6,"20":4,"21":1,"22":3,"23":3,"24":1,"25":2,"26":1,"27":1,"28":1,"29":1,"30":2,"31":96,"32":96,"33":96,"34":96,"35":1,"36":95,"37":95,"38":1,"39":94,"40":1,"41":93,"42":93,"43":93,"44":0,"45":1,"46":1,"47":1,"48":0,"49":2,"50":2,"51":2,"52":1,"53":1,"54":0,"55":4,"56":4,"57":4,"58":4,"59":2,"60":2,"61":2,"62":2,"63":2,"64":2,"65":2,"66":2,"67":2,"68":2,"69":0,"70":2,"71":2,"72":1,"73":1,"74":1,"75":1,"76":94,"77":94,"78":92,"79":92,"80":92,"81":0,"82":92,"83":106,"84":106,"85":106,"86":13,"87":10,"88":104,"89":104,"90":1},"f":{"0":4,"1":7,"2":6,"3":96,"4":1,"5":2,"6":4,"7":2,"8":94,"9":92,"10":92,"11":106,"12":13,"13":104},"b":{"0":[1,1,1],"1":[1,3],"2":[4,4],"3":[2,4],"4":[1,3],"5":[1,3],"6":[1,2],"7":[1,1],"8":[1,95],"9":[1,94],"10":[1,93],"11":[1,1],"12":[2,2],"13":[4,4],"14":[0,92]},"inputSourceMap":{"version":3,"file":"UsersController.js","sourceRoot":"","sources":["UsersController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport User from 'App/Models/User'\nimport bcryptjs from 'bcryptjs'\nimport jwt from 'jsonwebtoken'\nimport Env from '@ioc:Adonis/Core/Env'\n\n\nexport default class UsersController {\n    \n    //This function only is called from Clients and ServiceProviders Controller\n    public async createUser({phone,  name, email, password, address, bank_account, role}) {\n        try{\n            if(await this.validateUserByPhone(phone)){\n                return {\n                    state: false,\n                    message: 'Already exists a user with this phone number'\n                }\n            }\n\n            if(await this.validateUserByEmail(email)){\n                return {\n                    state: false,\n                    message: 'Already exists a user with this email'\n                }\n            }\n\n            const salt = bcryptjs.genSaltSync(5)\n            password = bcryptjs.hashSync(password, salt);\n\n            await User.create({//Create user\n                phone,\n                name,\n                email,\n                password,\n                address,\n                bank_account,\n                role\n            })\n\n            return {\n                state: true,\n                message: 'User created successfully'\n            }\n\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }\n        }\n    }\n\n    public async loginByPhone({request, response}: HttpContextContract): Promise<void>{\n        try{\n            const {phone, password} = request.all()\n            const user: any = await this.validateUserByPhone(phone)\n            if(!user){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Incorrect password or phone'\n                })\n            }\n\n            const validPassword:boolean = bcryptjs.compareSync(password, user.password)\n            if(!validPassword){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Incorrect password or phone'\n                })\n            } \n\n            if(!user.state){\n                return response.status(400).json({\n                    state: false,\n                    message: 'This user is inactive'\n                })\n            }\n            \n            const payload = {\n                name: user.name,\n                id: user.id,\n                email: user.email,\n                phone: user.phone\n            }\n\n            const token:string = this.createToken(payload)\n\n            return response.status(200).json({\n                state: true,\n                message: 'Login successfully',\n                name: user.name,\n                email: user.email,\n                token\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async loginByEmail({request, response}: HttpContextContract): Promise<void>{\n        try{\n            const {email, password} = request.all()\n            const user: any = await this.validateUserByEmail(email)\n            if(!user){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Incorrect password or email'\n                })\n            }\n\n            const validPassword:boolean = bcryptjs.compareSync(password, user.password)\n            if(!validPassword){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Incorrect password or email'\n                })\n            } \n            \n            if(!user.state){\n                return response.status(400).json({\n                    state: false,\n                    message: 'This user is inactive'\n                })\n            }\n\n            const payload = {\n                name: user.name,\n                id: user.id,\n                email: user.email,\n                phone: user.phone\n            }\n\n            const token:string = this.createToken(payload)\n\n            return response.status(200).json({\n                state: true,\n                message: 'Login successful',\n                name: user.name,\n                email: user.email,\n                token\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n\n    }\n\n    public async getUsers({response}: HttpContextContract):Promise<void> {\n        try{\n            const users: User[] = await User.query().where({state: true}).from('users').select('id', 'name', 'phone', 'email', 'address', 'bank_account', 'role')\n            return response.status(200).json({\n                state: true,\n                message: 'List of all users',\n                users\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getUserByEmail({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const user:User[]  = await User.query().where({email: params.email}).from('users').select('id', 'name', 'phone', 'email', 'address', 'bank_account', 'state', 'role')\n            if(!user[0]){\n                return response.status(400).json({\n                    state:false,\n                    message: 'User not found'\n                })\n            }\n            return response.status(200).json({\n                state: true,\n                user: user[0]\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async updateUserById({id, name, email, password, address, bank_account, state}) {\n        try{\n            //The phone atributte is not going to be updated because it is a foriegn key\n            const user:User = await User.findOrFail(id)\n            const userByEmail:any = await this.validateUserByEmail(email)\n    \n            //If user going to update the email and verify that there isn't other user with them\n            if(userByEmail && userByEmail.id !== user.id){\n                return {\n                    state: false,\n                    message: 'Already exists a user with this email'\n                }\n            }\n\n            const salt = bcryptjs.genSaltSync(5);\n            user.name = name\n            user.email = email\n            user.password = bcryptjs.hashSync(password, salt)\n            user.address = address\n            user.bank_account = bank_account\n            user.state = state\n            await user.save()\n\n            return {\n                state: true,\n                message: 'User updated successfully'\n            }\n\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }\n        }\n    }\n\n    public async deleteUserByid({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const user:any = await User.findOrFail(params.id)\n            user.state = false\n            await user.save()\n            return response.status(200).json({\n                state: true,\n                message: 'User deleted successfully'\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    private createToken(payload: object): string{\n        const options = {\n            expiresIn: '15 mins'\n        }\n        return jwt.sign(payload, Env.get('JWT_SECRET_KEY'), options);\n    }\n\n    public static verifyToken(authorizationHeader:string):boolean {\n        const token:string = authorizationHeader.split(' ')[1];\n        jwt.verify(token, Env.get('JWT_SECRET_KEY'), (error) => {\n            if(error){\n                throw new Error('Token expired');\n            }\n        })\n        return true\n    }\n\n    public static getPayload(authorizationHeader:string):any {\n        const token:string = authorizationHeader.split(' ')[1];\n        const payload:any =  jwt.verify(token, Env.get('JWT_SECRET_KEY'), {complete:true}).payload;\n        return payload\n    }\n\n    private async validateUserByPhone(userPhone: string):Promise<any> {\n        const user:any = await User.findBy('phone', userPhone)\n        return user;\n    }\n\n    private async validateUserByEmail(userEmail: string):Promise<any> {\n        const user:any = await User.findBy('email', userEmail)\n        return user;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0605af3d53b17f0b67e84f6534ca4fc77f630d36","contentHash":"7d3d7e5c3880ca62ebdb5b0e88c10825f9ce9fe730700d6b080c3acb703aa507"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\User.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\User.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":53}},"19":{"start":{"line":19,"column":26},"end":{"line":19,"column":71}},"20":{"start":{"line":20,"column":16},"end":{"line":20,"column":51}},"21":{"start":{"line":23,"column":0},"end":{"line":26,"column":33}},"22":{"start":{"line":27,"column":0},"end":{"line":30,"column":36}},"23":{"start":{"line":31,"column":0},"end":{"line":34,"column":35}},"24":{"start":{"line":35,"column":0},"end":{"line":38,"column":39}},"25":{"start":{"line":39,"column":0},"end":{"line":42,"column":36}},"26":{"start":{"line":43,"column":0},"end":{"line":46,"column":38}},"27":{"start":{"line":47,"column":0},"end":{"line":50,"column":36}},"28":{"start":{"line":51,"column":0},"end":{"line":54,"column":43}},"29":{"start":{"line":55,"column":0},"end":{"line":58,"column":35}},"30":{"start":{"line":59,"column":0},"end":{"line":62,"column":40}},"31":{"start":{"line":63,"column":0},"end":{"line":66,"column":40}},"32":{"start":{"line":67,"column":0},"end":{"line":73,"column":37}},"33":{"start":{"line":68,"column":28},"end":{"line":68,"column":44}},"34":{"start":{"line":74,"column":0},"end":{"line":80,"column":46}},"35":{"start":{"line":75,"column":28},"end":{"line":75,"column":53}},"36":{"start":{"line":81,"column":0},"end":{"line":87,"column":36}},"37":{"start":{"line":82,"column":28},"end":{"line":82,"column":43}},"38":{"start":{"line":88,"column":0},"end":{"line":88,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":68,"column":22},"end":{"line":68,"column":23}},"loc":{"start":{"line":68,"column":28},"end":{"line":68,"column":44}},"line":68},"4":{"name":"(anonymous_4)","decl":{"start":{"line":75,"column":22},"end":{"line":75,"column":23}},"loc":{"start":{"line":75,"column":28},"end":{"line":75,"column":53}},"line":75},"5":{"name":"(anonymous_5)","decl":{"start":{"line":82,"column":22},"end":{"line":82,"column":23}},"loc":{"start":{"line":82,"column":28},"end":{"line":82,"column":43}},"line":82}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":61,"column":30},"end":{"line":61,"column":132}},"type":"cond-expr","locations":[{"start":{"line":61,"column":121},"end":{"line":61,"column":123}},{"start":{"line":61,"column":126},"end":{"line":61,"column":132}}],"line":61},"17":{"loc":{"start":{"line":61,"column":43},"end":{"line":61,"column":102}},"type":"binary-expr","locations":[{"start":{"line":61,"column":43},"end":{"line":61,"column":82}},{"start":{"line":61,"column":86},"end":{"line":61,"column":102}}],"line":61},"18":{"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":132}},"type":"cond-expr","locations":[{"start":{"line":65,"column":121},"end":{"line":65,"column":123}},{"start":{"line":65,"column":126},"end":{"line":65,"column":132}}],"line":65},"19":{"loc":{"start":{"line":65,"column":43},"end":{"line":65,"column":102}},"type":"binary-expr","locations":[{"start":{"line":65,"column":43},"end":{"line":65,"column":82}},{"start":{"line":65,"column":86},"end":{"line":65,"column":102}}],"line":65},"20":{"loc":{"start":{"line":72,"column":30},"end":{"line":72,"column":124}},"type":"cond-expr","locations":[{"start":{"line":72,"column":113},"end":{"line":72,"column":115}},{"start":{"line":72,"column":118},"end":{"line":72,"column":124}}],"line":72},"21":{"loc":{"start":{"line":72,"column":43},"end":{"line":72,"column":94}},"type":"binary-expr","locations":[{"start":{"line":72,"column":43},"end":{"line":72,"column":78}},{"start":{"line":72,"column":82},"end":{"line":72,"column":94}}],"line":72},"22":{"loc":{"start":{"line":79,"column":30},"end":{"line":79,"column":124}},"type":"cond-expr","locations":[{"start":{"line":79,"column":113},"end":{"line":79,"column":115}},{"start":{"line":79,"column":118},"end":{"line":79,"column":124}}],"line":79},"23":{"loc":{"start":{"line":79,"column":43},"end":{"line":79,"column":94}},"type":"binary-expr","locations":[{"start":{"line":79,"column":43},"end":{"line":79,"column":78}},{"start":{"line":79,"column":82},"end":{"line":79,"column":94}}],"line":79},"24":{"loc":{"start":{"line":86,"column":30},"end":{"line":86,"column":124}},"type":"cond-expr","locations":[{"start":{"line":86,"column":113},"end":{"line":86,"column":115}},{"start":{"line":86,"column":118},"end":{"line":86,"column":124}}],"line":86},"25":{"loc":{"start":{"line":86,"column":43},"end":{"line":86,"column":94}},"type":"binary-expr","locations":[{"start":{"line":86,"column":43},"end":{"line":86,"column":78}},{"start":{"line":86,"column":82},"end":{"line":86,"column":94}}],"line":86}},"s":{"0":1,"1":14,"2":14,"3":14,"4":14,"5":0,"6":0,"7":0,"8":0,"9":14,"10":1,"11":14,"12":14,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":7,"34":1,"35":7,"36":1,"37":0,"38":1},"f":{"0":14,"1":14,"2":3,"3":7,"4":7,"5":0},"b":{"0":[1,1,1],"1":[0,14],"2":[0,14],"3":[14,0],"4":[14,14],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[14,14,0],"10":[1,1,1],"11":[14,0],"12":[14,14],"13":[1,1,1],"14":[3,0],"15":[3,3],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0]},"inputSourceMap":{"version":3,"file":"User.js","sourceRoot":"","sources":["User.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyE;AACzE,sDAA6B;AAC7B,wEAA+C;AAC/C,oDAA2B;AAE3B,MAAqB,IAAK,SAAQ,eAAS;CA+B1C;AA9B8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;gCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;mCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;kCAAoB;AACnB;IAAT,IAAA,YAAM,GAAE;;sCAAwB;AACvB;IAAT,IAAA,YAAM,GAAE;;mCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;qCAAuB;AACtB;IAAT,IAAA,YAAM,GAAE;;mCAAsB;AACrB;IAAT,IAAA,YAAM,GAAE;;0CAA4B;AAC3B;IAAT,IAAA,YAAM,GAAE;;kCAAoB;AAEU;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;uCAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAMnF;IAJC,IAAA,YAAM,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACpB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,OAAO;KACpB,CAAC;kDACa,YAAM,oBAAN,YAAM;oCAAe;AAMpC;IAJC,IAAA,YAAM,EAAC,GAAG,EAAE,CAAC,yBAAe,EAAE;QAC7B,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,OAAO;KACpB,CAAC;kDACsB,YAAM,oBAAN,YAAM;6CAAwB;AAMtD;IAJC,IAAA,YAAM,EAAC,GAAG,EAAE,CAAC,eAAK,EAAE;QACnB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,OAAO;KACpB,CAAC;kDACY,YAAM,oBAAN,YAAM;mCAAc;AA9BpC,uBA+BC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, HasOne, column, hasOne } from '@ioc:Adonis/Lucid/Orm'\nimport Client from './Client'\nimport ServiceProvider from './ServiceProvider'\nimport Admin from './Admin'\n\nexport default class User extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public phone: string\n  @column() public name: string\n  @column() public password: string\n  @column() public email: string\n  @column() public address: string\n  @column() public state: boolean\n  @column() public bank_account: string\n  @column() public role: string\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @hasOne(() => Client, {\n    localKey: 'phone',\n    foreignKey: 'phone'\n  })\n  public client: HasOne<typeof Client>\n\n  @hasOne(() => ServiceProvider, {\n    localKey: 'phone',\n    foreignKey: 'phone'\n  })\n  public serviceProvider: HasOne<typeof ServiceProvider>\n\n  @hasOne(() => Admin, {\n    localKey: 'phone',\n    foreignKey: 'phone'\n  })\n  public admin: HasOne<typeof Admin>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97e9d3d0124f1906df86d0a6fb8f88431ef04c61","contentHash":"f22cf0b864ca9f1a091497118c4e4470b68fd22127863847c6756e7f33202981"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Client.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Client.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":19,"column":18},"end":{"line":19,"column":55}},"20":{"start":{"line":20,"column":17},"end":{"line":20,"column":53}},"21":{"start":{"line":21,"column":16},"end":{"line":21,"column":51}},"22":{"start":{"line":24,"column":0},"end":{"line":27,"column":35}},"23":{"start":{"line":28,"column":0},"end":{"line":31,"column":38}},"24":{"start":{"line":32,"column":0},"end":{"line":35,"column":47}},"25":{"start":{"line":36,"column":0},"end":{"line":39,"column":38}},"26":{"start":{"line":40,"column":0},"end":{"line":43,"column":42}},"27":{"start":{"line":44,"column":0},"end":{"line":47,"column":42}},"28":{"start":{"line":48,"column":0},"end":{"line":54,"column":37}},"29":{"start":{"line":49,"column":31},"end":{"line":49,"column":45}},"30":{"start":{"line":55,"column":0},"end":{"line":64,"column":39}},"31":{"start":{"line":56,"column":32},"end":{"line":56,"column":47}},"32":{"start":{"line":65,"column":0},"end":{"line":71,"column":41}},"33":{"start":{"line":66,"column":29},"end":{"line":66,"column":46}},"34":{"start":{"line":72,"column":0},"end":{"line":78,"column":40}},"35":{"start":{"line":73,"column":29},"end":{"line":73,"column":45}},"36":{"start":{"line":79,"column":0},"end":{"line":79,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":49,"column":25},"end":{"line":49,"column":26}},"loc":{"start":{"line":49,"column":31},"end":{"line":49,"column":45}},"line":49},"4":{"name":"(anonymous_4)","decl":{"start":{"line":56,"column":26},"end":{"line":56,"column":27}},"loc":{"start":{"line":56,"column":32},"end":{"line":56,"column":47}},"line":56},"5":{"name":"(anonymous_5)","decl":{"start":{"line":66,"column":23},"end":{"line":66,"column":24}},"loc":{"start":{"line":66,"column":29},"end":{"line":66,"column":46}},"line":66},"6":{"name":"(anonymous_6)","decl":{"start":{"line":73,"column":23},"end":{"line":73,"column":24}},"loc":{"start":{"line":73,"column":29},"end":{"line":73,"column":45}},"line":73}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":42,"column":30},"end":{"line":42,"column":132}},"type":"cond-expr","locations":[{"start":{"line":42,"column":121},"end":{"line":42,"column":123}},{"start":{"line":42,"column":126},"end":{"line":42,"column":132}}],"line":42},"17":{"loc":{"start":{"line":42,"column":43},"end":{"line":42,"column":102}},"type":"binary-expr","locations":[{"start":{"line":42,"column":43},"end":{"line":42,"column":82}},{"start":{"line":42,"column":86},"end":{"line":42,"column":102}}],"line":42},"18":{"loc":{"start":{"line":46,"column":30},"end":{"line":46,"column":132}},"type":"cond-expr","locations":[{"start":{"line":46,"column":121},"end":{"line":46,"column":123}},{"start":{"line":46,"column":126},"end":{"line":46,"column":132}}],"line":46},"19":{"loc":{"start":{"line":46,"column":43},"end":{"line":46,"column":102}},"type":"binary-expr","locations":[{"start":{"line":46,"column":43},"end":{"line":46,"column":82}},{"start":{"line":46,"column":86},"end":{"line":46,"column":102}}],"line":46},"20":{"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":130}},"type":"cond-expr","locations":[{"start":{"line":53,"column":119},"end":{"line":53,"column":121}},{"start":{"line":53,"column":124},"end":{"line":53,"column":130}}],"line":53},"21":{"loc":{"start":{"line":53,"column":43},"end":{"line":53,"column":100}},"type":"binary-expr","locations":[{"start":{"line":53,"column":43},"end":{"line":53,"column":81}},{"start":{"line":53,"column":85},"end":{"line":53,"column":100}}],"line":53},"22":{"loc":{"start":{"line":63,"column":30},"end":{"line":63,"column":132}},"type":"cond-expr","locations":[{"start":{"line":63,"column":121},"end":{"line":63,"column":123}},{"start":{"line":63,"column":126},"end":{"line":63,"column":132}}],"line":63},"23":{"loc":{"start":{"line":63,"column":43},"end":{"line":63,"column":102}},"type":"binary-expr","locations":[{"start":{"line":63,"column":43},"end":{"line":63,"column":82}},{"start":{"line":63,"column":86},"end":{"line":63,"column":102}}],"line":63},"24":{"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":126}},"type":"cond-expr","locations":[{"start":{"line":70,"column":115},"end":{"line":70,"column":117}},{"start":{"line":70,"column":120},"end":{"line":70,"column":126}}],"line":70},"25":{"loc":{"start":{"line":70,"column":43},"end":{"line":70,"column":96}},"type":"binary-expr","locations":[{"start":{"line":70,"column":43},"end":{"line":70,"column":79}},{"start":{"line":70,"column":83},"end":{"line":70,"column":96}}],"line":70},"26":{"loc":{"start":{"line":77,"column":30},"end":{"line":77,"column":126}},"type":"cond-expr","locations":[{"start":{"line":77,"column":115},"end":{"line":77,"column":117}},{"start":{"line":77,"column":120},"end":{"line":77,"column":126}}],"line":77},"27":{"loc":{"start":{"line":77,"column":43},"end":{"line":77,"column":96}},"type":"binary-expr","locations":[{"start":{"line":77,"column":43},"end":{"line":77,"column":79}},{"start":{"line":77,"column":83},"end":{"line":77,"column":96}}],"line":77}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":0,"6":0,"7":0,"8":0,"9":10,"10":1,"11":10,"12":10,"13":1,"14":4,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":1,"31":4,"32":1,"33":3,"34":1,"35":0,"36":1},"f":{"0":10,"1":10,"2":4,"3":0,"4":4,"5":3,"6":0},"b":{"0":[1,1,1],"1":[0,10],"2":[0,10],"3":[10,0],"4":[10,10],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[10,10,0],"10":[1,1,1],"11":[10,0],"12":[10,10],"13":[1,1,1],"14":[4,0],"15":[4,4],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0],"26":[0,1],"27":[1,0]},"inputSourceMap":{"version":3,"file":"Client.js","sourceRoot":"","sources":["Client.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyH;AACzH,kDAAyB;AACzB,wDAA+B;AAC/B,sDAA6B;AAC7B,oDAA2B;AAE3B,MAAqB,MAAO,SAAQ,eAAS;CAmC5C;AAlC8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;kCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;qCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;8CAA8B;AAC7B;IAAT,IAAA,YAAM,GAAE;;qCAAqB;AAES;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;yCAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;yCAAA;AAMnF;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACrB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,OAAO;KACpB,CAAC;kDACW,eAAS,oBAAT,eAAS;oCAAa;AASnC;IAPC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,eAAK,EAAE;QACvB,UAAU,EAAE,iBAAiB;QAC7B,QAAQ,EAAE,OAAO;QACjB,eAAe,EAAE,QAAQ;QACzB,UAAU,EAAE,IAAI;QAChB,sBAAsB,EAAE,OAAO;KAChC,CAAC;kDACa,gBAAU,oBAAV,gBAAU;sCAAc;AAMvC;IAJC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,iBAAO,EAAE;QACtB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,QAAQ;KACrB,CAAC;kDACe,aAAO,oBAAP,aAAO;wCAAgB;AAMxC;IAJC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACrB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,QAAQ;KACrB,CAAC;kDACc,aAAO,oBAAP,aAAO;uCAAe;AAlCxC,yBAmCC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, HasMany, ManyToMany, belongsTo, column, hasMany, manyToMany } from '@ioc:Adonis/Lucid/Orm'\nimport User from './User'\nimport Request from './Request'\nimport Rating from './Rating'\nimport Offer from './Offer'\n\nexport default class Client extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public phone: string\n  @column() public payment_method: string\n  @column() public level: number\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @belongsTo(() => User, {\n    localKey: 'phone',\n    foreignKey: 'phone'\n  })\n  public user: BelongsTo<typeof User>\n\n  @manyToMany(() => Offer, {\n    pivotTable: 'favorite_offers',\n    localKey: 'phone',\n    pivotForeignKey: 'client',\n    relatedKey: 'id',\n    pivotRelatedForeignKey: 'offer'\n  })\n  public offers: ManyToMany<typeof Offer>\n\n  @hasMany(() => Request, {\n    localKey: 'phone',\n    foreignKey: 'client'\n  })\n  public requests: HasMany<typeof Request>\n\n  @hasMany(() => Rating, {\n    localKey: 'phone',\n    foreignKey: 'client'\n  })\n  public ratings: HasMany<typeof Rating>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d48f14df4a945fe0245d935d8757c42425ba5a73","contentHash":"a5cec244ed4f87473010231a21c42fc2cfa90f64c54b9781e044e11f740b3666"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Request.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Request.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":53}},"19":{"start":{"line":19,"column":16},"end":{"line":19,"column":51}},"20":{"start":{"line":20,"column":19},"end":{"line":20,"column":57}},"21":{"start":{"line":23,"column":0},"end":{"line":26,"column":46}},"22":{"start":{"line":27,"column":0},"end":{"line":30,"column":44}},"23":{"start":{"line":31,"column":0},"end":{"line":34,"column":41}},"24":{"start":{"line":35,"column":0},"end":{"line":38,"column":42}},"25":{"start":{"line":39,"column":0},"end":{"line":42,"column":38}},"26":{"start":{"line":43,"column":0},"end":{"line":46,"column":40}},"27":{"start":{"line":47,"column":0},"end":{"line":50,"column":43}},"28":{"start":{"line":51,"column":0},"end":{"line":54,"column":43}},"29":{"start":{"line":55,"column":0},"end":{"line":64,"column":40}},"30":{"start":{"line":56,"column":32},"end":{"line":56,"column":47}},"31":{"start":{"line":65,"column":0},"end":{"line":71,"column":43}},"32":{"start":{"line":66,"column":29},"end":{"line":66,"column":47}},"33":{"start":{"line":72,"column":0},"end":{"line":78,"column":41}},"34":{"start":{"line":73,"column":31},"end":{"line":73,"column":47}},"35":{"start":{"line":79,"column":0},"end":{"line":79,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":56,"column":26},"end":{"line":56,"column":27}},"loc":{"start":{"line":56,"column":32},"end":{"line":56,"column":47}},"line":56},"4":{"name":"(anonymous_4)","decl":{"start":{"line":66,"column":23},"end":{"line":66,"column":24}},"loc":{"start":{"line":66,"column":29},"end":{"line":66,"column":47}},"line":66},"5":{"name":"(anonymous_5)","decl":{"start":{"line":73,"column":25},"end":{"line":73,"column":26}},"loc":{"start":{"line":73,"column":31},"end":{"line":73,"column":47}},"line":73}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":108}},"type":"cond-expr","locations":[{"start":{"line":41,"column":97},"end":{"line":41,"column":99}},{"start":{"line":41,"column":102},"end":{"line":41,"column":108}}],"line":41},"17":{"loc":{"start":{"line":41,"column":43},"end":{"line":41,"column":78}},"type":"binary-expr","locations":[{"start":{"line":41,"column":43},"end":{"line":41,"column":70}},{"start":{"line":41,"column":74},"end":{"line":41,"column":78}}],"line":41},"18":{"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":132}},"type":"cond-expr","locations":[{"start":{"line":49,"column":121},"end":{"line":49,"column":123}},{"start":{"line":49,"column":126},"end":{"line":49,"column":132}}],"line":49},"19":{"loc":{"start":{"line":49,"column":43},"end":{"line":49,"column":102}},"type":"binary-expr","locations":[{"start":{"line":49,"column":43},"end":{"line":49,"column":82}},{"start":{"line":49,"column":86},"end":{"line":49,"column":102}}],"line":49},"20":{"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":132}},"type":"cond-expr","locations":[{"start":{"line":53,"column":121},"end":{"line":53,"column":123}},{"start":{"line":53,"column":126},"end":{"line":53,"column":132}}],"line":53},"21":{"loc":{"start":{"line":53,"column":43},"end":{"line":53,"column":102}},"type":"binary-expr","locations":[{"start":{"line":53,"column":43},"end":{"line":53,"column":82}},{"start":{"line":53,"column":86},"end":{"line":53,"column":102}}],"line":53},"22":{"loc":{"start":{"line":63,"column":30},"end":{"line":63,"column":132}},"type":"cond-expr","locations":[{"start":{"line":63,"column":121},"end":{"line":63,"column":123}},{"start":{"line":63,"column":126},"end":{"line":63,"column":132}}],"line":63},"23":{"loc":{"start":{"line":63,"column":43},"end":{"line":63,"column":102}},"type":"binary-expr","locations":[{"start":{"line":63,"column":43},"end":{"line":63,"column":82}},{"start":{"line":63,"column":86},"end":{"line":63,"column":102}}],"line":63},"24":{"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":126}},"type":"cond-expr","locations":[{"start":{"line":70,"column":115},"end":{"line":70,"column":117}},{"start":{"line":70,"column":120},"end":{"line":70,"column":126}}],"line":70},"25":{"loc":{"start":{"line":70,"column":43},"end":{"line":70,"column":96}},"type":"binary-expr","locations":[{"start":{"line":70,"column":43},"end":{"line":70,"column":79}},{"start":{"line":70,"column":83},"end":{"line":70,"column":96}}],"line":70},"26":{"loc":{"start":{"line":77,"column":30},"end":{"line":77,"column":130}},"type":"cond-expr","locations":[{"start":{"line":77,"column":119},"end":{"line":77,"column":121}},{"start":{"line":77,"column":124},"end":{"line":77,"column":130}}],"line":77},"27":{"loc":{"start":{"line":77,"column":43},"end":{"line":77,"column":100}},"type":"binary-expr","locations":[{"start":{"line":77,"column":43},"end":{"line":77,"column":81}},{"start":{"line":77,"column":85},"end":{"line":77,"column":100}}],"line":77}},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":0,"6":0,"7":0,"8":0,"9":11,"10":1,"11":11,"12":11,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":4,"31":1,"32":11,"33":1,"34":0,"35":1},"f":{"0":11,"1":11,"2":3,"3":4,"4":11,"5":0},"b":{"0":[1,1,1],"1":[0,11],"2":[0,11],"3":[11,0],"4":[11,11],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[11,11,0],"10":[1,1,1],"11":[11,0],"12":[11,11],"13":[1,1,1],"14":[3,0],"15":[3,3],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0],"26":[0,1],"27":[1,0]},"inputSourceMap":{"version":3,"file":"Request.js","sourceRoot":"","sources":["Request.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyH;AACzH,sDAA6B;AAC7B,oDAA2B;AAC3B,0DAAiC;AAEjC,MAAqB,OAAQ,SAAQ,eAAS;CA+B7C;AA9B8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;6CAA4B;AAC9C;IAAT,IAAA,YAAM,GAAE;;2CAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;wCAAuB;AACtB;IAAT,IAAA,YAAM,GAAE;;yCAAwB;AACvB;IAAT,IAAA,YAAM,GAAE;kDAAc,IAAI,oBAAJ,IAAI;qCAAA;AACjB;IAAT,IAAA,YAAM,GAAE;;uCAAsB;AAEQ;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;0CAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;0CAAA;AASnF;IAPC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,eAAK,EAAC;QACtB,UAAU,EAAE,WAAW;QACvB,QAAQ,EAAE,cAAc;QACxB,eAAe,EAAE,SAAS;QAC1B,UAAU,EAAE,IAAI;QAChB,sBAAsB,EAAE,OAAO;KAChC,CAAC;kDACa,gBAAU,oBAAV,gBAAU;uCAAc;AAMvC;IAJC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,kBAAQ,EAAE;QACvB,QAAQ,EAAE,cAAc;QACxB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACgB,aAAO,oBAAP,aAAO;0CAAiB;AAM1C;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACvB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,QAAQ;KACrB,CAAC;kDACc,eAAS,oBAAT,eAAS;wCAAe;AA9B1C,0BA+BC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, HasMany, ManyToMany, belongsTo, column, hasMany, manyToMany } from '@ioc:Adonis/Lucid/Orm'\nimport Client from './Client'\nimport Offer from './Offer'\nimport Purchase from './Purchase'\n\nexport default class Request extends BaseModel {\n  @column({ isPrimary: true }) public request_code: number\n  @column() public time_limit: number\n  @column() public address: string\n  @column() public comments: string\n  @column() public date: Date\n  @column() public client: string\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @manyToMany(() => Offer,{\n    pivotTable: 'purchases',\n    localKey: 'request_code',\n    pivotForeignKey: 'request',\n    relatedKey: 'id',\n    pivotRelatedForeignKey: 'offer'\n  })\n  public offers: ManyToMany<typeof Offer>\n\n  @hasMany(() => Purchase, {\n    localKey: 'request_code',\n    foreignKey: 'request'\n  })\n  public purchases: HasMany<typeof Purchase>\n\n  @belongsTo(() => Client, {\n    localKey: 'phone',\n    foreignKey: 'client'\n  })\n  public clients: BelongsTo<typeof Client>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"49f8882b8c93a9c0012877f9cdb6176cc0917511","contentHash":"b7fb442fdd109b42d3aabd49a1fb79f7b1ed0e0420ecce405a8694447f8a9299"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Offer.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Offer.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":18},"end":{"line":18,"column":55}},"19":{"start":{"line":19,"column":26},"end":{"line":19,"column":71}},"20":{"start":{"line":20,"column":17},"end":{"line":20,"column":53}},"21":{"start":{"line":21,"column":18},"end":{"line":21,"column":55}},"22":{"start":{"line":22,"column":19},"end":{"line":22,"column":57}},"23":{"start":{"line":25,"column":0},"end":{"line":28,"column":34}},"24":{"start":{"line":29,"column":0},"end":{"line":32,"column":37}},"25":{"start":{"line":33,"column":0},"end":{"line":36,"column":40}},"26":{"start":{"line":37,"column":0},"end":{"line":40,"column":43}},"27":{"start":{"line":41,"column":0},"end":{"line":44,"column":39}},"28":{"start":{"line":45,"column":0},"end":{"line":48,"column":48}},"29":{"start":{"line":49,"column":0},"end":{"line":52,"column":37}},"30":{"start":{"line":53,"column":0},"end":{"line":56,"column":41}},"31":{"start":{"line":57,"column":0},"end":{"line":60,"column":41}},"32":{"start":{"line":61,"column":0},"end":{"line":67,"column":40}},"33":{"start":{"line":62,"column":31},"end":{"line":62,"column":48}},"34":{"start":{"line":68,"column":0},"end":{"line":74,"column":47}},"35":{"start":{"line":69,"column":31},"end":{"line":69,"column":56}},"36":{"start":{"line":75,"column":0},"end":{"line":81,"column":39}},"37":{"start":{"line":76,"column":29},"end":{"line":76,"column":45}},"38":{"start":{"line":82,"column":0},"end":{"line":91,"column":40}},"39":{"start":{"line":83,"column":32},"end":{"line":83,"column":49}},"40":{"start":{"line":92,"column":0},"end":{"line":98,"column":41}},"41":{"start":{"line":93,"column":29},"end":{"line":93,"column":47}},"42":{"start":{"line":99,"column":0},"end":{"line":99,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":62,"column":25},"end":{"line":62,"column":26}},"loc":{"start":{"line":62,"column":31},"end":{"line":62,"column":48}},"line":62},"4":{"name":"(anonymous_4)","decl":{"start":{"line":69,"column":25},"end":{"line":69,"column":26}},"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":56}},"line":69},"5":{"name":"(anonymous_5)","decl":{"start":{"line":76,"column":23},"end":{"line":76,"column":24}},"loc":{"start":{"line":76,"column":29},"end":{"line":76,"column":45}},"line":76},"6":{"name":"(anonymous_6)","decl":{"start":{"line":83,"column":26},"end":{"line":83,"column":27}},"loc":{"start":{"line":83,"column":32},"end":{"line":83,"column":49}},"line":83},"7":{"name":"(anonymous_7)","decl":{"start":{"line":93,"column":23},"end":{"line":93,"column":24}},"loc":{"start":{"line":93,"column":29},"end":{"line":93,"column":47}},"line":93}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":35,"column":30},"end":{"line":35,"column":108}},"type":"cond-expr","locations":[{"start":{"line":35,"column":97},"end":{"line":35,"column":99}},{"start":{"line":35,"column":102},"end":{"line":35,"column":108}}],"line":35},"17":{"loc":{"start":{"line":35,"column":43},"end":{"line":35,"column":78}},"type":"binary-expr","locations":[{"start":{"line":35,"column":43},"end":{"line":35,"column":70}},{"start":{"line":35,"column":74},"end":{"line":35,"column":78}}],"line":35},"18":{"loc":{"start":{"line":55,"column":30},"end":{"line":55,"column":132}},"type":"cond-expr","locations":[{"start":{"line":55,"column":121},"end":{"line":55,"column":123}},{"start":{"line":55,"column":126},"end":{"line":55,"column":132}}],"line":55},"19":{"loc":{"start":{"line":55,"column":43},"end":{"line":55,"column":102}},"type":"binary-expr","locations":[{"start":{"line":55,"column":43},"end":{"line":55,"column":82}},{"start":{"line":55,"column":86},"end":{"line":55,"column":102}}],"line":55},"20":{"loc":{"start":{"line":59,"column":30},"end":{"line":59,"column":132}},"type":"cond-expr","locations":[{"start":{"line":59,"column":121},"end":{"line":59,"column":123}},{"start":{"line":59,"column":126},"end":{"line":59,"column":132}}],"line":59},"21":{"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":102}},"type":"binary-expr","locations":[{"start":{"line":59,"column":43},"end":{"line":59,"column":82}},{"start":{"line":59,"column":86},"end":{"line":59,"column":102}}],"line":59},"22":{"loc":{"start":{"line":66,"column":30},"end":{"line":66,"column":130}},"type":"cond-expr","locations":[{"start":{"line":66,"column":119},"end":{"line":66,"column":121}},{"start":{"line":66,"column":124},"end":{"line":66,"column":130}}],"line":66},"23":{"loc":{"start":{"line":66,"column":43},"end":{"line":66,"column":100}},"type":"binary-expr","locations":[{"start":{"line":66,"column":43},"end":{"line":66,"column":81}},{"start":{"line":66,"column":85},"end":{"line":66,"column":100}}],"line":66},"24":{"loc":{"start":{"line":73,"column":30},"end":{"line":73,"column":130}},"type":"cond-expr","locations":[{"start":{"line":73,"column":119},"end":{"line":73,"column":121}},{"start":{"line":73,"column":124},"end":{"line":73,"column":130}}],"line":73},"25":{"loc":{"start":{"line":73,"column":43},"end":{"line":73,"column":100}},"type":"binary-expr","locations":[{"start":{"line":73,"column":43},"end":{"line":73,"column":81}},{"start":{"line":73,"column":85},"end":{"line":73,"column":100}}],"line":73},"26":{"loc":{"start":{"line":80,"column":30},"end":{"line":80,"column":126}},"type":"cond-expr","locations":[{"start":{"line":80,"column":115},"end":{"line":80,"column":117}},{"start":{"line":80,"column":120},"end":{"line":80,"column":126}}],"line":80},"27":{"loc":{"start":{"line":80,"column":43},"end":{"line":80,"column":96}},"type":"binary-expr","locations":[{"start":{"line":80,"column":43},"end":{"line":80,"column":79}},{"start":{"line":80,"column":83},"end":{"line":80,"column":96}}],"line":80},"28":{"loc":{"start":{"line":90,"column":30},"end":{"line":90,"column":132}},"type":"cond-expr","locations":[{"start":{"line":90,"column":121},"end":{"line":90,"column":123}},{"start":{"line":90,"column":126},"end":{"line":90,"column":132}}],"line":90},"29":{"loc":{"start":{"line":90,"column":43},"end":{"line":90,"column":102}},"type":"binary-expr","locations":[{"start":{"line":90,"column":43},"end":{"line":90,"column":82}},{"start":{"line":90,"column":86},"end":{"line":90,"column":102}}],"line":90},"30":{"loc":{"start":{"line":97,"column":30},"end":{"line":97,"column":126}},"type":"cond-expr","locations":[{"start":{"line":97,"column":115},"end":{"line":97,"column":117}},{"start":{"line":97,"column":120},"end":{"line":97,"column":126}}],"line":97},"31":{"loc":{"start":{"line":97,"column":43},"end":{"line":97,"column":96}},"type":"binary-expr","locations":[{"start":{"line":97,"column":43},"end":{"line":97,"column":79}},{"start":{"line":97,"column":83},"end":{"line":97,"column":96}}],"line":97}},"s":{"0":1,"1":14,"2":14,"3":14,"4":14,"5":0,"6":0,"7":0,"8":0,"9":14,"10":1,"11":14,"12":14,"13":1,"14":5,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":5,"34":1,"35":3,"36":1,"37":0,"38":1,"39":0,"40":1,"41":3,"42":1},"f":{"0":14,"1":14,"2":5,"3":5,"4":3,"5":0,"6":0,"7":3},"b":{"0":[1,1,1],"1":[0,14],"2":[0,14],"3":[14,0],"4":[14,14],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[14,14,0],"10":[1,1,1],"11":[14,0],"12":[14,14],"13":[1,1,1],"14":[5,0],"15":[5,5],"16":[0,1],"17":[1,1],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0],"26":[0,1],"27":[1,0],"28":[0,1],"29":[1,0],"30":[0,1],"31":[1,0]},"inputSourceMap":{"version":3,"file":"Offer.js","sourceRoot":"","sources":["Offer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyH;AACzH,wDAA+B;AAC/B,wEAA+C;AAC/C,sDAA6B;AAC7B,wDAA+B;AAC/B,0DAAiC;AAEjC,MAAqB,KAAM,SAAQ,eAAS;CA4C3C;AA3C8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;iCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;oCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;kDAAkB,IAAI,oBAAJ,IAAI;uCAAA;AACrB;IAAT,IAAA,YAAM,GAAE;;0CAA2B;AAC1B;IAAT,IAAA,YAAM,GAAE;;sCAAuB;AACtB;IAAT,IAAA,YAAM,GAAE;;+CAAgC;AAC/B;IAAT,IAAA,YAAM,GAAE;;oCAAsB;AAEQ;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;wCAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;wCAAA;AAMnF;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,iBAAO,EAAE;QACxB,QAAQ,EAAE,MAAM;QAChB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACe,eAAS,oBAAT,eAAS;uCAAgB;AAM1C;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,yBAAe,EAAE;QAChC,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,kBAAkB;KAC/B,CAAC;kDACsB,eAAS,oBAAT,eAAS;8CAAwB;AAMzD;IAJC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACrB,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,OAAO;KACpB,CAAC;kDACc,aAAO,oBAAP,aAAO;sCAAe;AAStC;IAPC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,iBAAO,EAAC;QACxB,UAAU,EAAE,WAAW;QACvB,QAAQ,EAAE,IAAI;QACd,eAAe,EAAE,OAAO;QACxB,UAAU,EAAE,cAAc;QAC1B,sBAAsB,EAAE,SAAS;KAClC,CAAC;kDACe,gBAAU,oBAAV,gBAAU;uCAAgB;AAM3C;IAJC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,kBAAQ,EAAE;QACvB,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,OAAO;KACpB,CAAC;kDACgB,aAAO,oBAAP,aAAO;wCAAiB;AA3C5C,wBA4CC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, HasMany, ManyToMany, belongsTo, column, hasMany, manyToMany } from '@ioc:Adonis/Lucid/Orm'\nimport Service from './Service'\nimport ServiceProvider from './ServiceProvider'\nimport Rating from './Rating'\nimport Request from './Request'\nimport Purchase from './Purchase'\n\nexport default class Offer extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public price: number\n  @column() public comments: JSON\n  @column() public description: string\n  @column() public service: string\n  @column() public service_provider: string\n  @column() public state: boolean\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @belongsTo(() => Service, {\n    localKey: 'name',\n    foreignKey: 'service'\n  })\n  public services: BelongsTo<typeof Service>\n  \n  @belongsTo(() => ServiceProvider, {\n    localKey: 'phone',\n    foreignKey: 'service_provider'\n  })\n  public serviceProvider: BelongsTo<typeof ServiceProvider>\n\n  @hasMany(() => Rating, {\n    localKey: 'id',\n    foreignKey: 'offer'\n  })\n  public ratings: HasMany<typeof Rating>\n\n  @manyToMany(() => Request,{\n    pivotTable: 'purchases',\n    localKey: 'id',\n    pivotForeignKey: 'offer',\n    relatedKey: 'request_code',\n    pivotRelatedForeignKey: 'request'\n  })\n  public requests: ManyToMany<typeof Request>\n\n  @hasMany(() => Purchase, {\n    localKey: 'id',\n    foreignKey: 'offer'\n  })\n  public purchases: HasMany<typeof Purchase>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ffb6a5bc0e98568c08da046e691720e9d1e5c18c","contentHash":"c1f855b1dbf5bc72cdea1b887a3478437274ee2daec744e55a2bfe0a8f7a80d4"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Service.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Service.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"19":{"start":{"line":21,"column":0},"end":{"line":24,"column":36}},"20":{"start":{"line":25,"column":0},"end":{"line":28,"column":38}},"21":{"start":{"line":29,"column":0},"end":{"line":32,"column":42}},"22":{"start":{"line":33,"column":0},"end":{"line":36,"column":44}},"23":{"start":{"line":37,"column":0},"end":{"line":40,"column":39}},"24":{"start":{"line":41,"column":0},"end":{"line":44,"column":43}},"25":{"start":{"line":45,"column":0},"end":{"line":48,"column":43}},"26":{"start":{"line":49,"column":0},"end":{"line":55,"column":40}},"27":{"start":{"line":50,"column":29},"end":{"line":50,"column":44}},"28":{"start":{"line":56,"column":0},"end":{"line":56,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":50,"column":23},"end":{"line":50,"column":24}},"loc":{"start":{"line":50,"column":29},"end":{"line":50,"column":44}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":43,"column":30},"end":{"line":43,"column":132}},"type":"cond-expr","locations":[{"start":{"line":43,"column":121},"end":{"line":43,"column":123}},{"start":{"line":43,"column":126},"end":{"line":43,"column":132}}],"line":43},"17":{"loc":{"start":{"line":43,"column":43},"end":{"line":43,"column":102}},"type":"binary-expr","locations":[{"start":{"line":43,"column":43},"end":{"line":43,"column":82}},{"start":{"line":43,"column":86},"end":{"line":43,"column":102}}],"line":43},"18":{"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":132}},"type":"cond-expr","locations":[{"start":{"line":47,"column":121},"end":{"line":47,"column":123}},{"start":{"line":47,"column":126},"end":{"line":47,"column":132}}],"line":47},"19":{"loc":{"start":{"line":47,"column":43},"end":{"line":47,"column":102}},"type":"binary-expr","locations":[{"start":{"line":47,"column":43},"end":{"line":47,"column":82}},{"start":{"line":47,"column":86},"end":{"line":47,"column":102}}],"line":47},"20":{"loc":{"start":{"line":54,"column":30},"end":{"line":54,"column":126}},"type":"cond-expr","locations":[{"start":{"line":54,"column":115},"end":{"line":54,"column":117}},{"start":{"line":54,"column":120},"end":{"line":54,"column":126}}],"line":54},"21":{"loc":{"start":{"line":54,"column":43},"end":{"line":54,"column":96}},"type":"binary-expr","locations":[{"start":{"line":54,"column":43},"end":{"line":54,"column":79}},{"start":{"line":54,"column":83},"end":{"line":54,"column":96}}],"line":54}},"s":{"0":1,"1":8,"2":8,"3":8,"4":8,"5":0,"6":0,"7":0,"8":0,"9":8,"10":1,"11":8,"12":8,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":1},"f":{"0":8,"1":8,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,8],"2":[0,8],"3":[8,0],"4":[8,8],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[8,8,0],"10":[1,1,1],"11":[8,0],"12":[8,8],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0]},"inputSourceMap":{"version":3,"file":"Service.js","sourceRoot":"","sources":["Service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA2E;AAC3E,oDAA2B;AAE3B,MAAqB,OAAQ,SAAQ,eAAS;CAe7C;AAd8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;mCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;qCAAoB;AACnB;IAAT,IAAA,YAAM,GAAE;;yCAAwB;AACvB;IAAT,IAAA,YAAM,GAAE;;2CAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;sCAAsB;AAEQ;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;0CAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;0CAAA;AAMnF;IAJC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,eAAK,EAAC;QACnB,QAAQ,EAAE,MAAM;QAChB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACa,aAAO,oBAAP,aAAO;uCAAc;AAdtC,0BAeC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, HasMany, column, hasMany } from '@ioc:Adonis/Lucid/Orm'\nimport Offer from './Offer'\n\nexport default class Service extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public name: string\n  @column() public category: string\n  @column() public commission: number\n  @column() public state: boolean\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @hasMany(() => Offer,{\n    localKey: 'name',\n    foreignKey: 'service'\n  })\n  public oferrs: HasMany<typeof Offer>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"89514d3c0b7deb11afe49af89f454c9b51c2f960","contentHash":"2b1593efc7cf43f90ab7d48d15a63486b23532e719692d699158e3533cd2eb4a"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\ServiceProvider.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\ServiceProvider.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":19,"column":16},"end":{"line":19,"column":51}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":44}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":47}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":62}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":57}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":55}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":61}},"26":{"start":{"line":46,"column":0},"end":{"line":49,"column":51}},"27":{"start":{"line":50,"column":0},"end":{"line":53,"column":48}},"28":{"start":{"line":54,"column":0},"end":{"line":57,"column":51}},"29":{"start":{"line":58,"column":0},"end":{"line":61,"column":51}},"30":{"start":{"line":62,"column":0},"end":{"line":68,"column":46}},"31":{"start":{"line":63,"column":31},"end":{"line":63,"column":45}},"32":{"start":{"line":69,"column":0},"end":{"line":75,"column":48}},"33":{"start":{"line":70,"column":29},"end":{"line":70,"column":44}},"34":{"start":{"line":76,"column":0},"end":{"line":76,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":63,"column":25},"end":{"line":63,"column":26}},"loc":{"start":{"line":63,"column":31},"end":{"line":63,"column":45}},"line":63},"4":{"name":"(anonymous_4)","decl":{"start":{"line":70,"column":23},"end":{"line":70,"column":24}},"loc":{"start":{"line":70,"column":29},"end":{"line":70,"column":44}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":56,"column":30},"end":{"line":56,"column":132}},"type":"cond-expr","locations":[{"start":{"line":56,"column":121},"end":{"line":56,"column":123}},{"start":{"line":56,"column":126},"end":{"line":56,"column":132}}],"line":56},"17":{"loc":{"start":{"line":56,"column":43},"end":{"line":56,"column":102}},"type":"binary-expr","locations":[{"start":{"line":56,"column":43},"end":{"line":56,"column":82}},{"start":{"line":56,"column":86},"end":{"line":56,"column":102}}],"line":56},"18":{"loc":{"start":{"line":60,"column":30},"end":{"line":60,"column":132}},"type":"cond-expr","locations":[{"start":{"line":60,"column":121},"end":{"line":60,"column":123}},{"start":{"line":60,"column":126},"end":{"line":60,"column":132}}],"line":60},"19":{"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":102}},"type":"binary-expr","locations":[{"start":{"line":60,"column":43},"end":{"line":60,"column":82}},{"start":{"line":60,"column":86},"end":{"line":60,"column":102}}],"line":60},"20":{"loc":{"start":{"line":67,"column":30},"end":{"line":67,"column":130}},"type":"cond-expr","locations":[{"start":{"line":67,"column":119},"end":{"line":67,"column":121}},{"start":{"line":67,"column":124},"end":{"line":67,"column":130}}],"line":67},"21":{"loc":{"start":{"line":67,"column":43},"end":{"line":67,"column":100}},"type":"binary-expr","locations":[{"start":{"line":67,"column":43},"end":{"line":67,"column":81}},{"start":{"line":67,"column":85},"end":{"line":67,"column":100}}],"line":67},"22":{"loc":{"start":{"line":74,"column":30},"end":{"line":74,"column":126}},"type":"cond-expr","locations":[{"start":{"line":74,"column":115},"end":{"line":74,"column":117}},{"start":{"line":74,"column":120},"end":{"line":74,"column":126}}],"line":74},"23":{"loc":{"start":{"line":74,"column":43},"end":{"line":74,"column":96}},"type":"binary-expr","locations":[{"start":{"line":74,"column":43},"end":{"line":74,"column":79}},{"start":{"line":74,"column":83},"end":{"line":74,"column":96}}],"line":74}},"s":{"0":1,"1":12,"2":12,"3":12,"4":12,"5":0,"6":0,"7":0,"8":0,"9":12,"10":1,"11":12,"12":12,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":0,"32":1,"33":12,"34":1},"f":{"0":12,"1":12,"2":2,"3":0,"4":12},"b":{"0":[1,1,1],"1":[0,12],"2":[0,12],"3":[12,0],"4":[12,12],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[12,12,0],"10":[1,1,1],"11":[12,0],"12":[12,12],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0]},"inputSourceMap":{"version":3,"file":"ServiceProvider.js","sourceRoot":"","sources":["ServiceProvider.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAiG;AACjG,kDAAyB;AACzB,oDAA2B;AAE3B,MAAqB,eAAgB,SAAQ,eAAS;CAwBrD;AAvB8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;2CAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;8CAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;6DAAoC;AACnC;IAAT,IAAA,YAAM,GAAE;;wDAA+B;AAC9B;IAAT,IAAA,YAAM,GAAE;;sDAA6B;AAC5B;IAAT,IAAA,YAAM,GAAE;;4DAAmC;AAClC;IAAT,IAAA,YAAM,GAAE;;kDAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;+CAAsB;AAEQ;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;kDAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;kDAAA;AAMpF;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACtB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,OAAO;KACnB,CAAC;kDACW,eAAS,oBAAT,eAAS;6CAAa;AAMpC;IAJE,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,eAAK,EAAC;QACpB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,kBAAkB;KAC/B,CAAC;kDACa,aAAO,oBAAP,aAAO;+CAAc;AAvBpC,kCAwBC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, HasMany, belongsTo, column, hasMany } from '@ioc:Adonis/Lucid/Orm'\nimport User from './User'\nimport Offer from './Offer'\n\nexport default class ServiceProvider extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public phone: string\n  @column() public professional_profile: string\n  @column() public document_number: string\n  @column() public response_time: number\n  @column() public unanswered_requests: number\n  @column() public available: boolean\n  @column() public income: number\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n @belongsTo(() => User, {\n  localKey: 'phone',\n  foreignKey: 'phone'\n })\n public user: BelongsTo<typeof User>\n\n @hasMany(() => Offer,{\n  localKey: 'phone',\n  foreignKey: 'service_provider'\n})\npublic offers: HasMany<typeof Offer>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"04323e7002816bb34716c84d868a9efd343f16f9","contentHash":"6e2cd3bfdfe600286204030460787989210e8f84fbe8f6fc2b49325a84f31c7a"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Rating.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Rating.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":53}},"19":{"start":{"line":19,"column":16},"end":{"line":19,"column":51}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":35}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":43}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":41}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":49}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":39}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":38}},"26":{"start":{"line":46,"column":0},"end":{"line":49,"column":38}},"27":{"start":{"line":50,"column":0},"end":{"line":53,"column":42}},"28":{"start":{"line":54,"column":0},"end":{"line":57,"column":42}},"29":{"start":{"line":58,"column":0},"end":{"line":64,"column":40}},"30":{"start":{"line":59,"column":31},"end":{"line":59,"column":47}},"31":{"start":{"line":65,"column":0},"end":{"line":71,"column":39}},"32":{"start":{"line":66,"column":31},"end":{"line":66,"column":46}},"33":{"start":{"line":72,"column":0},"end":{"line":72,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":59,"column":25},"end":{"line":59,"column":26}},"loc":{"start":{"line":59,"column":31},"end":{"line":59,"column":47}},"line":59},"4":{"name":"(anonymous_4)","decl":{"start":{"line":66,"column":25},"end":{"line":66,"column":26}},"loc":{"start":{"line":66,"column":31},"end":{"line":66,"column":46}},"line":66}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":52,"column":30},"end":{"line":52,"column":132}},"type":"cond-expr","locations":[{"start":{"line":52,"column":121},"end":{"line":52,"column":123}},{"start":{"line":52,"column":126},"end":{"line":52,"column":132}}],"line":52},"17":{"loc":{"start":{"line":52,"column":43},"end":{"line":52,"column":102}},"type":"binary-expr","locations":[{"start":{"line":52,"column":43},"end":{"line":52,"column":82}},{"start":{"line":52,"column":86},"end":{"line":52,"column":102}}],"line":52},"18":{"loc":{"start":{"line":56,"column":30},"end":{"line":56,"column":132}},"type":"cond-expr","locations":[{"start":{"line":56,"column":121},"end":{"line":56,"column":123}},{"start":{"line":56,"column":126},"end":{"line":56,"column":132}}],"line":56},"19":{"loc":{"start":{"line":56,"column":43},"end":{"line":56,"column":102}},"type":"binary-expr","locations":[{"start":{"line":56,"column":43},"end":{"line":56,"column":82}},{"start":{"line":56,"column":86},"end":{"line":56,"column":102}}],"line":56},"20":{"loc":{"start":{"line":63,"column":30},"end":{"line":63,"column":130}},"type":"cond-expr","locations":[{"start":{"line":63,"column":119},"end":{"line":63,"column":121}},{"start":{"line":63,"column":124},"end":{"line":63,"column":130}}],"line":63},"21":{"loc":{"start":{"line":63,"column":43},"end":{"line":63,"column":100}},"type":"binary-expr","locations":[{"start":{"line":63,"column":43},"end":{"line":63,"column":81}},{"start":{"line":63,"column":85},"end":{"line":63,"column":100}}],"line":63},"22":{"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":130}},"type":"cond-expr","locations":[{"start":{"line":70,"column":119},"end":{"line":70,"column":121}},{"start":{"line":70,"column":124},"end":{"line":70,"column":130}}],"line":70},"23":{"loc":{"start":{"line":70,"column":43},"end":{"line":70,"column":100}},"type":"binary-expr","locations":[{"start":{"line":70,"column":43},"end":{"line":70,"column":81}},{"start":{"line":70,"column":85},"end":{"line":70,"column":100}}],"line":70}},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":0,"6":0,"7":0,"8":0,"9":11,"10":1,"11":11,"12":11,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":1,"32":0,"33":1},"f":{"0":11,"1":11,"2":2,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,11],"2":[0,11],"3":[11,0],"4":[11,11],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[11,11,0],"10":[1,1,1],"11":[11,0],"12":[11,11],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0]},"inputSourceMap":{"version":3,"file":"Rating.js","sourceRoot":"","sources":["Rating.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,sDAA6B;AAC7B,oDAA2B;AAE3B,MAAqB,MAAO,SAAQ,eAAS;CAuB5C;AAtB8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;kCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;0CAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;wCAAwB;AACvB;IAAT,IAAA,YAAM,GAAE;;gDAAgC;AAC/B;IAAT,IAAA,YAAM,GAAE;;sCAAsB;AACrB;IAAT,IAAA,YAAM,GAAE;;qCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;qCAAsB;AAEQ;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;yCAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;yCAAA;AAMnF;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACvB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,QAAQ;KACrB,CAAC;kDACc,eAAS,oBAAT,eAAS;uCAAe;AAMxC;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,eAAK,EAAE;QACtB,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,OAAO;KACpB,CAAC;kDACa,eAAS,oBAAT,eAAS;sCAAc;AAtBxC,yBAuBC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\nimport Client from './Client'\nimport Offer from './Offer'\n\nexport default class Rating extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public efficiency: number\n  @column() public efficacy: number\n  @column() public customer_service: number\n  @column() public client: string\n  @column() public offer: number\n  @column() public state: boolean\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @belongsTo(() => Client, {\n    localKey: 'phone',\n    foreignKey: 'client'\n  })\n  public clients: BelongsTo<typeof Client>\n\n  @belongsTo(() => Offer, {\n    localKey: 'id',\n    foreignKey: 'offer'\n  })\n  public offers: BelongsTo<typeof Offer>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d0f8a5cb5ff2729dd9b46394e3783b4361667d4b","contentHash":"acf7ba8e148b0ca7ed1268690c48f2e922179d0ecd4f7736df19f335c1c7deb6"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Purchase.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Purchase.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"19":{"start":{"line":19,"column":18},"end":{"line":19,"column":55}},"20":{"start":{"line":20,"column":15},"end":{"line":20,"column":49}},"21":{"start":{"line":23,"column":0},"end":{"line":26,"column":37}},"22":{"start":{"line":27,"column":0},"end":{"line":30,"column":40}},"23":{"start":{"line":31,"column":0},"end":{"line":34,"column":40}},"24":{"start":{"line":35,"column":0},"end":{"line":38,"column":42}},"25":{"start":{"line":39,"column":0},"end":{"line":42,"column":44}},"26":{"start":{"line":43,"column":0},"end":{"line":46,"column":44}},"27":{"start":{"line":47,"column":0},"end":{"line":53,"column":41}},"28":{"start":{"line":48,"column":31},"end":{"line":48,"column":46}},"29":{"start":{"line":54,"column":0},"end":{"line":60,"column":43}},"30":{"start":{"line":55,"column":31},"end":{"line":55,"column":48}},"31":{"start":{"line":61,"column":0},"end":{"line":67,"column":39}},"32":{"start":{"line":62,"column":28},"end":{"line":62,"column":42}},"33":{"start":{"line":68,"column":0},"end":{"line":68,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":48,"column":25},"end":{"line":48,"column":26}},"loc":{"start":{"line":48,"column":31},"end":{"line":48,"column":46}},"line":48},"4":{"name":"(anonymous_4)","decl":{"start":{"line":55,"column":25},"end":{"line":55,"column":26}},"loc":{"start":{"line":55,"column":31},"end":{"line":55,"column":48}},"line":55},"5":{"name":"(anonymous_5)","decl":{"start":{"line":62,"column":22},"end":{"line":62,"column":23}},"loc":{"start":{"line":62,"column":28},"end":{"line":62,"column":42}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":132}},"type":"cond-expr","locations":[{"start":{"line":41,"column":121},"end":{"line":41,"column":123}},{"start":{"line":41,"column":126},"end":{"line":41,"column":132}}],"line":41},"17":{"loc":{"start":{"line":41,"column":43},"end":{"line":41,"column":102}},"type":"binary-expr","locations":[{"start":{"line":41,"column":43},"end":{"line":41,"column":82}},{"start":{"line":41,"column":86},"end":{"line":41,"column":102}}],"line":41},"18":{"loc":{"start":{"line":45,"column":30},"end":{"line":45,"column":132}},"type":"cond-expr","locations":[{"start":{"line":45,"column":121},"end":{"line":45,"column":123}},{"start":{"line":45,"column":126},"end":{"line":45,"column":132}}],"line":45},"19":{"loc":{"start":{"line":45,"column":43},"end":{"line":45,"column":102}},"type":"binary-expr","locations":[{"start":{"line":45,"column":43},"end":{"line":45,"column":82}},{"start":{"line":45,"column":86},"end":{"line":45,"column":102}}],"line":45},"20":{"loc":{"start":{"line":52,"column":30},"end":{"line":52,"column":130}},"type":"cond-expr","locations":[{"start":{"line":52,"column":119},"end":{"line":52,"column":121}},{"start":{"line":52,"column":124},"end":{"line":52,"column":130}}],"line":52},"21":{"loc":{"start":{"line":52,"column":43},"end":{"line":52,"column":100}},"type":"binary-expr","locations":[{"start":{"line":52,"column":43},"end":{"line":52,"column":81}},{"start":{"line":52,"column":85},"end":{"line":52,"column":100}}],"line":52},"22":{"loc":{"start":{"line":59,"column":30},"end":{"line":59,"column":130}},"type":"cond-expr","locations":[{"start":{"line":59,"column":119},"end":{"line":59,"column":121}},{"start":{"line":59,"column":124},"end":{"line":59,"column":130}}],"line":59},"23":{"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":100}},"type":"binary-expr","locations":[{"start":{"line":59,"column":43},"end":{"line":59,"column":81}},{"start":{"line":59,"column":85},"end":{"line":59,"column":100}}],"line":59},"24":{"loc":{"start":{"line":66,"column":30},"end":{"line":66,"column":124}},"type":"cond-expr","locations":[{"start":{"line":66,"column":113},"end":{"line":66,"column":115}},{"start":{"line":66,"column":118},"end":{"line":66,"column":124}}],"line":66},"25":{"loc":{"start":{"line":66,"column":43},"end":{"line":66,"column":94}},"type":"binary-expr","locations":[{"start":{"line":66,"column":43},"end":{"line":66,"column":78}},{"start":{"line":66,"column":82},"end":{"line":66,"column":94}}],"line":66}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":0,"6":0,"7":0,"8":0,"9":9,"10":1,"11":9,"12":9,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":3,"29":1,"30":3,"31":1,"32":0,"33":1},"f":{"0":9,"1":9,"2":3,"3":3,"4":3,"5":0},"b":{"0":[1,1,1],"1":[0,9],"2":[0,9],"3":[9,0],"4":[9,9],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[9,9,0],"10":[1,1,1],"11":[9,0],"12":[9,9],"13":[1,1,1],"14":[3,0],"15":[3,3],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0]},"inputSourceMap":{"version":3,"file":"Purchase.js","sourceRoot":"","sources":["Purchase.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+F;AAC/F,oDAA2B;AAC3B,wDAA+B;AAC/B,kDAAyB;AAEzB,MAAqB,QAAS,SAAQ,eAAS;CA0B9C;AAzB8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;oCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;uCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;uCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;yCAAuB;AAEO;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;2CAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;2CAAA;AAMnF;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,eAAK,EAAC;QACrB,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,OAAO;KACpB,CAAC;kDACa,eAAS,oBAAT,eAAS;wCAAc;AAMtC;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,iBAAO,EAAC;QACvB,QAAQ,EAAE,cAAc;QACxB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACe,eAAS,oBAAT,eAAS;0CAAgB;AAM1C;IAJC,IAAA,YAAM,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QAClB,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,UAAU;KACvB,CAAC;kDACW,YAAM,oBAAN,YAAM;sCAAa;AAzBlC,2BA0BC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, HasOne, belongsTo, column, hasOne } from '@ioc:Adonis/Lucid/Orm'\nimport Offer from './Offer'\nimport Request from './Request'\nimport Bill from './Bill'\n\nexport default class Purchase extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public state: string\n  @column() public offer: number\n  @column() public request: number\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @belongsTo(() => Offer,{\n    localKey: 'id',\n    foreignKey: 'offer'\n  })\n  public offers: BelongsTo<typeof Offer>\n\n  @belongsTo(() => Request,{\n    localKey: 'request_code',\n    foreignKey: 'request'\n  })\n  public requests: BelongsTo<typeof Request>\n\n  @hasOne(() => Bill, {\n    localKey: 'id',\n    foreignKey: 'purchase'\n  })\n  public bill: HasOne<typeof Bill>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8877a3a8a450d5fd858320d95052d3105631b96e","contentHash":"d0645657b3c9be825696066d21ea7b8436784a1fd3c1324390c706bf41b8fbce"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Bill.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Bill.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":19},"end":{"line":18,"column":57}},"19":{"start":{"line":21,"column":0},"end":{"line":24,"column":33}},"20":{"start":{"line":25,"column":0},"end":{"line":28,"column":45}},"21":{"start":{"line":29,"column":0},"end":{"line":32,"column":41}},"22":{"start":{"line":33,"column":0},"end":{"line":36,"column":46}},"23":{"start":{"line":37,"column":0},"end":{"line":40,"column":39}},"24":{"start":{"line":41,"column":0},"end":{"line":44,"column":36}},"25":{"start":{"line":45,"column":0},"end":{"line":48,"column":40}},"26":{"start":{"line":49,"column":0},"end":{"line":52,"column":40}},"27":{"start":{"line":53,"column":0},"end":{"line":59,"column":40}},"28":{"start":{"line":54,"column":31},"end":{"line":54,"column":49}},"29":{"start":{"line":60,"column":0},"end":{"line":60,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":54,"column":25},"end":{"line":54,"column":26}},"loc":{"start":{"line":54,"column":31},"end":{"line":54,"column":49}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":132}},"type":"cond-expr","locations":[{"start":{"line":47,"column":121},"end":{"line":47,"column":123}},{"start":{"line":47,"column":126},"end":{"line":47,"column":132}}],"line":47},"17":{"loc":{"start":{"line":47,"column":43},"end":{"line":47,"column":102}},"type":"binary-expr","locations":[{"start":{"line":47,"column":43},"end":{"line":47,"column":82}},{"start":{"line":47,"column":86},"end":{"line":47,"column":102}}],"line":47},"18":{"loc":{"start":{"line":51,"column":30},"end":{"line":51,"column":132}},"type":"cond-expr","locations":[{"start":{"line":51,"column":121},"end":{"line":51,"column":123}},{"start":{"line":51,"column":126},"end":{"line":51,"column":132}}],"line":51},"19":{"loc":{"start":{"line":51,"column":43},"end":{"line":51,"column":102}},"type":"binary-expr","locations":[{"start":{"line":51,"column":43},"end":{"line":51,"column":82}},{"start":{"line":51,"column":86},"end":{"line":51,"column":102}}],"line":51},"20":{"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":130}},"type":"cond-expr","locations":[{"start":{"line":58,"column":119},"end":{"line":58,"column":121}},{"start":{"line":58,"column":124},"end":{"line":58,"column":130}}],"line":58},"21":{"loc":{"start":{"line":58,"column":43},"end":{"line":58,"column":100}},"type":"binary-expr","locations":[{"start":{"line":58,"column":43},"end":{"line":58,"column":81}},{"start":{"line":58,"column":85},"end":{"line":58,"column":100}}],"line":58}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":0,"6":0,"7":0,"8":0,"9":9,"10":1,"11":9,"12":9,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":1},"f":{"0":9,"1":9,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,9],"2":[0,9],"3":[9,0],"4":[9,9],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[9,9,0],"10":[1,1,1],"11":[9,0],"12":[9,9],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0]},"inputSourceMap":{"version":3,"file":"Bill.js","sourceRoot":"","sources":["Bill.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAC,iCAAgC;AACjC,gEAA+E;AAC/E,0DAAiC;AAEjC,MAAqB,IAAK,SAAQ,eAAS;CAgB1C;AAf8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;gCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;4CAA8B;AAC7B;IAAT,IAAA,YAAM,GAAE;;wCAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;6CAA+B;AAC9B;IAAT,IAAA,YAAM,GAAE;;sCAAwB;AACvB;IAAT,IAAA,YAAM,GAAE;;mCAAsB;AAEQ;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;uCAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAMnF;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,kBAAQ,EAAC;QACxB,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,UAAU;KACvB,CAAC;kDACgB,eAAS,oBAAT,eAAS;uCAAiB;AAf9C,uBAgBC","sourcesContent":[" import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\nimport Purchase from './Purchase'\n\nexport default class Bill extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public payment_amount: number\n  @column() public commission: number\n  @column() public dibursed_amount: number\n  @column() public purchase: number\n  @column() public state: boolean\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @belongsTo(() => Purchase,{\n    localKey: 'id',\n    foreignKey: 'purchase' \n  })\n  public purchases: BelongsTo<typeof Purchase>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0a0ce0d5a51b80156535ca83f140ad269fa63409","contentHash":"8535c621e127d1f83ed3383ab44aeff0fff87bcc022c40a5444ccd6e5155439b"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Admin.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\Admin.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":21,"column":0},"end":{"line":24,"column":34}},"20":{"start":{"line":25,"column":0},"end":{"line":28,"column":37}},"21":{"start":{"line":29,"column":0},"end":{"line":32,"column":41}},"22":{"start":{"line":33,"column":0},"end":{"line":36,"column":41}},"23":{"start":{"line":37,"column":0},"end":{"line":40,"column":36}},"24":{"start":{"line":38,"column":31},"end":{"line":38,"column":45}},"25":{"start":{"line":41,"column":0},"end":{"line":41,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":38,"column":25},"end":{"line":38,"column":26}},"loc":{"start":{"line":38,"column":31},"end":{"line":38,"column":45}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":31,"column":30},"end":{"line":31,"column":132}},"type":"cond-expr","locations":[{"start":{"line":31,"column":121},"end":{"line":31,"column":123}},{"start":{"line":31,"column":126},"end":{"line":31,"column":132}}],"line":31},"17":{"loc":{"start":{"line":31,"column":43},"end":{"line":31,"column":102}},"type":"binary-expr","locations":[{"start":{"line":31,"column":43},"end":{"line":31,"column":82}},{"start":{"line":31,"column":86},"end":{"line":31,"column":102}}],"line":31},"18":{"loc":{"start":{"line":35,"column":30},"end":{"line":35,"column":132}},"type":"cond-expr","locations":[{"start":{"line":35,"column":121},"end":{"line":35,"column":123}},{"start":{"line":35,"column":126},"end":{"line":35,"column":132}}],"line":35},"19":{"loc":{"start":{"line":35,"column":43},"end":{"line":35,"column":102}},"type":"binary-expr","locations":[{"start":{"line":35,"column":43},"end":{"line":35,"column":82}},{"start":{"line":35,"column":86},"end":{"line":35,"column":102}}],"line":35},"20":{"loc":{"start":{"line":39,"column":30},"end":{"line":39,"column":130}},"type":"cond-expr","locations":[{"start":{"line":39,"column":119},"end":{"line":39,"column":121}},{"start":{"line":39,"column":124},"end":{"line":39,"column":130}}],"line":39},"21":{"loc":{"start":{"line":39,"column":43},"end":{"line":39,"column":100}},"type":"binary-expr","locations":[{"start":{"line":39,"column":43},"end":{"line":39,"column":81}},{"start":{"line":39,"column":85},"end":{"line":39,"column":100}}],"line":39}},"s":{"0":1,"1":5,"2":5,"3":5,"4":5,"5":0,"6":0,"7":0,"8":0,"9":5,"10":1,"11":5,"12":5,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":1},"f":{"0":5,"1":5,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,5],"2":[0,5],"3":[5,0],"4":[5,5],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[5,5,0],"10":[1,1,1],"11":[5,0],"12":[5,5],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0]},"inputSourceMap":{"version":3,"file":"Admin.js","sourceRoot":"","sources":["Admin.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,kDAAyB;AAEzB,MAAqB,KAAM,SAAQ,eAAS;CAS3C;AAR8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;iCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;oCAAqB;AAES;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;wCAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;wCAAA;AAGpF;IADE,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAI,CAAC;kDACV,eAAS,oBAAT,eAAS;mCAAa;AARpC,wBASC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\nimport User from './User'\n\nexport default class Admin extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public phone: string\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @belongsTo(() => User)\n public user: BelongsTo<typeof User>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3e3b0da84b1f792e1ab50beba930d3063bf7b24e","contentHash":"bdb6dc6d375caf1923dd4a5a7e780b4ef3f8bbff66900007de52f989c33cdd4d"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\AuthJwt.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\AuthJwt.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":112}},"4":{"start":{"line":9,"column":8},"end":{"line":25,"column":9}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":74}},"6":{"start":{"line":11,"column":12},"end":{"line":16,"column":13}},"7":{"start":{"line":12,"column":16},"end":{"line":15,"column":19}},"8":{"start":{"line":17,"column":12},"end":{"line":17,"column":70}},"9":{"start":{"line":18,"column":12},"end":{"line":18,"column":25}},"10":{"start":{"line":21,"column":12},"end":{"line":24,"column":15}},"11":{"start":{"line":28,"column":0},"end":{"line":28,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":28},"end":{"line":26,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":11,"column":12},"end":{"line":16,"column":13}},"type":"if","locations":[{"start":{"line":11,"column":12},"end":{"line":16,"column":13}},{"start":{"line":11,"column":12},"end":{"line":16,"column":13}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":93,"5":93,"6":93,"7":1,"8":92,"9":92,"10":0,"11":1},"f":{"0":1,"1":93},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,92]},"inputSourceMap":{"version":3,"file":"AuthJwt.js","sourceRoot":"","sources":["AuthJwt.ts"],"names":[],"mappings":";;;;;AACA,iHAAmE;AAEnE,MAAqB,OAAO;IAEnB,KAAK,CAAC,MAAM,CAAC,GAAwB,EAAE,IAAyB;QAErE,IAAI;YACF,MAAM,kBAAkB,GAAQ,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YACpE,IAAI,CAAC,kBAAkB,EAAE;gBACvB,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnC,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,6BAA6B;iBACvC,CAAC,CAAC;aACJ;YAED,yBAAe,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YAChD,MAAM,IAAI,EAAE,CAAC;SACd;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnC,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK,CAAC,OAAO;aACvB,CAAC,CAAC;SACJ;IACH,CAAC;CAEF;AAvBD,0BAuBC","sourcesContent":["import type { HttpContextContract } from \"@ioc:Adonis/Core/HttpContext\";\nimport UsersController from \"App/Controllers/Http/UsersController\";\n\nexport default class AuthJwt {\n\n  public async handle(ctx: HttpContextContract, next: () => Promise<void>) {\n    // code for middleware goes here. ABOVE THE NEXT CALL\n    try {\n      const autorizationHeader: any = ctx.request.header(\"Authorization\");\n      if (!autorizationHeader) {\n        return ctx.response.status(401).json({\n          state: false,\n          message: \"Missing authorization token\",\n        });\n      }\n\n      UsersController.verifyToken(autorizationHeader);\n      await next();\n    } catch (error) {\n      return ctx.response.status(400).json({\n        state: true,\n        message: error.message,\n      });\n    }\n  }\n  \n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fce6e978ef09496c1eedb4e000697f8ea1efa8e7","contentHash":"7305c04c01d5a0b59726a120bf6bb8d8d4be1f6736b42ddceb6f175bb9a0e498"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\VerifyAdmin.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\VerifyAdmin.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":112}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":80}},"5":{"start":{"line":10,"column":8},"end":{"line":33,"column":9}},"6":{"start":{"line":11,"column":39},"end":{"line":11,"column":74}},"7":{"start":{"line":12,"column":27},"end":{"line":12,"column":89}},"8":{"start":{"line":13,"column":25},"end":{"line":13,"column":54}},"9":{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},"10":{"start":{"line":15,"column":16},"end":{"line":18,"column":19}},"11":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"12":{"start":{"line":21,"column":16},"end":{"line":24,"column":19}},"13":{"start":{"line":26,"column":12},"end":{"line":26,"column":25}},"14":{"start":{"line":29,"column":12},"end":{"line":32,"column":15}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":28},"end":{"line":34,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},{"start":{"line":14,"column":12},"end":{"line":19,"column":13}}],"line":14},"4":{"loc":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},{"start":{"line":20,"column":12},"end":{"line":25,"column":13}}],"line":20}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":28,"6":28,"7":28,"8":28,"9":28,"10":0,"11":28,"12":1,"13":27,"14":0,"15":1},"f":{"0":2,"1":28},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[0,28],"4":[1,27]},"inputSourceMap":{"version":3,"file":"VerifyAdmin.js","sourceRoot":"","sources":["VerifyAdmin.ts"],"names":[],"mappings":";;;;;AACA,iHAAmE;AACnE,iFAAmC;AAEnC,MAAqB,UAAU;IAEtB,KAAK,CAAC,MAAM,CAAC,GAAwB,EAAE,IAAyB;QACrE,IAAI;YACF,MAAM,kBAAkB,GAAO,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YACnE,MAAM,EAAC,EAAE,EAAC,GAAG,MAAM,yBAAe,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;YAClE,MAAM,IAAI,GAAG,MAAM,cAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAEjC,IAAG,CAAC,IAAI,EAAC;gBACP,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnC,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,gBAAgB;iBAC1B,CAAC,CAAA;aACH;YAED,IAAG,IAAI,CAAC,IAAI,KAAK,OAAO,EAAC;gBACvB,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnC,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,oDAAoD;iBAC9D,CAAC,CAAA;aACH;YAED,MAAM,IAAI,EAAE,CAAA;SAEb;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnC,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK,CAAC,OAAO;aACvB,CAAC,CAAC;SACJ;IACH,CAAC;CAEF;AAhCD,6BAgCC","sourcesContent":["import type { HttpContextContract } from \"@ioc:Adonis/Core/HttpContext\";\r\nimport UsersController from \"App/Controllers/Http/UsersController\";\r\nimport User from \"App/Models/User\";\r\n\r\nexport default class ValidAdmin {\r\n\r\n  public async handle(ctx: HttpContextContract, next: () => Promise<void>) {\r\n    try {\r\n      const autorizationHeader:any = ctx.request.header(\"Authorization\");\r\n      const {id} = await UsersController.getPayload(autorizationHeader);\r\n      const user = await User.find(id);\r\n\r\n      if(!user){\r\n        return ctx.response.status(401).json({\r\n          state: false,\r\n          message: 'No valid token'\r\n        })\r\n      }\r\n\r\n      if(user.role !== 'Admin'){\r\n        return ctx.response.status(401).json({\r\n          state: false,\r\n          message: 'You do not have permission to access this resource'\r\n        })\r\n      }\r\n\r\n      await next()\r\n\r\n    } catch (error) {\r\n      return ctx.response.status(400).json({\r\n        state: true,\r\n        message: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f2bb200f5023b3192a5cabe827a3274ce36eef39","contentHash":"cab85490f75c12f422e080959b49e1f61799cb5c2fda3fc2e3b41a27e6c9db9c"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\VerifyClient.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\VerifyClient.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":112}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":80}},"5":{"start":{"line":10,"column":8},"end":{"line":33,"column":9}},"6":{"start":{"line":11,"column":39},"end":{"line":11,"column":74}},"7":{"start":{"line":12,"column":27},"end":{"line":12,"column":89}},"8":{"start":{"line":13,"column":25},"end":{"line":13,"column":54}},"9":{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},"10":{"start":{"line":15,"column":16},"end":{"line":18,"column":19}},"11":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"12":{"start":{"line":21,"column":16},"end":{"line":24,"column":19}},"13":{"start":{"line":26,"column":12},"end":{"line":26,"column":25}},"14":{"start":{"line":29,"column":12},"end":{"line":32,"column":15}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":28},"end":{"line":34,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},{"start":{"line":14,"column":12},"end":{"line":19,"column":13}}],"line":14},"4":{"loc":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},{"start":{"line":20,"column":12},"end":{"line":25,"column":13}}],"line":20},"5":{"loc":{"start":{"line":20,"column":16},"end":{"line":20,"column":63}},"type":"binary-expr","locations":[{"start":{"line":20,"column":16},"end":{"line":20,"column":38}},{"start":{"line":20,"column":42},"end":{"line":20,"column":63}}],"line":20}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":29,"6":29,"7":29,"8":29,"9":29,"10":0,"11":29,"12":0,"13":29,"14":0,"15":1},"f":{"0":2,"1":29},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[0,29],"4":[0,29],"5":[29,2]},"inputSourceMap":{"version":3,"file":"VerifyClient.js","sourceRoot":"","sources":["VerifyClient.ts"],"names":[],"mappings":";;;;;AACA,iHAAmE;AACnE,iFAAmC;AAEnC,MAAqB,WAAW;IAEvB,KAAK,CAAC,MAAM,CAAC,GAAwB,EAAE,IAAyB;QACrE,IAAI;YACF,MAAM,kBAAkB,GAAO,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YACnE,MAAM,EAAC,EAAE,EAAC,GAAG,MAAM,yBAAe,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;YAClE,MAAM,IAAI,GAAG,MAAM,cAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAEjC,IAAG,CAAC,IAAI,EAAC;gBACP,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnC,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,gBAAgB;iBAC1B,CAAC,CAAA;aACH;YAED,IAAG,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAC;gBACjD,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnC,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,oDAAoD;iBAC9D,CAAC,CAAA;aACH;YAED,MAAM,IAAI,EAAE,CAAA;SAEb;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnC,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK,CAAC,OAAO;aACvB,CAAC,CAAC;SACJ;IACH,CAAC;CAEF;AAhCD,8BAgCC","sourcesContent":["import type { HttpContextContract } from \"@ioc:Adonis/Core/HttpContext\";\r\nimport UsersController from \"App/Controllers/Http/UsersController\";\r\nimport User from \"App/Models/User\";\r\n\r\nexport default class ValidClient {\r\n\r\n  public async handle(ctx: HttpContextContract, next: () => Promise<void>) {\r\n    try {\r\n      const autorizationHeader:any = ctx.request.header(\"Authorization\");\r\n      const {id} = await UsersController.getPayload(autorizationHeader);\r\n      const user = await User.find(id);\r\n      \r\n      if(!user){\r\n        return ctx.response.status(401).json({\r\n          state: false,\r\n          message: 'No valid token'\r\n        })\r\n      }\r\n\r\n      if(user.role !== 'Client' && user.role !== 'Admin'){\r\n        return ctx.response.status(401).json({\r\n          state: false,\r\n          message: 'You do not have permission to access this resource'\r\n        })\r\n      }\r\n\r\n      await next()\r\n\r\n    } catch (error) {\r\n      return ctx.response.status(400).json({\r\n        state: true,\r\n        message: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"39ea33fd1b0ee203b6eb3df7350c469ffec8511a","contentHash":"02ce1fb06561f68a57d896d720b2f7e558774526de9e2a3f235a64958ab0ad7c"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\ClientsController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\ClientsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":71}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":84}},"5":{"start":{"line":8,"column":19},"end":{"line":8,"column":90}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":80}},"7":{"start":{"line":10,"column":30},"end":{"line":10,"column":79}},"8":{"start":{"line":11,"column":29},"end":{"line":11,"column":77}},"9":{"start":{"line":12,"column":18},"end":{"line":12,"column":86}},"10":{"start":{"line":13,"column":28},"end":{"line":13,"column":75}},"11":{"start":{"line":14,"column":35},"end":{"line":14,"column":89}},"12":{"start":{"line":15,"column":27},"end":{"line":15,"column":73}},"13":{"start":{"line":16,"column":16},"end":{"line":16,"column":82}},"14":{"start":{"line":19,"column":8},"end":{"line":36,"column":9}},"15":{"start":{"line":20,"column":29},"end":{"line":20,"column":116}},"16":{"start":{"line":21,"column":12},"end":{"line":21,"column":37}},"17":{"start":{"line":22,"column":31},"end":{"line":22,"column":72}},"18":{"start":{"line":23,"column":32},"end":{"line":23,"column":63}},"19":{"start":{"line":24,"column":37},"end":{"line":24,"column":75}},"20":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"21":{"start":{"line":26,"column":16},"end":{"line":26,"column":67}},"22":{"start":{"line":28,"column":12},"end":{"line":28,"column":54}},"23":{"start":{"line":29,"column":12},"end":{"line":29,"column":63}},"24":{"start":{"line":32,"column":12},"end":{"line":35,"column":15}},"25":{"start":{"line":39,"column":8},"end":{"line":56,"column":9}},"26":{"start":{"line":40,"column":28},"end":{"line":44,"column":177}},"27":{"start":{"line":45,"column":12},"end":{"line":49,"column":15}},"28":{"start":{"line":52,"column":12},"end":{"line":55,"column":15}},"29":{"start":{"line":59,"column":8},"end":{"line":81,"column":9}},"30":{"start":{"line":60,"column":27},"end":{"line":64,"column":192}},"31":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"32":{"start":{"line":66,"column":16},"end":{"line":69,"column":19}},"33":{"start":{"line":71,"column":12},"end":{"line":74,"column":15}},"34":{"start":{"line":77,"column":12},"end":{"line":80,"column":15}},"35":{"start":{"line":84,"column":8},"end":{"line":110,"column":9}},"36":{"start":{"line":85,"column":25},"end":{"line":85,"column":96}},"37":{"start":{"line":86,"column":27},"end":{"line":86,"column":41}},"38":{"start":{"line":87,"column":12},"end":{"line":92,"column":13}},"39":{"start":{"line":88,"column":16},"end":{"line":91,"column":19}},"40":{"start":{"line":93,"column":29},"end":{"line":93,"column":114}},"41":{"start":{"line":94,"column":12},"end":{"line":94,"column":36}},"42":{"start":{"line":95,"column":31},"end":{"line":95,"column":72}},"43":{"start":{"line":96,"column":32},"end":{"line":96,"column":63}},"44":{"start":{"line":97,"column":37},"end":{"line":97,"column":79}},"45":{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},"46":{"start":{"line":99,"column":16},"end":{"line":99,"column":67}},"47":{"start":{"line":101,"column":12},"end":{"line":101,"column":37}},"48":{"start":{"line":102,"column":12},"end":{"line":102,"column":32}},"49":{"start":{"line":103,"column":12},"end":{"line":103,"column":67}},"50":{"start":{"line":106,"column":12},"end":{"line":109,"column":15}},"51":{"start":{"line":113,"column":8},"end":{"line":130,"column":9}},"52":{"start":{"line":114,"column":40},"end":{"line":114,"column":71}},"53":{"start":{"line":115,"column":30},"end":{"line":115,"column":93}},"54":{"start":{"line":116,"column":32},"end":{"line":116,"column":111}},"55":{"start":{"line":117,"column":12},"end":{"line":117,"column":39}},"56":{"start":{"line":118,"column":35},"end":{"line":118,"column":69}},"57":{"start":{"line":119,"column":40},"end":{"line":119,"column":87}},"58":{"start":{"line":120,"column":12},"end":{"line":122,"column":13}},"59":{"start":{"line":121,"column":16},"end":{"line":121,"column":70}},"60":{"start":{"line":123,"column":12},"end":{"line":123,"column":66}},"61":{"start":{"line":126,"column":12},"end":{"line":129,"column":15}},"62":{"start":{"line":133,"column":8},"end":{"line":155,"column":9}},"63":{"start":{"line":134,"column":26},"end":{"line":134,"column":63}},"64":{"start":{"line":135,"column":30},"end":{"line":135,"column":79}},"65":{"start":{"line":136,"column":27},"end":{"line":142,"column":14}},"66":{"start":{"line":137,"column":16},"end":{"line":141,"column":19}},"67":{"start":{"line":138,"column":20},"end":{"line":140,"column":23}},"68":{"start":{"line":139,"column":24},"end":{"line":139,"column":101}},"69":{"start":{"line":143,"column":31},"end":{"line":143,"column":49}},"70":{"start":{"line":144,"column":12},"end":{"line":148,"column":15}},"71":{"start":{"line":151,"column":12},"end":{"line":154,"column":15}},"72":{"start":{"line":158,"column":8},"end":{"line":172,"column":9}},"73":{"start":{"line":159,"column":37},"end":{"line":159,"column":48}},"74":{"start":{"line":160,"column":36},"end":{"line":160,"column":71}},"75":{"start":{"line":161,"column":41},"end":{"line":161,"column":102}},"76":{"start":{"line":162,"column":12},"end":{"line":164,"column":13}},"77":{"start":{"line":163,"column":16},"end":{"line":163,"column":71}},"78":{"start":{"line":165,"column":12},"end":{"line":165,"column":67}},"79":{"start":{"line":168,"column":12},"end":{"line":171,"column":15}},"80":{"start":{"line":175,"column":36},"end":{"line":175,"column":73}},"81":{"start":{"line":176,"column":26},"end":{"line":176,"column":89}},"82":{"start":{"line":177,"column":37},"end":{"line":177,"column":77}},"83":{"start":{"line":178,"column":42},"end":{"line":178,"column":109}},"84":{"start":{"line":179,"column":8},"end":{"line":181,"column":9}},"85":{"start":{"line":180,"column":12},"end":{"line":180,"column":72}},"86":{"start":{"line":182,"column":8},"end":{"line":185,"column":11}},"87":{"start":{"line":188,"column":8},"end":{"line":204,"column":9}},"88":{"start":{"line":189,"column":40},"end":{"line":189,"column":77}},"89":{"start":{"line":190,"column":30},"end":{"line":190,"column":93}},"90":{"start":{"line":191,"column":27},"end":{"line":191,"column":78}},"91":{"start":{"line":192,"column":35},"end":{"line":192,"column":73}},"92":{"start":{"line":193,"column":12},"end":{"line":197,"column":15}},"93":{"start":{"line":200,"column":12},"end":{"line":203,"column":15}},"94":{"start":{"line":207,"column":8},"end":{"line":250,"column":9}},"95":{"start":{"line":208,"column":43},"end":{"line":208,"column":54}},"96":{"start":{"line":209,"column":26},"end":{"line":209,"column":63}},"97":{"start":{"line":210,"column":30},"end":{"line":210,"column":79}},"98":{"start":{"line":211,"column":27},"end":{"line":211,"column":69}},"99":{"start":{"line":212,"column":12},"end":{"line":217,"column":13}},"100":{"start":{"line":213,"column":16},"end":{"line":216,"column":19}},"101":{"start":{"line":218,"column":31},"end":{"line":218,"column":110}},"102":{"start":{"line":219,"column":12},"end":{"line":219,"column":39}},"103":{"start":{"line":220,"column":12},"end":{"line":220,"column":38}},"104":{"start":{"line":221,"column":34},"end":{"line":221,"column":67}},"105":{"start":{"line":222,"column":39},"end":{"line":222,"column":83}},"106":{"start":{"line":223,"column":12},"end":{"line":225,"column":13}},"107":{"start":{"line":224,"column":16},"end":{"line":224,"column":69}},"108":{"start":{"line":226,"column":33},"end":{"line":233,"column":42}},"109":{"start":{"line":234,"column":26},"end":{"line":234,"column":61}},"110":{"start":{"line":235,"column":36},"end":{"line":235,"column":83}},"111":{"start":{"line":236,"column":12},"end":{"line":239,"column":13}},"112":{"start":{"line":237,"column":16},"end":{"line":237,"column":112}},"113":{"start":{"line":238,"column":16},"end":{"line":238,"column":48}},"114":{"start":{"line":240,"column":12},"end":{"line":243,"column":15}},"115":{"start":{"line":246,"column":12},"end":{"line":249,"column":15}},"116":{"start":{"line":253,"column":36},"end":{"line":253,"column":73}},"117":{"start":{"line":254,"column":26},"end":{"line":254,"column":89}},"118":{"start":{"line":255,"column":23},"end":{"line":255,"column":70}},"119":{"start":{"line":256,"column":8},"end":{"line":261,"column":9}},"120":{"start":{"line":257,"column":12},"end":{"line":260,"column":15}},"121":{"start":{"line":262,"column":29},"end":{"line":262,"column":61}},"122":{"start":{"line":263,"column":34},"end":{"line":263,"column":103}},"123":{"start":{"line":264,"column":8},"end":{"line":266,"column":9}},"124":{"start":{"line":265,"column":12},"end":{"line":265,"column":64}},"125":{"start":{"line":267,"column":8},"end":{"line":270,"column":11}},"126":{"start":{"line":273,"column":23},"end":{"line":273,"column":79}},"127":{"start":{"line":274,"column":8},"end":{"line":276,"column":9}},"128":{"start":{"line":275,"column":12},"end":{"line":275,"column":25}},"129":{"start":{"line":277,"column":31},"end":{"line":279,"column":10}},"130":{"start":{"line":278,"column":12},"end":{"line":278,"column":79}},"131":{"start":{"line":280,"column":8},"end":{"line":280,"column":61}},"132":{"start":{"line":283,"column":0},"end":{"line":283,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":46},"end":{"line":37,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":35},"end":{"line":57,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":49},"end":{"line":82,"column":5}},"line":58},"4":{"name":"(anonymous_4)","decl":{"start":{"line":83,"column":4},"end":{"line":83,"column":5}},"loc":{"start":{"line":83,"column":58},"end":{"line":111,"column":5}},"line":83},"5":{"name":"(anonymous_5)","decl":{"start":{"line":112,"column":4},"end":{"line":112,"column":5}},"loc":{"start":{"line":112,"column":45},"end":{"line":131,"column":5}},"line":112},"6":{"name":"(anonymous_6)","decl":{"start":{"line":132,"column":4},"end":{"line":132,"column":5}},"loc":{"start":{"line":132,"column":47},"end":{"line":156,"column":5}},"line":132},"7":{"name":"(anonymous_7)","decl":{"start":{"line":136,"column":95},"end":{"line":136,"column":96}},"loc":{"start":{"line":136,"column":111},"end":{"line":142,"column":13}},"line":136},"8":{"name":"(anonymous_8)","decl":{"start":{"line":137,"column":118},"end":{"line":137,"column":119}},"loc":{"start":{"line":137,"column":135},"end":{"line":141,"column":17}},"line":137},"9":{"name":"(anonymous_9)","decl":{"start":{"line":138,"column":77},"end":{"line":138,"column":78}},"loc":{"start":{"line":138,"column":91},"end":{"line":140,"column":21}},"line":138},"10":{"name":"(anonymous_10)","decl":{"start":{"line":157,"column":4},"end":{"line":157,"column":5}},"loc":{"start":{"line":157,"column":47},"end":{"line":173,"column":5}},"line":157},"11":{"name":"(anonymous_11)","decl":{"start":{"line":174,"column":4},"end":{"line":174,"column":5}},"loc":{"start":{"line":174,"column":58},"end":{"line":186,"column":5}},"line":174},"12":{"name":"(anonymous_12)","decl":{"start":{"line":187,"column":4},"end":{"line":187,"column":5}},"loc":{"start":{"line":187,"column":51},"end":{"line":205,"column":5}},"line":187},"13":{"name":"(anonymous_13)","decl":{"start":{"line":206,"column":4},"end":{"line":206,"column":5}},"loc":{"start":{"line":206,"column":51},"end":{"line":251,"column":5}},"line":206},"14":{"name":"(anonymous_14)","decl":{"start":{"line":252,"column":4},"end":{"line":252,"column":5}},"loc":{"start":{"line":252,"column":54},"end":{"line":271,"column":5}},"line":252},"15":{"name":"(anonymous_15)","decl":{"start":{"line":272,"column":4},"end":{"line":272,"column":5}},"loc":{"start":{"line":272,"column":40},"end":{"line":281,"column":5}},"line":272},"16":{"name":"(anonymous_16)","decl":{"start":{"line":277,"column":109},"end":{"line":277,"column":110}},"loc":{"start":{"line":277,"column":126},"end":{"line":279,"column":9}},"line":277}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},{"start":{"line":25,"column":12},"end":{"line":27,"column":13}}],"line":25},"4":{"loc":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},{"start":{"line":65,"column":12},"end":{"line":70,"column":13}}],"line":65},"5":{"loc":{"start":{"line":87,"column":12},"end":{"line":92,"column":13}},"type":"if","locations":[{"start":{"line":87,"column":12},"end":{"line":92,"column":13}},{"start":{"line":87,"column":12},"end":{"line":92,"column":13}}],"line":87},"6":{"loc":{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},{"start":{"line":98,"column":12},"end":{"line":100,"column":13}}],"line":98},"7":{"loc":{"start":{"line":120,"column":12},"end":{"line":122,"column":13}},"type":"if","locations":[{"start":{"line":120,"column":12},"end":{"line":122,"column":13}},{"start":{"line":120,"column":12},"end":{"line":122,"column":13}}],"line":120},"8":{"loc":{"start":{"line":162,"column":12},"end":{"line":164,"column":13}},"type":"if","locations":[{"start":{"line":162,"column":12},"end":{"line":164,"column":13}},{"start":{"line":162,"column":12},"end":{"line":164,"column":13}}],"line":162},"9":{"loc":{"start":{"line":179,"column":8},"end":{"line":181,"column":9}},"type":"if","locations":[{"start":{"line":179,"column":8},"end":{"line":181,"column":9}},{"start":{"line":179,"column":8},"end":{"line":181,"column":9}}],"line":179},"10":{"loc":{"start":{"line":212,"column":12},"end":{"line":217,"column":13}},"type":"if","locations":[{"start":{"line":212,"column":12},"end":{"line":217,"column":13}},{"start":{"line":212,"column":12},"end":{"line":217,"column":13}}],"line":212},"11":{"loc":{"start":{"line":223,"column":12},"end":{"line":225,"column":13}},"type":"if","locations":[{"start":{"line":223,"column":12},"end":{"line":225,"column":13}},{"start":{"line":223,"column":12},"end":{"line":225,"column":13}}],"line":223},"12":{"loc":{"start":{"line":236,"column":12},"end":{"line":239,"column":13}},"type":"if","locations":[{"start":{"line":236,"column":12},"end":{"line":239,"column":13}},{"start":{"line":236,"column":12},"end":{"line":239,"column":13}}],"line":236},"13":{"loc":{"start":{"line":256,"column":8},"end":{"line":261,"column":9}},"type":"if","locations":[{"start":{"line":256,"column":8},"end":{"line":261,"column":9}},{"start":{"line":256,"column":8},"end":{"line":261,"column":9}}],"line":256},"14":{"loc":{"start":{"line":264,"column":8},"end":{"line":266,"column":9}},"type":"if","locations":[{"start":{"line":264,"column":8},"end":{"line":266,"column":9}},{"start":{"line":264,"column":8},"end":{"line":266,"column":9}}],"line":264},"15":{"loc":{"start":{"line":274,"column":8},"end":{"line":276,"column":9}},"type":"if","locations":[{"start":{"line":274,"column":8},"end":{"line":276,"column":9}},{"start":{"line":274,"column":8},"end":{"line":276,"column":9}}],"line":274},"16":{"loc":{"start":{"line":280,"column":15},"end":{"line":280,"column":60}},"type":"cond-expr","locations":[{"start":{"line":280,"column":48},"end":{"line":280,"column":52}},{"start":{"line":280,"column":55},"end":{"line":280,"column":60}}],"line":280}},"s":{"0":1,"1":11,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":4,"15":4,"16":4,"17":4,"18":4,"19":4,"20":4,"21":3,"22":1,"23":1,"24":0,"25":1,"26":1,"27":1,"28":0,"29":2,"30":2,"31":2,"32":1,"33":1,"34":0,"35":4,"36":4,"37":4,"38":3,"39":1,"40":2,"41":2,"42":2,"43":2,"44":2,"45":2,"46":1,"47":1,"48":1,"49":1,"50":1,"51":3,"52":3,"53":3,"54":3,"55":3,"56":3,"57":3,"58":3,"59":2,"60":1,"61":0,"62":2,"63":2,"64":2,"65":2,"66":1,"67":1,"68":1,"69":2,"70":1,"71":1,"72":4,"73":4,"74":4,"75":4,"76":4,"77":3,"78":1,"79":0,"80":2,"81":2,"82":2,"83":2,"84":2,"85":1,"86":1,"87":2,"88":2,"89":2,"90":2,"91":1,"92":1,"93":1,"94":3,"95":3,"96":3,"97":3,"98":3,"99":1,"100":0,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":0,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":2,"116":2,"117":2,"118":2,"119":2,"120":1,"121":1,"122":1,"123":1,"124":0,"125":1,"126":5,"127":5,"128":0,"129":5,"130":5,"131":3,"132":1},"f":{"0":11,"1":4,"2":1,"3":2,"4":4,"5":3,"6":2,"7":1,"8":1,"9":1,"10":4,"11":2,"12":2,"13":3,"14":2,"15":5,"16":5},"b":{"0":[1,1,1],"1":[10,1],"2":[11,11],"3":[3,1],"4":[1,1],"5":[1,2],"6":[1,1],"7":[2,1],"8":[3,1],"9":[1,1],"10":[0,1],"11":[0,1],"12":[1,0],"13":[1,1],"14":[0,1],"15":[0,5],"16":[2,1]},"inputSourceMap":{"version":3,"file":"ClientsController.js","sourceRoot":"","sources":["ClientsController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport UsersController from './UsersController'\nimport Client from 'App/Models/Client'\nimport Database from '@ioc:Adonis/Lucid/Database'\nimport User from 'App/Models/User'\nimport PurchasesController from './PurchasesController'\nimport RequestsController from './RequestsController'\nimport Request from 'App/Models/Request'\nimport RatingsController from './RatingsController'\nimport FavoriteOffersController from './FavoriteOffersController'\nimport OffersController from './OffersController'\nimport Offer from 'App/Models/Offer'\n\nexport default class ClientsController {\n\n    public async createClient({request, response}: HttpContextContract):Promise<void>{\n        try{\n            const userData = request.only(['phone', 'name', 'password', 'email', 'address', 'bank_account', 'role'])\n            userData.role = 'Client' //Role of the user\n            const clientData = request.only(['phone', 'payment_method'])\n\n            //Create user\n            const userControl = new UsersController()\n            const responseFromUser = await userControl.createUser(userData)\n            if(!responseFromUser.state){\n                return response.status(400).json(responseFromUser)\n            }\n\n            //Create client\n            await Client.create(clientData)\n\n            return response.status(200).json(responseFromUser)\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getClients({response}: HttpContextContract):Promise<void>{\n        try{\n            const clients = await Database\n            .from('users')\n            .join('clients', 'users.phone', '=', 'clients.phone')\n            .where({state: true})\n            .select(['users.id', 'users.name', 'users.phone', 'users.email', 'users.address', 'users.bank_account', 'users.role', 'clients.payment_method', 'clients.level']) \n\n            return response.status(200).json({\n                state: true,\n                message: 'List of clients',\n                clients\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getClientByEmail({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const client:Object[] = await Database\n            .from('users')\n            .join('clients', 'users.phone', '=', 'clients.phone')\n            .where({email: params.email})\n            .select(['users.id', 'users.name', 'users.phone', 'users.email', 'users.address', 'users.bank_account', 'users.state','users.role', 'clients.payment_method', 'clients.level']) \n\n            if(!client[0]){\n                return response.status(400).json({\n                    state:false,\n                    message: 'User not found'\n                })\n            }\n\n            return response.status(200).json({\n                state: true,\n                client: client[0]\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async updateClientById({request, response, params}: HttpContextContract):Promise<void>{\n        try{\n            const user:User[] = await User.query().where({id: params.id}).preload('client')\n            const client:Client = user[0].client\n            if(!client){\n                return response.status(400).json({\n                    state:false,\n                    message: 'User not found'\n                })\n            }\n            const userData = request.only(['id', 'name', 'email', 'password', 'address', 'bank_account', 'state'])\n            userData.id = params.id\n            const clientData = request.only(['payment_method', 'level'])\n\n            //Update user\n            const userControl = new UsersController()\n            const responseFromUser = await userControl.updateUserById(userData)\n\n            if(!responseFromUser.state){\n                return response.status(400).json(responseFromUser)\n            }\n\n            //Update client\n            client.merge(clientData)\n            await client.save()\n\n            return response.status(200).json({responseFromUser})\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n    \n    public async makeRequest({request, response}: HttpContextContract):Promise<void>{\n        try{\n            const authorizationHeader:any = request.header('Authorization')\n            //Get client phone from token\n            const {phone} = await UsersController.getPayload(authorizationHeader)\n            const requestData = request.only(['time_limit', 'address', 'comments', 'date', 'client', 'offers'])\n\n            //Create request\n            requestData.client = phone\n            const requestControl = new RequestsController()\n            const responseFromRequest = await requestControl.createRequest(requestData)\n            if(!responseFromRequest.state){\n                return response.status(400).json(responseFromRequest)\n            }\n\n            return response.status(200).json(responseFromRequest)\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async seeMyRequests({request, response}: HttpContextContract):Promise<void>{\n        try{\n            //Get client phone from token\n            const token:any = await request.header('Authorization')\n            const { phone } = await UsersController.getPayload(token)\n            const client = await Client.query().where({phone}).preload('requests', requestQuery => {\n                requestQuery.select('request_code', 'time_limit', 'address', 'comments', 'date').preload('purchases', purchaseQuery => {\n                    purchaseQuery.select('state', 'offer').preload('offers', offerQuery => {\n                        offerQuery.select('id', 'price', 'description', 'service_provider', 'state')\n                    })\n                })\n            })\n            const myRequests = client[0].requests\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of my requests',\n                myRequests\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async cancelPurchase({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const [request, offer] = params['*']\n            const purchaseControl = new PurchasesController()\n            const responseFromPurchase = await purchaseControl.changeState(request, offer, 'canceled')\n\n            if(!responseFromPurchase.state){\n                return response.status(400).json(responseFromPurchase)\n            }\n\n            return response.status(200).json(responseFromPurchase)\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async addFavoriteOffer({request, response, params}: HttpContextContract):Promise<void>{\n        //Get client phone from token\n        const authorizationHeader:any = await request.header('Authorization')\n        const { phone } = await UsersController.getPayload(authorizationHeader)\n        const favoriteOfferControl = new FavoriteOffersController()\n        const responseFromFavoriteOffer = await favoriteOfferControl.createFavoriteOffer(phone, params.offer)\n\n        if(!responseFromFavoriteOffer.state){\n            return response.status(400).json(responseFromFavoriteOffer)\n        }\n\n        return response.status(200).json({\n            state: true,\n            message: 'Offer added to favorites'\n        })\n\n    }\n\n    public async getFavoriteOffers({request, response}: HttpContextContract):Promise<void>{\n        try{\n            //Get client phone from token\n            const authorizationHeader:any = await request.header('Authorization')\n            const { phone } = await UsersController.getPayload(authorizationHeader)\n            const client:any = await Client.findByOrFail('phone', phone)\n            const favoriteOffers = await client.related('offers').query()\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of favorite offers',\n                favoriteOffers\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async rateOffer({request, response, params}: HttpContextContract):Promise<void>{\n        try{\n            //Fisrt I should verify if that offer (params.offer) has been requested by client, and if the service provider has accepted it. Only in this case the client can rate the offer\n            const [requestCode, offerId] = params['*']\n            const token:any = await request.header('Authorization')\n            const {phone} = await UsersController.getPayload(token)\n            const verify:boolean = await this.verifyRateOffer(phone, offerId)\n\n            if(!verify){\n                return response.status(400).json({\n                    state: false,\n                    message: 'You can not rate this offer'\n                })\n            }\n\n            const ratingData = request.only(['efficiency', 'efficacy', 'customer_service', 'offer', 'client'])\n\n            ratingData.offer = offerId\n            ratingData.client = phone\n\n            const ratingControl = new RatingsController()\n            const responseFromRating = await ratingControl.createRating(ratingData)\n\n            if(!responseFromRating.state){\n                return response.status(400).json(responseFromRating)\n            }\n\n            //Get money to transfer to service provider\n\n            let dibursedAmount = await Database.\n            from('bills')\n            .where('purchase', \n                Database.from('purchases')\n                .where('offer', offerId)\n                .where('request', requestCode)\n                .where('state', 'accepted')\n                .select('id')\n                )\n            .select('dibursed_amount')\n\n            //Then money is transferred from client to service provider\n            const offer = await Offer.find(offerId)\n            const ServiceProvider = await offer?.related('serviceProvider').query()\n\n            if(ServiceProvider){\n                ServiceProvider[0].income = (+ServiceProvider[0].income) + (+dibursedAmount[0].dibursed_amount)\n                await ServiceProvider[0].save()\n            }\n\n            return response.status(200).json({\n                state: true,\n                message: 'Offer rated successfully'\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async commentOffer({request, response, params}: HttpContextContract):Promise<void>{\n        const authorizationHeader:any = await request.header('Authorization')\n        const {phone} = await UsersController.getPayload(authorizationHeader)\n        //To comment an offer, the client must have requested it and the service provider must have accepted it\n        const verify:boolean = await this.verifyRateOffer(phone, params.offer)\n\n        if(!verify){\n            return response.status(400).json({\n                state: false,\n                message: 'You can not comment this offer'\n            })\n        }\n\n        const offerControl = new OffersController()\n        const responseFromOffer = await offerControl.addComment(request.input('comment'), params.offer) \n\n        if(!responseFromOffer.state){\n            return response.status(400).json(responseFromOffer)\n        }\n\n        return response.status(200).json({\n            state: true,\n            message: 'Offer commented successfully'\n        })\n\n    }\n\n    private async verifyRateOffer(phone:string, offer:number):Promise<boolean>{\n\n        const client:Request[] = await Request.query().where({client: phone})\n        if (client.length === 0) {\n            return false\n        }\n        const purchaseClient:Request[] = await Request.query().where({client: phone}).preload('purchases', purchaseQuery => {\n            purchaseQuery.where({offer: offer}).where({state: 'accepted'})\n        })\n\n        return purchaseClient[0].purchases[0] ? true : false\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3232691c24cf578c8077bc15b8aea1ef7b3c33ae","contentHash":"eef68136e68ae2d9f2ea343eee9d323305adad9ff7a39b5d761b1a912930d35d"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\PurchasesController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\PurchasesController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":82}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":88}},"5":{"start":{"line":8,"column":26},"end":{"line":8,"column":71}},"6":{"start":{"line":11,"column":8},"end":{"line":34,"column":9}},"7":{"start":{"line":12,"column":12},"end":{"line":23,"column":13}},"8":{"start":{"line":13,"column":16},"end":{"line":18,"column":17}},"9":{"start":{"line":14,"column":20},"end":{"line":17,"column":22}},"10":{"start":{"line":19,"column":16},"end":{"line":22,"column":19}},"11":{"start":{"line":24,"column":12},"end":{"line":27,"column":14}},"12":{"start":{"line":30,"column":12},"end":{"line":33,"column":14}},"13":{"start":{"line":37,"column":8},"end":{"line":50,"column":9}},"14":{"start":{"line":38,"column":30},"end":{"line":38,"column":80}},"15":{"start":{"line":39,"column":12},"end":{"line":43,"column":15}},"16":{"start":{"line":46,"column":12},"end":{"line":49,"column":15}},"17":{"start":{"line":53,"column":8},"end":{"line":72,"column":9}},"18":{"start":{"line":54,"column":29},"end":{"line":54,"column":69}},"19":{"start":{"line":55,"column":12},"end":{"line":61,"column":13}},"20":{"start":{"line":56,"column":16},"end":{"line":60,"column":19}},"21":{"start":{"line":62,"column":12},"end":{"line":65,"column":15}},"22":{"start":{"line":68,"column":12},"end":{"line":71,"column":15}},"23":{"start":{"line":75,"column":8},"end":{"line":88,"column":9}},"24":{"start":{"line":76,"column":30},"end":{"line":76,"column":111}},"25":{"start":{"line":77,"column":12},"end":{"line":81,"column":15}},"26":{"start":{"line":84,"column":12},"end":{"line":87,"column":15}},"27":{"start":{"line":91,"column":8},"end":{"line":103,"column":9}},"28":{"start":{"line":92,"column":29},"end":{"line":92,"column":182}},"29":{"start":{"line":93,"column":12},"end":{"line":96,"column":15}},"30":{"start":{"line":99,"column":12},"end":{"line":102,"column":15}},"31":{"start":{"line":106,"column":8},"end":{"line":140,"column":9}},"32":{"start":{"line":107,"column":29},"end":{"line":107,"column":131}},"33":{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},"34":{"start":{"line":109,"column":16},"end":{"line":112,"column":18}},"35":{"start":{"line":114,"column":12},"end":{"line":119,"column":13}},"36":{"start":{"line":115,"column":16},"end":{"line":118,"column":18}},"37":{"start":{"line":120,"column":12},"end":{"line":127,"column":13}},"38":{"start":{"line":121,"column":36},"end":{"line":121,"column":67}},"39":{"start":{"line":122,"column":33},"end":{"line":122,"column":106}},"40":{"start":{"line":123,"column":41},"end":{"line":123,"column":79}},"41":{"start":{"line":124,"column":16},"end":{"line":126,"column":17}},"42":{"start":{"line":125,"column":20},"end":{"line":125,"column":44}},"43":{"start":{"line":128,"column":12},"end":{"line":128,"column":38}},"44":{"start":{"line":129,"column":12},"end":{"line":129,"column":37}},"45":{"start":{"line":130,"column":12},"end":{"line":133,"column":14}},"46":{"start":{"line":136,"column":12},"end":{"line":139,"column":14}},"47":{"start":{"line":143,"column":22},"end":{"line":143,"column":57}},"48":{"start":{"line":144,"column":8},"end":{"line":144,"column":36}},"49":{"start":{"line":147,"column":0},"end":{"line":147,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":42},"end":{"line":35,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":37},"end":{"line":51,"column":5}},"line":36},"3":{"name":"(anonymous_3)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":48},"end":{"line":73,"column":5}},"line":52},"4":{"name":"(anonymous_4)","decl":{"start":{"line":74,"column":4},"end":{"line":74,"column":5}},"loc":{"start":{"line":74,"column":51},"end":{"line":89,"column":5}},"line":74},"5":{"name":"(anonymous_5)","decl":{"start":{"line":90,"column":4},"end":{"line":90,"column":5}},"loc":{"start":{"line":90,"column":48},"end":{"line":104,"column":5}},"line":90},"6":{"name":"(anonymous_6)","decl":{"start":{"line":105,"column":4},"end":{"line":105,"column":5}},"loc":{"start":{"line":105,"column":102},"end":{"line":141,"column":5}},"line":105},"7":{"name":"(anonymous_7)","decl":{"start":{"line":142,"column":4},"end":{"line":142,"column":5}},"loc":{"start":{"line":142,"column":33},"end":{"line":145,"column":5}},"line":142}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":16},"end":{"line":18,"column":17}},"type":"if","locations":[{"start":{"line":13,"column":16},"end":{"line":18,"column":17}},{"start":{"line":13,"column":16},"end":{"line":18,"column":17}}],"line":13},"4":{"loc":{"start":{"line":55,"column":12},"end":{"line":61,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":61,"column":13}},{"start":{"line":55,"column":12},"end":{"line":61,"column":13}}],"line":55},"5":{"loc":{"start":{"line":105,"column":45},"end":{"line":105,"column":63}},"type":"default-arg","locations":[{"start":{"line":105,"column":62},"end":{"line":105,"column":63}}],"line":105},"6":{"loc":{"start":{"line":105,"column":65},"end":{"line":105,"column":79}},"type":"default-arg","locations":[{"start":{"line":105,"column":78},"end":{"line":105,"column":79}}],"line":105},"7":{"loc":{"start":{"line":105,"column":81},"end":{"line":105,"column":100}},"type":"default-arg","locations":[{"start":{"line":105,"column":99},"end":{"line":105,"column":100}}],"line":105},"8":{"loc":{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},{"start":{"line":108,"column":12},"end":{"line":113,"column":13}}],"line":108},"9":{"loc":{"start":{"line":114,"column":12},"end":{"line":119,"column":13}},"type":"if","locations":[{"start":{"line":114,"column":12},"end":{"line":119,"column":13}},{"start":{"line":114,"column":12},"end":{"line":119,"column":13}}],"line":114},"10":{"loc":{"start":{"line":120,"column":12},"end":{"line":127,"column":13}},"type":"if","locations":[{"start":{"line":120,"column":12},"end":{"line":127,"column":13}},{"start":{"line":120,"column":12},"end":{"line":127,"column":13}}],"line":120},"11":{"loc":{"start":{"line":124,"column":16},"end":{"line":126,"column":17}},"type":"if","locations":[{"start":{"line":124,"column":16},"end":{"line":126,"column":17}},{"start":{"line":124,"column":16},"end":{"line":126,"column":17}}],"line":124},"12":{"loc":{"start":{"line":144,"column":15},"end":{"line":144,"column":35}},"type":"cond-expr","locations":[{"start":{"line":144,"column":23},"end":{"line":144,"column":27}},{"start":{"line":144,"column":30},"end":{"line":144,"column":35}}],"line":144}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":0,"17":2,"18":2,"19":2,"20":1,"21":1,"22":0,"23":2,"24":2,"25":2,"26":0,"27":0,"28":0,"29":0,"30":0,"31":8,"32":8,"33":7,"34":2,"35":5,"36":2,"37":3,"38":1,"39":1,"40":1,"41":1,"42":0,"43":3,"44":3,"45":3,"46":1,"47":1,"48":1,"49":1},"f":{"0":3,"1":1,"2":1,"3":2,"4":2,"5":0,"6":8,"7":1},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3],"3":[0,1],"4":[1,1],"5":[6],"6":[6],"7":[6],"8":[2,5],"9":[2,3],"10":[1,2],"11":[0,1],"12":[1,0]},"inputSourceMap":{"version":3,"file":"PurchasesController.js","sourceRoot":"","sources":["PurchasesController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Offer from 'App/Models/Offer'\nimport Purchase from 'App/Models/Purchase'\nimport BillsController from './BillsController'\n\nexport default class PurchasesController {\n\n    public async createPurchase(offers:Array<number>, request:number){\n        try{\n            //Verify that all offers exist\n            for(const offer of offers){\n                if(!await this.validateOffer(offer)){\n                    return {\n                        state: false,\n                        message: 'Offer not found'\n                    }\n                }\n                await Purchase.create({\n                    offer,\n                    request,\n                })\n            }\n\n            return {\n                state: true,\n                message: 'Purchase created'\n            }\n\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }\n        }\n    }\n\n    public async getPurchases({response}: HttpContextContract):Promise<void>{\n        try{\n            const purchases = await Purchase.query().from('purchases')\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of purchases',\n                purchases\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getPurchaseById({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const purchase = await Purchase.find(params.id)\n            if(!purchase){\n                return response.status(400).json({\n                    state: true,\n                    message: 'Purchase found',\n                    purchase\n                })\n            }\n            return response.status(200).json({\n                state: true,\n                purchase\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getPurchaseByState({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const purchases:Purchase[] = await Purchase.query().where({state : params.state}).from('purchases')\n\n            return response.status(200).json({\n                state: true,\n                message: `List of purchases with state ${params.state}`,\n                purchases\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getBillPurchase({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const purchase:Purchase[] = await Purchase.query().where({id: params.id}).where({state: 'accepted'}).from('purchases').select('id', 'offer', 'request').preload('bill')\n\n            return response.status(200).json({\n                state: true,\n                purchase\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async changeState(request: number, offer: number, state: string, payment_amount = 0, commission = 0, dibursed_amount = 0) {\n        try{\n            const purchase:Purchase[] = await Purchase.query().where({request: request}).where({offer: offer}).from('purchases')\n\n            if(!purchase[0]){\n                return {\n                    state: false,\n                    message: 'Purchase not found'\n                }\n            }\n   \n            if(purchase[0].state !== 'pending'){\n                return {\n                    state: false,\n                    message: 'Purchase is not pending'\n                }\n            }\n            if(state === 'accepted'){\n                const billControl = new BillsController()\n                const billData = {payment_amount, commission, dibursed_amount, purchase: purchase[0].id}\n                const responseFromBill = await billControl.createBill(billData)\n                if(!responseFromBill.state){\n                    return responseFromBill\n                }\n            }\n            purchase[0].state = state\n            await purchase[0].save()\n            return {\n                state: true,\n                message: `Purchase ${state}`\n            }\n\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }\n        }\n    }\n\n    private async validateOffer(offerId: number):Promise<any>{\n        const offer:any = await Offer.find(offerId)\n        return offer ? true : false\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c82455ec7c3a8edae54165948d67e4ce0cb46aec","contentHash":"3e19ac9bbb4878f6f941d0f809ab84cf07ee1a2f7a0527822825e16353154436"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\BillsController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\BillsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":9,"column":8},"end":{"line":26,"column":9}},"5":{"start":{"line":10,"column":12},"end":{"line":15,"column":15}},"6":{"start":{"line":16,"column":12},"end":{"line":19,"column":14}},"7":{"start":{"line":22,"column":12},"end":{"line":25,"column":14}},"8":{"start":{"line":29,"column":8},"end":{"line":42,"column":9}},"9":{"start":{"line":30,"column":26},"end":{"line":30,"column":68}},"10":{"start":{"line":31,"column":12},"end":{"line":35,"column":15}},"11":{"start":{"line":38,"column":12},"end":{"line":41,"column":15}},"12":{"start":{"line":45,"column":8},"end":{"line":63,"column":9}},"13":{"start":{"line":46,"column":25},"end":{"line":46,"column":81}},"14":{"start":{"line":47,"column":12},"end":{"line":52,"column":13}},"15":{"start":{"line":48,"column":16},"end":{"line":51,"column":19}},"16":{"start":{"line":53,"column":12},"end":{"line":56,"column":15}},"17":{"start":{"line":59,"column":12},"end":{"line":62,"column":15}},"18":{"start":{"line":66,"column":0},"end":{"line":66,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":80},"end":{"line":27,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":33},"end":{"line":43,"column":5}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":50},"end":{"line":64,"column":5}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":47,"column":12},"end":{"line":52,"column":13}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":52,"column":13}},{"start":{"line":47,"column":12},"end":{"line":52,"column":13}}],"line":47}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":0,"12":2,"13":2,"14":2,"15":1,"16":1,"17":0,"18":1},"f":{"0":1,"1":1,"2":1,"3":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1]},"inputSourceMap":{"version":3,"file":"BillsController.js","sourceRoot":"","sources":["BillsController.ts"],"names":[],"mappings":";;;;;AACA,iFAAkC;AAElC,MAAqB,eAAe;IAE1B,KAAK,CAAC,UAAU,CAAC,EAAC,cAAc,EAAE,UAAU,EAAE,eAAe,EAAE,QAAQ,EAAC;QAC1E,IAAG;YACC,MAAM,cAAI,CAAC,MAAM,CAAC;gBACd,cAAc;gBACd,UAAU;gBACV,eAAe;gBACf,QAAQ;aACX,CAAC,CAAA;YAEF,OAAO;gBACH,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,2BAA2B;aACvC,CAAA;SACJ;QAAA,OAAM,KAAK,EAAC;YACV,OAAO;gBACH,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,KAAK,CAAC,OAAO;aACzB,CAAA;SACH;IACN,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAsB;QAChD,IAAG;YACC,MAAM,KAAK,GAAU,MAAM,cAAI,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;YAErD,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,eAAe;gBACxB,KAAK;aACR,CAAC,CAAA;SAEL;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK,CAAC,OAAO;aACzB,CAAC,CAAA;SACL;IACN,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,EAAC,QAAQ,EAAE,MAAM,EAAsB;QACrE,IAAG;YACC,MAAM,IAAI,GAAO,MAAM,cAAI,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAA;YAC/D,IAAG,CAAC,IAAI,EAAC;gBACL,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC7B,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,gBAAgB;iBAC5B,CAAC,CAAA;aACL;YAED,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,KAAK,EAAE,IAAI;gBACX,IAAI;aACP,CAAC,CAAA;SACL;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK,CAAC,OAAO;aACzB,CAAC,CAAA;SACL;IACF,CAAC;CAEH;AA/DD,kCA+DC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Bill from 'App/Models/Bill'\n\nexport default class BillsController {\n\n   public async createBill({payment_amount, commission, dibursed_amount, purchase}) {\n        try{\n            await Bill.create({\n                payment_amount,\n                commission,\n                dibursed_amount,\n                purchase\n            })\n\n            return {\n                state: true,\n                message: 'Bill created successfully'\n            }\n        }catch(error){\n           return {\n               state: false,\n               message: error.message\n           }\n        }\n   }\n\n   public async getBills({response}: HttpContextContract):Promise<void>{\n        try{\n            const bills:Bill[] = await Bill.query().from('bills')\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of bills',\n                bills\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: true,\n                message: error.message\n            })\n        }\n   }\n\n   public async getBillByPurchase({response, params}: HttpContextContract):Promise<void>{\n    try{\n        const bill:any = await Bill.findBy('purchase', params.purchase)\n        if(!bill){\n            return response.status(400).json({\n                state: true,\n                message: 'Bill not found'\n            })\n        }\n\n        return response.status(200).json({\n            state: true,\n            bill\n        })\n    }catch(error){\n        return response.status(400).json({\n            state: true,\n            message: error.message\n        })\n    }\n   }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"89fe45af597b7d75e9c403f907948e0cc9487cd8","contentHash":"12d7e9283ffc8ea2abd1ac07bb71867745e4bdc29fffa8b9acbea8f8fb6839d9"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\RequestsController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\RequestsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":86}},"4":{"start":{"line":7,"column":30},"end":{"line":7,"column":79}},"5":{"start":{"line":10,"column":8},"end":{"line":34,"column":9}},"6":{"start":{"line":11,"column":28},"end":{"line":17,"column":14}},"7":{"start":{"line":18,"column":36},"end":{"line":18,"column":71}},"8":{"start":{"line":19,"column":41},"end":{"line":19,"column":107}},"9":{"start":{"line":20,"column":12},"end":{"line":23,"column":13}},"10":{"start":{"line":21,"column":16},"end":{"line":21,"column":39}},"11":{"start":{"line":22,"column":16},"end":{"line":22,"column":44}},"12":{"start":{"line":24,"column":12},"end":{"line":27,"column":14}},"13":{"start":{"line":30,"column":12},"end":{"line":33,"column":14}},"14":{"start":{"line":37,"column":8},"end":{"line":50,"column":9}},"15":{"start":{"line":38,"column":29},"end":{"line":38,"column":58}},"16":{"start":{"line":39,"column":12},"end":{"line":43,"column":15}},"17":{"start":{"line":46,"column":12},"end":{"line":49,"column":15}},"18":{"start":{"line":53,"column":8},"end":{"line":71,"column":9}},"19":{"start":{"line":54,"column":28},"end":{"line":54,"column":69}},"20":{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},"21":{"start":{"line":56,"column":16},"end":{"line":59,"column":19}},"22":{"start":{"line":61,"column":12},"end":{"line":64,"column":15}},"23":{"start":{"line":67,"column":12},"end":{"line":70,"column":15}},"24":{"start":{"line":74,"column":8},"end":{"line":87,"column":9}},"25":{"start":{"line":75,"column":29},"end":{"line":75,"column":110}},"26":{"start":{"line":76,"column":12},"end":{"line":80,"column":15}},"27":{"start":{"line":83,"column":12},"end":{"line":86,"column":15}},"28":{"start":{"line":90,"column":8},"end":{"line":110,"column":9}},"29":{"start":{"line":91,"column":28},"end":{"line":91,"column":69}},"30":{"start":{"line":92,"column":12},"end":{"line":97,"column":13}},"31":{"start":{"line":93,"column":16},"end":{"line":96,"column":19}},"32":{"start":{"line":98,"column":27},"end":{"line":98,"column":66}},"33":{"start":{"line":99,"column":12},"end":{"line":103,"column":15}},"34":{"start":{"line":106,"column":12},"end":{"line":109,"column":15}},"35":{"start":{"line":113,"column":0},"end":{"line":113,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":81},"end":{"line":35,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":36},"end":{"line":51,"column":5}},"line":36},"3":{"name":"(anonymous_3)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":49},"end":{"line":72,"column":5}},"line":52},"4":{"name":"(anonymous_4)","decl":{"start":{"line":73,"column":4},"end":{"line":73,"column":5}},"loc":{"start":{"line":73,"column":51},"end":{"line":88,"column":5}},"line":73},"5":{"name":"(anonymous_5)","decl":{"start":{"line":89,"column":4},"end":{"line":89,"column":5}},"loc":{"start":{"line":89,"column":51},"end":{"line":111,"column":5}},"line":89}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":20,"column":12},"end":{"line":23,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":23,"column":13}},{"start":{"line":20,"column":12},"end":{"line":23,"column":13}}],"line":20},"4":{"loc":{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},{"start":{"line":55,"column":12},"end":{"line":60,"column":13}}],"line":55},"5":{"loc":{"start":{"line":92,"column":12},"end":{"line":97,"column":13}},"type":"if","locations":[{"start":{"line":92,"column":12},"end":{"line":97,"column":13}},{"start":{"line":92,"column":12},"end":{"line":97,"column":13}}],"line":92}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":3,"6":3,"7":1,"8":1,"9":1,"10":0,"11":0,"12":1,"13":2,"14":1,"15":1,"16":1,"17":0,"18":2,"19":2,"20":2,"21":1,"22":1,"23":0,"24":1,"25":1,"26":1,"27":0,"28":2,"29":2,"30":2,"31":1,"32":1,"33":1,"34":0,"35":1},"f":{"0":2,"1":3,"2":1,"3":2,"4":1,"5":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[0,1],"4":[1,1],"5":[1,1]},"inputSourceMap":{"version":3,"file":"RequestsController.js","sourceRoot":"","sources":["RequestsController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Request from 'App/Models/Request'\nimport PurchasesController from './PurchasesController'\n\nexport default class RequestsController {\n\n    public async createRequest({time_limit, address, comments, date, client, offers}){\n        try{\n            const request:Request = await Request.create({//Create request\n                time_limit,\n                address,\n                comments,\n                date,\n                client\n            })\n\n            const purchaseControl = new PurchasesController()\n            const responseFromPurchase = await purchaseControl.createPurchase(offers, request.request_code)//Create purchase\n\n            if(!responseFromPurchase.state){\n                await request.delete()\n                return responseFromPurchase\n            }\n\n            return {\n                state: true,\n                message: 'Request created successfully'\n            }\n\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }\n        }\n    }\n\n    public async getRequests({response}: HttpContextContract):Promise<void>{\n        try{\n            const requests:Request[] = await Request.all()\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of requests',\n                requests\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getRequestByCode({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const request = await Request.find(params.code)\n            if(!request){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Request not found'\n                })\n            }\n            return response.status(200).json({\n                state: true,\n                request\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getRequestByClient({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const requests:Request[] = await Request.query().where({client : params.client}).from('requests')\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of requests',\n                requests\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getOffersByRequest({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const request = await Request.find(params.code)\n            // const request = await Request.find(params.code).preload('offers')\n            if(!request){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Request not found'\n                })\n            }\n            const offers = await request.related('offers').query()\n            return response.status(200).json({\n                state: true,\n                message: 'List of offers',\n                offers\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a556065b08d6055eb7379d6b8ac0c664f0a8f7ac","contentHash":"743f8d9a96441636d137b52eecb608bd3caa7f58b9d75861988969ad187a9b3b"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\RatingsController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\RatingsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":84}},"4":{"start":{"line":9,"column":8},"end":{"line":27,"column":9}},"5":{"start":{"line":10,"column":12},"end":{"line":16,"column":15}},"6":{"start":{"line":17,"column":12},"end":{"line":20,"column":14}},"7":{"start":{"line":23,"column":12},"end":{"line":26,"column":14}},"8":{"start":{"line":30,"column":8},"end":{"line":43,"column":9}},"9":{"start":{"line":31,"column":28},"end":{"line":31,"column":56}},"10":{"start":{"line":32,"column":12},"end":{"line":36,"column":15}},"11":{"start":{"line":39,"column":12},"end":{"line":42,"column":15}},"12":{"start":{"line":46,"column":0},"end":{"line":46,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":82},"end":{"line":28,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":35},"end":{"line":44,"column":5}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":0,"12":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"RatingsController.js","sourceRoot":"","sources":["RatingsController.ts"],"names":[],"mappings":";;;;;AACA,qFAAsC;AAEtC,MAAqB,iBAAiB;IAE3B,KAAK,CAAC,YAAY,CAAC,EAAC,QAAQ,EAAE,UAAU,EAAE,gBAAgB,EAAE,MAAM,EAAE,KAAK,EAAC;QAC7E,IAAG;YACC,MAAM,gBAAM,CAAC,MAAM,CAAC;gBAChB,QAAQ;gBACR,UAAU;gBACV,gBAAgB;gBAChB,MAAM;gBACN,KAAK;aACR,CAAC,CAAA;YAEF,OAAO;gBACH,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,gBAAgB;aAC5B,CAAA;SACJ;QAAA,OAAM,KAAK,EAAC;YACT,OAAO;gBACH,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,KAAK,CAAC,OAAO;aACzB,CAAA;SACJ;IACL,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,EAAC,QAAQ,EAAsB;QACnD,IAAG;YACC,MAAM,OAAO,GAAG,MAAM,gBAAM,CAAC,GAAG,EAAE,CAAA;YAElC,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,iBAAiB;gBAC1B,OAAO;aACV,CAAC,CAAA;SACL;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,KAAK,CAAC,OAAO;aACzB,CAAC,CAAA;SACL;IACL,CAAC;CAEJ;AAzCD,oCAyCC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Rating from 'App/Models/Rating'\n\nexport default class RatingsController {\n\n    public async createRating({efficacy, efficiency, customer_service, client, offer}){\n        try{\n            await Rating.create({\n                efficacy,\n                efficiency,\n                customer_service,\n                client,\n                offer\n            })\n\n            return {\n                state: true,\n                message: 'Rating created'\n            }\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }\n        }\n    }\n\n    public async getRatings({response}: HttpContextContract):Promise<void>{\n        try{\n            const ratings = await Rating.all()\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of ratings',\n                ratings\n            })\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"beb7133cd6972dcf9d28b0eff363fc38b085fcb9","contentHash":"98666e2cb275a9f9092f1eb4cb42332cbfa556f21a2338a169ee2be58107f91a"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\FavoriteOffersController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\FavoriteOffersController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":24},"end":{"line":6,"column":98}},"4":{"start":{"line":9,"column":8},"end":{"line":24,"column":9}},"5":{"start":{"line":10,"column":12},"end":{"line":13,"column":15}},"6":{"start":{"line":14,"column":12},"end":{"line":17,"column":14}},"7":{"start":{"line":20,"column":12},"end":{"line":23,"column":14}},"8":{"start":{"line":27,"column":0},"end":{"line":27,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":45},"end":{"line":25,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":1,"7":1,"8":1},"f":{"0":1,"1":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"FavoriteOffersController.js","sourceRoot":"","sources":["FavoriteOffersController.ts"],"names":[],"mappings":";;;;;AAEA,mGAAoD;AAEpD,MAAqB,wBAAwB;IAElC,KAAK,CAAC,mBAAmB,CAAC,MAAM,EAAE,KAAK;QAC1C,IAAG;YACC,MAAM,uBAAa,CAAC,MAAM,CAAC;gBACvB,MAAM;gBACN,KAAK;aACR,CAAC,CAAA;YAEF,OAAO;gBACH,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,wBAAwB;aACpC,CAAA;SAEJ;QAAA,OAAM,KAAK,EAAC;YACT,OAAO;gBACH,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,KAAK,CAAC,OAAO;aACzB,CAAA;SACJ;IACL,CAAC;CAEJ;AAtBD,2CAsBC","sourcesContent":["// import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\n\nimport FavoriteOffer from \"App/Models/FavoriteOffer\"\n\nexport default class FavoriteOffersController {\n\n    public async createFavoriteOffer(client, offer){\n        try{\n            await FavoriteOffer.create({\n                client,\n                offer\n            })\n\n            return {\n                state: true,\n                message: 'Favorite offer created'\n            }\n\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }\n        }\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"52aa941a74b927b23d651b67485eaaebef51654e","contentHash":"72e5a0516ab9a02ace589d44b0c96bd83e9f1fb7441fbef451c794a94c3e547f"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\FavoriteOffer.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Models\\FavoriteOffer.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"19":{"start":{"line":19,"column":17},"end":{"line":19,"column":53}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":42}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":46}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":45}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":49}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":49}},"25":{"start":{"line":42,"column":0},"end":{"line":48,"column":46}},"26":{"start":{"line":43,"column":31},"end":{"line":43,"column":46}},"27":{"start":{"line":49,"column":0},"end":{"line":55,"column":47}},"28":{"start":{"line":50,"column":31},"end":{"line":50,"column":47}},"29":{"start":{"line":56,"column":0},"end":{"line":56,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":43,"column":25},"end":{"line":43,"column":26}},"loc":{"start":{"line":43,"column":31},"end":{"line":43,"column":46}},"line":43},"4":{"name":"(anonymous_4)","decl":{"start":{"line":50,"column":25},"end":{"line":50,"column":26}},"loc":{"start":{"line":50,"column":31},"end":{"line":50,"column":47}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":132}},"type":"cond-expr","locations":[{"start":{"line":36,"column":121},"end":{"line":36,"column":123}},{"start":{"line":36,"column":126},"end":{"line":36,"column":132}}],"line":36},"17":{"loc":{"start":{"line":36,"column":43},"end":{"line":36,"column":102}},"type":"binary-expr","locations":[{"start":{"line":36,"column":43},"end":{"line":36,"column":82}},{"start":{"line":36,"column":86},"end":{"line":36,"column":102}}],"line":36},"18":{"loc":{"start":{"line":40,"column":30},"end":{"line":40,"column":132}},"type":"cond-expr","locations":[{"start":{"line":40,"column":121},"end":{"line":40,"column":123}},{"start":{"line":40,"column":126},"end":{"line":40,"column":132}}],"line":40},"19":{"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":102}},"type":"binary-expr","locations":[{"start":{"line":40,"column":43},"end":{"line":40,"column":82}},{"start":{"line":40,"column":86},"end":{"line":40,"column":102}}],"line":40},"20":{"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":130}},"type":"cond-expr","locations":[{"start":{"line":47,"column":119},"end":{"line":47,"column":121}},{"start":{"line":47,"column":124},"end":{"line":47,"column":130}}],"line":47},"21":{"loc":{"start":{"line":47,"column":43},"end":{"line":47,"column":100}},"type":"binary-expr","locations":[{"start":{"line":47,"column":43},"end":{"line":47,"column":81}},{"start":{"line":47,"column":85},"end":{"line":47,"column":100}}],"line":47},"22":{"loc":{"start":{"line":54,"column":30},"end":{"line":54,"column":130}},"type":"cond-expr","locations":[{"start":{"line":54,"column":119},"end":{"line":54,"column":121}},{"start":{"line":54,"column":124},"end":{"line":54,"column":130}}],"line":54},"23":{"loc":{"start":{"line":54,"column":43},"end":{"line":54,"column":100}},"type":"binary-expr","locations":[{"start":{"line":54,"column":43},"end":{"line":54,"column":81}},{"start":{"line":54,"column":85},"end":{"line":54,"column":100}}],"line":54}},"s":{"0":1,"1":7,"2":7,"3":7,"4":7,"5":0,"6":0,"7":0,"8":0,"9":7,"10":1,"11":7,"12":7,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":1,"28":0,"29":1},"f":{"0":7,"1":7,"2":2,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,7],"2":[0,7],"3":[7,0],"4":[7,7],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[7,7,0],"10":[1,1,1],"11":[7,0],"12":[7,7],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0]},"inputSourceMap":{"version":3,"file":"FavoriteOffer.js","sourceRoot":"","sources":["FavoriteOffer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,oDAA2B;AAC3B,sDAA6B;AAE7B,MAAqB,aAAc,SAAQ,eAAS;CAmBnD;AAlB8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;yCAAkB;AACpC;IAAT,IAAA,YAAM,GAAE;;6CAAsB;AACrB;IAAT,IAAA,YAAM,GAAE;;4CAAqB;AAES;IAAtC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;gDAAA;AACR;IAAxD,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDAAmB,gBAAQ,oBAAR,gBAAQ;gDAAA;AAMnF;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,eAAK,EAAE;QACtB,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,OAAO;KACpB,CAAC;kDACa,eAAS,oBAAT,eAAS;6CAAc;AAMtC;IAJC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACvB,QAAQ,EAAE,OAAO;QACjB,UAAU,EAAE,QAAQ;KACrB,CAAC;kDACc,eAAS,oBAAT,eAAS;8CAAe;AAlB1C,gCAmBC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\nimport Offer from './Offer'\nimport Client from './Client'\n\nexport default class FavoriteOffer extends BaseModel {\n  @column({ isPrimary: true }) public id: number\n  @column() public client: string\n  @column() public offer: number\n\n  @column.dateTime({ autoCreate: true }) public createdAt: DateTime\n  @column.dateTime({ autoCreate: true, autoUpdate: true }) public updatedAt: DateTime\n\n  @belongsTo(() => Offer, {\n    localKey: 'id',\n    foreignKey: 'offer'\n  })\n  public offers: BelongsTo<typeof Offer>\n\n  @belongsTo(() => Client, {\n    localKey: 'phone',\n    foreignKey: 'client'\n  })\n  public clients: BelongsTo<typeof Client>\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"140b831a116b2841847431b671752209f64cf45e","contentHash":"df41354339eec5ae0803735906749b084acc2bb05792aa3668bce0cba542ae45"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\OffersController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\OffersController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":82}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":86}},"5":{"start":{"line":8,"column":26},"end":{"line":8,"column":102}},"6":{"start":{"line":11,"column":8},"end":{"line":36,"column":9}},"7":{"start":{"line":12,"column":30},"end":{"line":12,"column":99}},"8":{"start":{"line":13,"column":12},"end":{"line":18,"column":13}},"9":{"start":{"line":14,"column":16},"end":{"line":17,"column":19}},"10":{"start":{"line":19,"column":12},"end":{"line":24,"column":13}},"11":{"start":{"line":20,"column":16},"end":{"line":23,"column":19}},"12":{"start":{"line":25,"column":12},"end":{"line":25,"column":52}},"13":{"start":{"line":26,"column":12},"end":{"line":29,"column":15}},"14":{"start":{"line":32,"column":12},"end":{"line":35,"column":15}},"15":{"start":{"line":39,"column":8},"end":{"line":52,"column":9}},"16":{"start":{"line":40,"column":27},"end":{"line":40,"column":94}},"17":{"start":{"line":41,"column":12},"end":{"line":45,"column":15}},"18":{"start":{"line":48,"column":12},"end":{"line":51,"column":15}},"19":{"start":{"line":55,"column":8},"end":{"line":73,"column":9}},"20":{"start":{"line":56,"column":26},"end":{"line":56,"column":63}},"21":{"start":{"line":57,"column":12},"end":{"line":62,"column":13}},"22":{"start":{"line":58,"column":16},"end":{"line":61,"column":19}},"23":{"start":{"line":63,"column":12},"end":{"line":66,"column":15}},"24":{"start":{"line":69,"column":12},"end":{"line":72,"column":15}},"25":{"start":{"line":76,"column":8},"end":{"line":97,"column":9}},"26":{"start":{"line":77,"column":26},"end":{"line":77,"column":63}},"27":{"start":{"line":78,"column":12},"end":{"line":83,"column":13}},"28":{"start":{"line":79,"column":16},"end":{"line":82,"column":19}},"29":{"start":{"line":84,"column":30},"end":{"line":84,"column":68}},"30":{"start":{"line":85,"column":12},"end":{"line":85,"column":35}},"31":{"start":{"line":86,"column":12},"end":{"line":86,"column":31}},"32":{"start":{"line":87,"column":12},"end":{"line":90,"column":15}},"33":{"start":{"line":93,"column":12},"end":{"line":96,"column":15}},"34":{"start":{"line":100,"column":8},"end":{"line":120,"column":9}},"35":{"start":{"line":101,"column":26},"end":{"line":101,"column":63}},"36":{"start":{"line":102,"column":12},"end":{"line":107,"column":13}},"37":{"start":{"line":103,"column":16},"end":{"line":106,"column":19}},"38":{"start":{"line":108,"column":12},"end":{"line":108,"column":32}},"39":{"start":{"line":109,"column":12},"end":{"line":109,"column":31}},"40":{"start":{"line":110,"column":12},"end":{"line":113,"column":15}},"41":{"start":{"line":116,"column":12},"end":{"line":119,"column":15}},"42":{"start":{"line":123,"column":8},"end":{"line":143,"column":9}},"43":{"start":{"line":124,"column":26},"end":{"line":124,"column":67}},"44":{"start":{"line":125,"column":12},"end":{"line":132,"column":13}},"45":{"start":{"line":126,"column":16},"end":{"line":126,"column":41}},"46":{"start":{"line":127,"column":16},"end":{"line":127,"column":35}},"47":{"start":{"line":130,"column":16},"end":{"line":130,"column":66}},"48":{"start":{"line":131,"column":16},"end":{"line":131,"column":35}},"49":{"start":{"line":133,"column":12},"end":{"line":136,"column":14}},"50":{"start":{"line":139,"column":12},"end":{"line":142,"column":14}},"51":{"start":{"line":146,"column":8},"end":{"line":151,"column":9}},"52":{"start":{"line":147,"column":12},"end":{"line":149,"column":13}},"53":{"start":{"line":148,"column":16},"end":{"line":148,"column":28}},"54":{"start":{"line":150,"column":12},"end":{"line":150,"column":25}},"55":{"start":{"line":152,"column":8},"end":{"line":152,"column":21}},"56":{"start":{"line":155,"column":22},"end":{"line":155,"column":139}},"57":{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},"58":{"start":{"line":157,"column":12},"end":{"line":157,"column":24}},"59":{"start":{"line":159,"column":8},"end":{"line":159,"column":21}},"60":{"start":{"line":162,"column":0},"end":{"line":162,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":45},"end":{"line":37,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":34},"end":{"line":53,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":45},"end":{"line":74,"column":5}},"line":54},"4":{"name":"(anonymous_4)","decl":{"start":{"line":75,"column":4},"end":{"line":75,"column":5}},"loc":{"start":{"line":75,"column":57},"end":{"line":98,"column":5}},"line":75},"5":{"name":"(anonymous_5)","decl":{"start":{"line":99,"column":4},"end":{"line":99,"column":5}},"loc":{"start":{"line":99,"column":48},"end":{"line":121,"column":5}},"line":99},"6":{"name":"(anonymous_6)","decl":{"start":{"line":122,"column":4},"end":{"line":122,"column":5}},"loc":{"start":{"line":122,"column":39},"end":{"line":144,"column":5}},"line":122},"7":{"name":"(anonymous_7)","decl":{"start":{"line":145,"column":4},"end":{"line":145,"column":5}},"loc":{"start":{"line":145,"column":50},"end":{"line":153,"column":5}},"line":145},"8":{"name":"(anonymous_8)","decl":{"start":{"line":154,"column":4},"end":{"line":154,"column":5}},"loc":{"start":{"line":154,"column":72},"end":{"line":160,"column":5}},"line":154}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":12},"end":{"line":18,"column":13}},"type":"if","locations":[{"start":{"line":13,"column":12},"end":{"line":18,"column":13}},{"start":{"line":13,"column":12},"end":{"line":18,"column":13}}],"line":13},"4":{"loc":{"start":{"line":19,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":24,"column":13}},{"start":{"line":19,"column":12},"end":{"line":24,"column":13}}],"line":19},"5":{"loc":{"start":{"line":57,"column":12},"end":{"line":62,"column":13}},"type":"if","locations":[{"start":{"line":57,"column":12},"end":{"line":62,"column":13}},{"start":{"line":57,"column":12},"end":{"line":62,"column":13}}],"line":57},"6":{"loc":{"start":{"line":78,"column":12},"end":{"line":83,"column":13}},"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":83,"column":13}},{"start":{"line":78,"column":12},"end":{"line":83,"column":13}}],"line":78},"7":{"loc":{"start":{"line":102,"column":12},"end":{"line":107,"column":13}},"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":107,"column":13}},{"start":{"line":102,"column":12},"end":{"line":107,"column":13}}],"line":102},"8":{"loc":{"start":{"line":125,"column":12},"end":{"line":132,"column":13}},"type":"if","locations":[{"start":{"line":125,"column":12},"end":{"line":132,"column":13}},{"start":{"line":125,"column":12},"end":{"line":132,"column":13}}],"line":125},"9":{"loc":{"start":{"line":146,"column":8},"end":{"line":151,"column":9}},"type":"if","locations":[{"start":{"line":146,"column":8},"end":{"line":151,"column":9}},{"start":{"line":146,"column":8},"end":{"line":151,"column":9}}],"line":146},"10":{"loc":{"start":{"line":147,"column":12},"end":{"line":149,"column":13}},"type":"if","locations":[{"start":{"line":147,"column":12},"end":{"line":149,"column":13}},{"start":{"line":147,"column":12},"end":{"line":149,"column":13}}],"line":147},"11":{"loc":{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},"type":"if","locations":[{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},{"start":{"line":156,"column":8},"end":{"line":158,"column":9}}],"line":156},"12":{"loc":{"start":{"line":156,"column":12},"end":{"line":156,"column":68}},"type":"binary-expr","locations":[{"start":{"line":156,"column":12},"end":{"line":156,"column":28}},{"start":{"line":156,"column":32},"end":{"line":156,"column":68}}],"line":156}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":3,"7":3,"8":3,"9":1,"10":2,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":0,"19":2,"20":2,"21":2,"22":1,"23":1,"24":0,"25":2,"26":2,"27":2,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":2,"35":2,"36":2,"37":1,"38":1,"39":1,"40":1,"41":0,"42":1,"43":1,"44":1,"45":0,"46":0,"47":1,"48":1,"49":1,"50":0,"51":3,"52":2,"53":2,"54":0,"55":1,"56":2,"57":2,"58":1,"59":1,"60":1},"f":{"0":3,"1":3,"2":1,"3":2,"4":2,"5":2,"6":1,"7":3,"8":2},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3],"3":[1,2],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[0,1],"9":[2,1],"10":[2,0],"11":[1,1],"12":[2,2]},"inputSourceMap":{"version":3,"file":"OffersController.js","sourceRoot":"","sources":["OffersController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Offer from 'App/Models/Offer'\nimport Service from 'App/Models/Service'\nimport ServiceProvider from 'App/Models/ServiceProvider'\n\nexport default class OffersController {\n\n    public async createOffer({request, response}: HttpContextContract):Promise<void>{\n        try{\n            const offerData = request.only(['price', 'description', 'service', 'service_provider'])\n            if(!await this.validateOffer(offerData.service, offerData.service_provider)){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Service or service provider not found'\n                })\n            }\n\n            if(await this.validateDuplicateOffer(offerData.service, offerData.service_provider, offerData.description)){\n                return response.status(400).json({\n                    state: false,\n                    message: 'This offer already exists in your profile'\n                })\n            }\n\n            await Offer.create(offerData)\n            return response.status(200).json({\n                state: true,\n                message: 'Offer created successfully'\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getOffers({response}: HttpContextContract):Promise<void>{\n        try{\n            const offers = await Offer.query().where({state: true}).from('offers')\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of offers',\n                offers\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getOfferById({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const offer:any = await Offer.find(params.id)\n\n            if(!offer){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Offer not found'\n                })\n            }\n\n            return response.status(200).json({\n                state: true,\n                offer\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async updateOfferById({request, response, params}: HttpContextContract):Promise<void>{\n        try{\n            const offer:any = await Offer.find(params.id)\n            if(!offer){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Offer not found'\n                })\n            }\n\n            const offerData = request.only(['price', 'description'])\n            offer.merge(offerData)\n            await offer.save()\n\n            return response.status(200).json({\n                state: true,\n                message: 'Offer updated successfully'\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async deleteOfferById({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const offer:any = await Offer.find(params.id)\n            if(!offer){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Offer not found'\n                })\n            }\n\n            offer.state = false\n            await offer.save()\n            return response.status(200).json({\n                state: true,\n                message: 'Offer deleted successfully'\n            })\n            \n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async addComment(comment, offerId:number){\n        try{\n            const offer:any = await Offer.findOrFail(offerId)\n            if(!offer.comments){\n                offer.comments = comment\n                await offer.save()\n            }else{\n                offer.comments.comments.push(comment.comments[0])\n                await offer.save()\n            }\n            return {\n                state: true,\n                message: 'Comment added successfully'\n            }\n        }catch(error){\n            return {\n                state: false,\n                message: error.message\n            }                                                               \n        }\n    }\n\n    private async validateOffer(service:string, serviceProvider:string): Promise<boolean>{\n        //First verify if the service provider exists\n        if(await ServiceProvider.findBy('phone', serviceProvider)){\n            //Then verify if the service exists\n            if(await Service.findBy('name', service)){\n                return true\n            }\n            return false\n        }\n        return false\n    }\n\n    private async validateDuplicateOffer(service:string, serviceProvider:string, description:string): Promise<boolean>{\n        const offer:Offer[] = await Offer.query().where({service : service}).where({service_provider : serviceProvider}).from('offers')\n        if(offer.length > 0 && offer[0].description === description){\n           return true //It means that the offer already exists\n        }\n        return false\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2d23f977c28aa11bb88c71ff29a2429d5cb3d10c","contentHash":"23092b4d1e290df24c3a7197043762c03c7011c1f624724770d70a8bad1d6997"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\VerifyServiceProvider.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Middleware\\VerifyServiceProvider.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":112}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":80}},"5":{"start":{"line":10,"column":8},"end":{"line":33,"column":9}},"6":{"start":{"line":11,"column":39},"end":{"line":11,"column":74}},"7":{"start":{"line":12,"column":27},"end":{"line":12,"column":89}},"8":{"start":{"line":13,"column":25},"end":{"line":13,"column":54}},"9":{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},"10":{"start":{"line":15,"column":16},"end":{"line":18,"column":19}},"11":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"12":{"start":{"line":21,"column":16},"end":{"line":24,"column":19}},"13":{"start":{"line":26,"column":12},"end":{"line":26,"column":25}},"14":{"start":{"line":29,"column":12},"end":{"line":32,"column":15}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":28},"end":{"line":34,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":19,"column":13}},{"start":{"line":14,"column":12},"end":{"line":19,"column":13}}],"line":14},"4":{"loc":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},{"start":{"line":20,"column":12},"end":{"line":25,"column":13}}],"line":20},"5":{"loc":{"start":{"line":20,"column":16},"end":{"line":20,"column":72}},"type":"binary-expr","locations":[{"start":{"line":20,"column":16},"end":{"line":20,"column":47}},{"start":{"line":20,"column":51},"end":{"line":20,"column":72}}],"line":20}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":28,"6":28,"7":28,"8":28,"9":28,"10":0,"11":28,"12":0,"13":28,"14":0,"15":1},"f":{"0":2,"1":28},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[0,28],"4":[0,28],"5":[28,1]},"inputSourceMap":{"version":3,"file":"VerifyServiceProvider.js","sourceRoot":"","sources":["VerifyServiceProvider.ts"],"names":[],"mappings":";;;;;AACA,iHAAmE;AACnE,iFAAmC;AAEnC,MAAqB,oBAAoB;IAEhC,KAAK,CAAC,MAAM,CAAC,GAAwB,EAAE,IAAyB;QACrE,IAAI;YACF,MAAM,kBAAkB,GAAO,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YACnE,MAAM,EAAC,EAAE,EAAC,GAAG,MAAM,yBAAe,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;YAClE,MAAM,IAAI,GAAG,MAAM,cAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAEjC,IAAG,CAAC,IAAI,EAAC;gBACP,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnC,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,gBAAgB;iBAC1B,CAAC,CAAA;aACH;YAED,IAAG,IAAI,CAAC,IAAI,KAAK,iBAAiB,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAC;gBAC1D,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnC,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,oDAAoD;iBAC9D,CAAC,CAAA;aACH;YAED,MAAM,IAAI,EAAE,CAAA;SAEb;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnC,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK,CAAC,OAAO;aACvB,CAAC,CAAC;SACJ;IACH,CAAC;CAEF;AAhCD,uCAgCC","sourcesContent":["import type { HttpContextContract } from \"@ioc:Adonis/Core/HttpContext\";\r\nimport UsersController from \"App/Controllers/Http/UsersController\";\r\nimport User from \"App/Models/User\";\r\n\r\nexport default class ValidServiceProvider {\r\n\r\n  public async handle(ctx: HttpContextContract, next: () => Promise<void>) {\r\n    try {\r\n      const autorizationHeader:any = ctx.request.header(\"Authorization\");\r\n      const {id} = await UsersController.getPayload(autorizationHeader);\r\n      const user = await User.find(id);\r\n      \r\n      if(!user){\r\n        return ctx.response.status(401).json({\r\n          state: false,\r\n          message: 'No valid token'\r\n        })\r\n      }\r\n\r\n      if(user.role !== 'ServiceProvider' && user.role !== 'Admin'){\r\n        return ctx.response.status(401).json({\r\n          state: false,\r\n          message: 'You do not have permission to access this resource'\r\n        })\r\n      }\r\n\r\n      await next()\r\n\r\n    } catch (error) {\r\n      return ctx.response.status(400).json({\r\n        state: true,\r\n        message: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3ac8e45089707ad438155dcd2f004262bce8b17d","contentHash":"4a048af09ea42bc20e6ecc49c18e99aeb5187417fb4a7d311475738dbf36a911"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\ServiceProvidersController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\ServiceProvidersController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":71}},"4":{"start":{"line":7,"column":26},"end":{"line":7,"column":102}},"5":{"start":{"line":8,"column":19},"end":{"line":8,"column":90}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":80}},"7":{"start":{"line":10,"column":30},"end":{"line":10,"column":79}},"8":{"start":{"line":13,"column":8},"end":{"line":36,"column":9}},"9":{"start":{"line":14,"column":29},"end":{"line":14,"column":116}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":46}},"11":{"start":{"line":16,"column":40},"end":{"line":16,"column":106}},"12":{"start":{"line":17,"column":12},"end":{"line":22,"column":13}},"13":{"start":{"line":18,"column":16},"end":{"line":21,"column":19}},"14":{"start":{"line":23,"column":32},"end":{"line":23,"column":63}},"15":{"start":{"line":24,"column":37},"end":{"line":24,"column":75}},"16":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"17":{"start":{"line":26,"column":16},"end":{"line":26,"column":67}},"18":{"start":{"line":28,"column":12},"end":{"line":28,"column":72}},"19":{"start":{"line":29,"column":12},"end":{"line":29,"column":63}},"20":{"start":{"line":32,"column":12},"end":{"line":35,"column":15}},"21":{"start":{"line":39,"column":8},"end":{"line":56,"column":9}},"22":{"start":{"line":40,"column":37},"end":{"line":44,"column":348}},"23":{"start":{"line":45,"column":12},"end":{"line":49,"column":15}},"24":{"start":{"line":52,"column":12},"end":{"line":55,"column":15}},"25":{"start":{"line":59,"column":8},"end":{"line":81,"column":9}},"26":{"start":{"line":60,"column":36},"end":{"line":64,"column":363}},"27":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"28":{"start":{"line":66,"column":16},"end":{"line":69,"column":19}},"29":{"start":{"line":71,"column":12},"end":{"line":74,"column":15}},"30":{"start":{"line":77,"column":12},"end":{"line":80,"column":15}},"31":{"start":{"line":84,"column":8},"end":{"line":110,"column":9}},"32":{"start":{"line":85,"column":25},"end":{"line":85,"column":105}},"33":{"start":{"line":86,"column":36},"end":{"line":86,"column":59}},"34":{"start":{"line":87,"column":12},"end":{"line":92,"column":13}},"35":{"start":{"line":88,"column":16},"end":{"line":91,"column":19}},"36":{"start":{"line":93,"column":29},"end":{"line":93,"column":114}},"37":{"start":{"line":94,"column":12},"end":{"line":94,"column":36}},"38":{"start":{"line":95,"column":40},"end":{"line":95,"column":141}},"39":{"start":{"line":96,"column":32},"end":{"line":96,"column":63}},"40":{"start":{"line":97,"column":37},"end":{"line":97,"column":79}},"41":{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},"42":{"start":{"line":99,"column":16},"end":{"line":99,"column":67}},"43":{"start":{"line":101,"column":12},"end":{"line":101,"column":55}},"44":{"start":{"line":102,"column":12},"end":{"line":102,"column":41}},"45":{"start":{"line":103,"column":12},"end":{"line":103,"column":67}},"46":{"start":{"line":106,"column":12},"end":{"line":109,"column":15}},"47":{"start":{"line":113,"column":8},"end":{"line":135,"column":9}},"48":{"start":{"line":114,"column":26},"end":{"line":114,"column":57}},"49":{"start":{"line":115,"column":30},"end":{"line":115,"column":79}},"50":{"start":{"line":116,"column":31},"end":{"line":122,"column":14}},"51":{"start":{"line":117,"column":16},"end":{"line":121,"column":19}},"52":{"start":{"line":118,"column":20},"end":{"line":120,"column":23}},"53":{"start":{"line":119,"column":24},"end":{"line":119,"column":99}},"54":{"start":{"line":123,"column":38},"end":{"line":123,"column":58}},"55":{"start":{"line":124,"column":12},"end":{"line":128,"column":15}},"56":{"start":{"line":131,"column":12},"end":{"line":134,"column":15}},"57":{"start":{"line":138,"column":8},"end":{"line":154,"column":9}},"58":{"start":{"line":139,"column":26},"end":{"line":139,"column":57}},"59":{"start":{"line":140,"column":30},"end":{"line":140,"column":79}},"60":{"start":{"line":141,"column":36},"end":{"line":141,"column":90}},"61":{"start":{"line":142,"column":29},"end":{"line":142,"column":77}},"62":{"start":{"line":143,"column":12},"end":{"line":147,"column":15}},"63":{"start":{"line":150,"column":12},"end":{"line":153,"column":15}},"64":{"start":{"line":157,"column":8},"end":{"line":179,"column":9}},"65":{"start":{"line":158,"column":42},"end":{"line":158,"column":53}},"66":{"start":{"line":159,"column":26},"end":{"line":159,"column":57}},"67":{"start":{"line":160,"column":30},"end":{"line":160,"column":79}},"68":{"start":{"line":161,"column":36},"end":{"line":163,"column":14}},"69":{"start":{"line":162,"column":16},"end":{"line":162,"column":69}},"70":{"start":{"line":164,"column":35},"end":{"line":164,"column":69}},"71":{"start":{"line":165,"column":31},"end":{"line":165,"column":79}},"72":{"start":{"line":166,"column":36},"end":{"line":166,"column":69}},"73":{"start":{"line":167,"column":36},"end":{"line":167,"column":71}},"74":{"start":{"line":168,"column":41},"end":{"line":168,"column":152}},"75":{"start":{"line":169,"column":12},"end":{"line":171,"column":13}},"76":{"start":{"line":170,"column":16},"end":{"line":170,"column":71}},"77":{"start":{"line":172,"column":12},"end":{"line":172,"column":67}},"78":{"start":{"line":175,"column":12},"end":{"line":178,"column":15}},"79":{"start":{"line":182,"column":8},"end":{"line":196,"column":9}},"80":{"start":{"line":183,"column":42},"end":{"line":183,"column":53}},"81":{"start":{"line":184,"column":36},"end":{"line":184,"column":71}},"82":{"start":{"line":185,"column":41},"end":{"line":185,"column":107}},"83":{"start":{"line":186,"column":12},"end":{"line":188,"column":13}},"84":{"start":{"line":187,"column":16},"end":{"line":187,"column":71}},"85":{"start":{"line":189,"column":12},"end":{"line":189,"column":67}},"86":{"start":{"line":192,"column":12},"end":{"line":195,"column":15}},"87":{"start":{"line":199,"column":32},"end":{"line":199,"column":105}},"88":{"start":{"line":200,"column":8},"end":{"line":200,"column":46}},"89":{"start":{"line":203,"column":0},"end":{"line":203,"column":45}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":55},"end":{"line":37,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":44},"end":{"line":57,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":58},"end":{"line":82,"column":5}},"line":58},"4":{"name":"(anonymous_4)","decl":{"start":{"line":83,"column":4},"end":{"line":83,"column":5}},"loc":{"start":{"line":83,"column":67},"end":{"line":111,"column":5}},"line":83},"5":{"name":"(anonymous_5)","decl":{"start":{"line":112,"column":4},"end":{"line":112,"column":5}},"loc":{"start":{"line":112,"column":47},"end":{"line":136,"column":5}},"line":112},"6":{"name":"(anonymous_6)","decl":{"start":{"line":116,"column":113},"end":{"line":116,"column":114}},"loc":{"start":{"line":116,"column":128},"end":{"line":122,"column":13}},"line":116},"7":{"name":"(anonymous_7)","decl":{"start":{"line":117,"column":97},"end":{"line":117,"column":98}},"loc":{"start":{"line":117,"column":115},"end":{"line":121,"column":17}},"line":117},"8":{"name":"(anonymous_8)","decl":{"start":{"line":118,"column":136},"end":{"line":118,"column":137}},"loc":{"start":{"line":118,"column":152},"end":{"line":120,"column":21}},"line":118},"9":{"name":"(anonymous_9)","decl":{"start":{"line":137,"column":4},"end":{"line":137,"column":5}},"loc":{"start":{"line":137,"column":45},"end":{"line":155,"column":5}},"line":137},"10":{"name":"(anonymous_10)","decl":{"start":{"line":156,"column":4},"end":{"line":156,"column":5}},"loc":{"start":{"line":156,"column":56},"end":{"line":180,"column":5}},"line":156},"11":{"name":"(anonymous_11)","decl":{"start":{"line":161,"column":118},"end":{"line":161,"column":119}},"loc":{"start":{"line":161,"column":133},"end":{"line":163,"column":13}},"line":161},"12":{"name":"(anonymous_12)","decl":{"start":{"line":181,"column":4},"end":{"line":181,"column":5}},"loc":{"start":{"line":181,"column":47},"end":{"line":197,"column":5}},"line":181},"13":{"name":"(anonymous_13)","decl":{"start":{"line":198,"column":4},"end":{"line":198,"column":5}},"loc":{"start":{"line":198,"column":43},"end":{"line":201,"column":5}},"line":198}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":17,"column":12},"end":{"line":22,"column":13}},"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":22,"column":13}},{"start":{"line":17,"column":12},"end":{"line":22,"column":13}}],"line":17},"4":{"loc":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},{"start":{"line":25,"column":12},"end":{"line":27,"column":13}}],"line":25},"5":{"loc":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},{"start":{"line":65,"column":12},"end":{"line":70,"column":13}}],"line":65},"6":{"loc":{"start":{"line":87,"column":12},"end":{"line":92,"column":13}},"type":"if","locations":[{"start":{"line":87,"column":12},"end":{"line":92,"column":13}},{"start":{"line":87,"column":12},"end":{"line":92,"column":13}}],"line":87},"7":{"loc":{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},{"start":{"line":98,"column":12},"end":{"line":100,"column":13}}],"line":98},"8":{"loc":{"start":{"line":169,"column":12},"end":{"line":171,"column":13}},"type":"if","locations":[{"start":{"line":169,"column":12},"end":{"line":171,"column":13}},{"start":{"line":169,"column":12},"end":{"line":171,"column":13}}],"line":169},"9":{"loc":{"start":{"line":186,"column":12},"end":{"line":188,"column":13}},"type":"if","locations":[{"start":{"line":186,"column":12},"end":{"line":188,"column":13}},{"start":{"line":186,"column":12},"end":{"line":188,"column":13}}],"line":186},"10":{"loc":{"start":{"line":200,"column":15},"end":{"line":200,"column":45}},"type":"cond-expr","locations":[{"start":{"line":200,"column":33},"end":{"line":200,"column":37}},{"start":{"line":200,"column":40},"end":{"line":200,"column":45}}],"line":200}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":5,"9":5,"10":5,"11":5,"12":5,"13":3,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":2,"26":2,"27":2,"28":1,"29":1,"30":0,"31":4,"32":4,"33":4,"34":3,"35":1,"36":2,"37":2,"38":2,"39":2,"40":2,"41":2,"42":1,"43":1,"44":1,"45":1,"46":1,"47":2,"48":2,"49":2,"50":2,"51":1,"52":1,"53":1,"54":2,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":0,"64":4,"65":4,"66":4,"67":4,"68":4,"69":4,"70":3,"71":2,"72":2,"73":2,"74":2,"75":2,"76":1,"77":1,"78":2,"79":2,"80":2,"81":2,"82":2,"83":2,"84":1,"85":1,"86":0,"87":5,"88":4,"89":1},"f":{"0":5,"1":5,"2":1,"3":2,"4":4,"5":2,"6":1,"7":1,"8":1,"9":1,"10":4,"11":4,"12":2,"13":5},"b":{"0":[1,1,1],"1":[4,1],"2":[5,5],"3":[3,1],"4":[0,1],"5":[1,1],"6":[1,2],"7":[1,1],"8":[1,1],"9":[1,1],"10":[3,1]},"inputSourceMap":{"version":3,"file":"ServiceProvidersController.js","sourceRoot":"","sources":["ServiceProvidersController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport UsersController from './UsersController'\nimport ServiceProvider from 'App/Models/ServiceProvider'\nimport Database from '@ioc:Adonis/Lucid/Database'\nimport User from 'App/Models/User'\nimport PurchasesController from './PurchasesController'\n\nexport default class ServiceProvidersController {\n\n    public async createServiceProvider({request, response}: HttpContextContract):Promise<void>{\n        try{\n            const userData = request.only(['phone', 'name', 'password', 'email', 'address', 'bank_account', 'role'])\n            userData.role = 'ServiceProvider' //Role of the user\n            const ServiceProviderData = request.only(['phone', 'professional_profile', 'document_number'])\n\n            if(await this.validateDocument(ServiceProviderData.document_number)){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Already exists a service provider with this document number'\n                })\n            }\n            //Create user\n            const userControl = new UsersController()\n            const responseFromUser = await userControl.createUser(userData)\n            if(!responseFromUser.state){\n                return response.status(400).json(responseFromUser)\n            }\n\n            //Create ServiceProvider\n            await ServiceProvider.create(ServiceProviderData)\n\n            return response.status(200).json(responseFromUser)\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getServiceProviders({response}: HttpContextContract):Promise<void>{\n        try{\n            const serviceProviders = await Database\n            .from('users')\n            .join('service_providers', 'users.phone', '=', 'service_providers.phone')\n            .where({state: true})\n            .select(['users.id', 'users.name', 'users.phone', 'users.email', 'users.address', 'users.bank_account', 'users.role', 'service_providers.professional_profile', 'service_providers.document_number', 'service_providers.response_time', 'service_providers.unanswered_requests', 'service_providers.available', 'service_providers.income']) \n\n            return response.status(200).json({\n                state: true,\n                message: 'List of service providers',\n                serviceProviders\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getServiceProviderByEmail({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const serviceProvider:Object[] = await Database\n            .from('users')\n            .join('service_providers', 'users.phone', '=', 'service_providers.phone')\n            .where({email: params.email})\n            .select(['users.id', 'users.name', 'users.phone', 'users.email', 'users.address', 'users.bank_account', 'users.state', 'users.role', 'service_providers.professional_profile', 'service_providers.document_number', 'service_providers.response_time', 'service_providers.unanswered_requests', 'service_providers.available', 'service_providers.income']) \n\n            if(!serviceProvider[0]){\n                return response.status(400).json({\n                    state:false,\n                    message: 'User not found'\n                })\n            }\n\n            return response.status(200).json({\n                state: true,\n                serviceProvider: serviceProvider[0]\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async updateServiceProviderById({request, response, params}: HttpContextContract):Promise<void>{\n        try{\n            const user:User[] = await User.query().where({id: params.id}).preload('serviceProvider')\n            const serviceProvider:ServiceProvider = user[0].serviceProvider\n            if(!serviceProvider){\n                return response.status(400).json({\n                    state:false,\n                    message: 'User not found'\n                })\n            }\n            const userData = request.only(['id', 'name', 'email', 'password', 'address', 'bank_account', 'state'])\n            userData.id = params.id\n            const serviceProviderData = request.only(['professional_profile', 'response_time', 'unanswered_requests', 'available', 'income'])\n\n            //Update user\n            const userControl = new UsersController()\n            const responseFromUser = await userControl.updateUserById(userData)\n\n            if(!responseFromUser.state){\n                return response.status(400).json(responseFromUser)\n            }\n\n            //Update serviceProvider\n            serviceProvider.merge(serviceProviderData)\n            await serviceProvider.save()\n\n            return response.status(200).json({responseFromUser})\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async seeMyRequests({request, response}: HttpContextContract):Promise<void>{\n        try{\n            //Get service provider phone from token\n            const token:any = request.header('authorization')\n            const { phone } = await UsersController.getPayload(token)\n            const myRequests = await ServiceProvider.query().where({phone : phone}).preload('offers', offersQuery => {\n                offersQuery.select('id', 'price', 'description', 'service').preload('purchases', purchasesQuery => {\n                    purchasesQuery.select('state', 'request').whereIn('state', ['pending', 'accepted', 'rejected']).preload('requests', requestQuery => {\n                        requestQuery.select('time_limit', 'address', 'comments', 'date', 'client')\n                    })\n                })\n            })\n\n            // const myRequests:Object[] = await Database\n            // .from('service_providers')\n            // .join('offers', 'service_providers.phone', '=', 'offers.service_provider')\n            // .join('purchases', 'offers.id', '=', 'purchases.offer')\n            // .join('requests', 'purchases.request', '=', 'requests.request_code')\n            // .where({service_provider: phone})\n            // .whereIn('purchases.state', ['pending', 'accepted', 'rejected])\n            // .select('offers.id', 'offers.price', 'offers.description', 'offers.service', 'requests.request_code', 'purchases.state', 'requests.time_limit', 'requests.address', 'requests.comments', 'requests.date', 'requests.client')\n\n            const myOffersRequested = myRequests[0].offers\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of my requests',\n                myOffersRequested\n            })\n\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async seeMyOffers({request, response}: HttpContextContract):Promise<void>{\n        try{\n            //Get service provider phone from token\n            const token:any = request.header('Authorization')\n            const { phone } = await UsersController.getPayload(token)\n            const serviceProvider = await ServiceProvider.findBy('phone', phone)\n\n            const myOffers = await serviceProvider?.related('offers').query()\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of my offers',\n                myOffers\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async acceptPurchase({request, response, params}: HttpContextContract){\n        try{\n            //Get service provider phone from token\n            const [request_code, offer] = params['*']\n\n            const token:any = request.header('Authorization')\n            const { phone } = await UsersController.getPayload(token)\n            const serviceProvider:ServiceProvider[] = await ServiceProvider.query().where({phone: phone}).preload('offers', offersQuery => {\n                offersQuery.where({id : offer}).preload('services')\n            })\n            \n            const payment_amount:number = serviceProvider[0].offers[0].price\n            const commission:number = serviceProvider[0].offers[0].services.commission\n            const dibursed_amount:number = payment_amount*(1-commission) \n\n            const purchaseControl = new PurchasesController()\n            const responseFromPurchase = await purchaseControl.changeState(request_code, offer, 'accepted', payment_amount, commission, dibursed_amount)\n\n            if(!responseFromPurchase.state){\n                return response.status(400).json(responseFromPurchase)\n            }\n\n            return response.status(200).json(responseFromPurchase)\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async rejectPurchase({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const [request_code, offer] = params['*']\n            const purchaseControl = new PurchasesController()\n            const responseFromPurchase = await purchaseControl.changeState(request_code, offer, 'rejected')\n\n            if(!responseFromPurchase.state){\n                return response.status(400).json(responseFromPurchase)\n            }\n\n            return response.status(200).json(responseFromPurchase)\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    private async validateDocument(documentNumber:string):Promise<boolean>{\n        const serviceProvider:any = await ServiceProvider.findBy('document_number', documentNumber)\n        return serviceProvider ? true : false\n    }\n    \n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"676cfa76620ae045fba116d6d5f6bb81443eb4aa","contentHash":"47e443f2e728e28191068f5084d67cb8c85bff54695df1fa8d2090de90952dcc"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\AdminsController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\AdminsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":82}},"4":{"start":{"line":7,"column":26},"end":{"line":7,"column":71}},"5":{"start":{"line":10,"column":8},"end":{"line":27,"column":9}},"6":{"start":{"line":11,"column":29},"end":{"line":11,"column":116}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":36}},"8":{"start":{"line":13,"column":30},"end":{"line":13,"column":53}},"9":{"start":{"line":14,"column":32},"end":{"line":14,"column":63}},"10":{"start":{"line":15,"column":37},"end":{"line":15,"column":75}},"11":{"start":{"line":16,"column":12},"end":{"line":18,"column":13}},"12":{"start":{"line":17,"column":16},"end":{"line":17,"column":67}},"13":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":63}},"15":{"start":{"line":23,"column":12},"end":{"line":26,"column":15}},"16":{"start":{"line":30,"column":0},"end":{"line":30,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":45},"end":{"line":28,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":16,"column":12},"end":{"line":18,"column":13}},"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":18,"column":13}},{"start":{"line":16,"column":12},"end":{"line":18,"column":13}}],"line":16}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":2,"12":1,"13":1,"14":1,"15":0,"16":1},"f":{"0":2,"1":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1,1]},"inputSourceMap":{"version":3,"file":"AdminsController.js","sourceRoot":"","sources":["AdminsController.ts"],"names":[],"mappings":";;;;;AACA,mFAAoC;AACpC,wEAA+C;AAE/C,MAAqB,gBAAgB;IAE1B,KAAK,CAAC,WAAW,CAAC,EAAC,OAAO,EAAE,QAAQ,EAAsB;QAC7D,IAAG;YACC,MAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC,CAAA;YACxG,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAA;YACvB,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAA;YAGzC,MAAM,WAAW,GAAG,IAAI,yBAAe,EAAE,CAAA;YACzC,MAAM,gBAAgB,GAAG,MAAM,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAA;YAC/D,IAAG,CAAC,gBAAgB,CAAC,KAAK,EAAC;gBACvB,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;aACrD;YAGD,MAAM,eAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;YAE7B,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;SAErD;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,KAAK,CAAC,OAAO;aACzB,CAAC,CAAA;SACL;IACL,CAAC;CAEJ;AA5BD,mCA4BC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Admin from 'App/Models/Admin'\nimport UsersController from './UsersController'\n\nexport default class AdminsController {\n\n    public async createAdmin({request, response}: HttpContextContract):Promise<void>{\n        try{\n            const userData = request.only(['phone', 'name', 'password', 'email', 'address', 'bank_account', 'role'])\n            userData.role = 'Admin' //Role of the user\n            const adminData = request.only(['phone'])\n\n            //Create user\n            const userControl = new UsersController()\n            const responseFromUser = await userControl.createUser(userData)\n            if(!responseFromUser.state){\n                return response.status(400).json(responseFromUser)\n            }\n\n            //Create Admin\n            await Admin.create(adminData)\n\n            return response.status(200).json(responseFromUser)\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a7faa66eb74209d8f3a1bad0af3ef62dc1bb5c7b","contentHash":"9d7ebd554c80127f465d340f31e219b01c9f6ecdb05338dd973a72fcd3d774c5"},"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\ServicesController.ts":{"path":"D:\\Unal\\2023-1\\BootcampBackend\\Proyectos\\api-hastaTuCasa\\app\\Controllers\\Http\\ServicesController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":86}},"4":{"start":{"line":9,"column":8},"end":{"line":28,"column":9}},"5":{"start":{"line":10,"column":32},"end":{"line":10,"column":80}},"6":{"start":{"line":11,"column":12},"end":{"line":16,"column":13}},"7":{"start":{"line":12,"column":16},"end":{"line":15,"column":19}},"8":{"start":{"line":17,"column":12},"end":{"line":17,"column":56}},"9":{"start":{"line":18,"column":12},"end":{"line":21,"column":15}},"10":{"start":{"line":24,"column":12},"end":{"line":27,"column":15}},"11":{"start":{"line":31,"column":8},"end":{"line":44,"column":9}},"12":{"start":{"line":32,"column":29},"end":{"line":32,"column":100}},"13":{"start":{"line":33,"column":12},"end":{"line":37,"column":15}},"14":{"start":{"line":40,"column":12},"end":{"line":43,"column":15}},"15":{"start":{"line":47,"column":8},"end":{"line":66,"column":9}},"16":{"start":{"line":48,"column":25},"end":{"line":48,"column":56}},"17":{"start":{"line":49,"column":28},"end":{"line":49,"column":72}},"18":{"start":{"line":50,"column":12},"end":{"line":55,"column":13}},"19":{"start":{"line":51,"column":16},"end":{"line":54,"column":19}},"20":{"start":{"line":56,"column":12},"end":{"line":59,"column":15}},"21":{"start":{"line":62,"column":12},"end":{"line":65,"column":15}},"22":{"start":{"line":69,"column":8},"end":{"line":97,"column":9}},"23":{"start":{"line":70,"column":28},"end":{"line":70,"column":67}},"24":{"start":{"line":71,"column":12},"end":{"line":76,"column":13}},"25":{"start":{"line":72,"column":16},"end":{"line":75,"column":19}},"26":{"start":{"line":77,"column":32},"end":{"line":77,"column":80}},"27":{"start":{"line":78,"column":34},"end":{"line":78,"column":90}},"28":{"start":{"line":79,"column":12},"end":{"line":84,"column":13}},"29":{"start":{"line":80,"column":16},"end":{"line":83,"column":19}},"30":{"start":{"line":85,"column":12},"end":{"line":85,"column":39}},"31":{"start":{"line":86,"column":12},"end":{"line":86,"column":33}},"32":{"start":{"line":87,"column":12},"end":{"line":90,"column":15}},"33":{"start":{"line":93,"column":12},"end":{"line":96,"column":15}},"34":{"start":{"line":100,"column":8},"end":{"line":114,"column":9}},"35":{"start":{"line":101,"column":28},"end":{"line":101,"column":73}},"36":{"start":{"line":102,"column":12},"end":{"line":102,"column":34}},"37":{"start":{"line":103,"column":12},"end":{"line":103,"column":33}},"38":{"start":{"line":104,"column":12},"end":{"line":107,"column":15}},"39":{"start":{"line":110,"column":12},"end":{"line":113,"column":15}},"40":{"start":{"line":117,"column":24},"end":{"line":117,"column":68}},"41":{"start":{"line":118,"column":8},"end":{"line":118,"column":38}},"42":{"start":{"line":121,"column":0},"end":{"line":121,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":47},"end":{"line":29,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":36},"end":{"line":45,"column":5}},"line":30},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":49},"end":{"line":67,"column":5}},"line":46},"4":{"name":"(anonymous_4)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":59},"end":{"line":98,"column":5}},"line":68},"5":{"name":"(anonymous_5)","decl":{"start":{"line":99,"column":4},"end":{"line":99,"column":5}},"loc":{"start":{"line":99,"column":50},"end":{"line":115,"column":5}},"line":99},"6":{"name":"(anonymous_6)","decl":{"start":{"line":116,"column":4},"end":{"line":116,"column":5}},"loc":{"start":{"line":116,"column":38},"end":{"line":119,"column":5}},"line":116}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":11,"column":12},"end":{"line":16,"column":13}},"type":"if","locations":[{"start":{"line":11,"column":12},"end":{"line":16,"column":13}},{"start":{"line":11,"column":12},"end":{"line":16,"column":13}}],"line":11},"4":{"loc":{"start":{"line":50,"column":12},"end":{"line":55,"column":13}},"type":"if","locations":[{"start":{"line":50,"column":12},"end":{"line":55,"column":13}},{"start":{"line":50,"column":12},"end":{"line":55,"column":13}}],"line":50},"5":{"loc":{"start":{"line":71,"column":12},"end":{"line":76,"column":13}},"type":"if","locations":[{"start":{"line":71,"column":12},"end":{"line":76,"column":13}},{"start":{"line":71,"column":12},"end":{"line":76,"column":13}}],"line":71},"6":{"loc":{"start":{"line":79,"column":12},"end":{"line":84,"column":13}},"type":"if","locations":[{"start":{"line":79,"column":12},"end":{"line":84,"column":13}},{"start":{"line":79,"column":12},"end":{"line":84,"column":13}}],"line":79},"7":{"loc":{"start":{"line":79,"column":16},"end":{"line":79,"column":64}},"type":"binary-expr","locations":[{"start":{"line":79,"column":16},"end":{"line":79,"column":29}},{"start":{"line":79,"column":33},"end":{"line":79,"column":64}}],"line":79},"8":{"loc":{"start":{"line":118,"column":15},"end":{"line":118,"column":37}},"type":"cond-expr","locations":[{"start":{"line":118,"column":25},"end":{"line":118,"column":29}},{"start":{"line":118,"column":32},"end":{"line":118,"column":37}}],"line":118}},"s":{"0":1,"1":1,"2":1,"3":1,"4":3,"5":3,"6":3,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":0,"22":3,"23":3,"24":3,"25":1,"26":2,"27":2,"28":2,"29":1,"30":1,"31":1,"32":1,"33":0,"34":2,"35":2,"36":1,"37":1,"38":1,"39":1,"40":3,"41":2,"42":1},"f":{"0":1,"1":3,"2":1,"3":2,"4":3,"5":2,"6":3},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1],"5":[1,2],"6":[1,1],"7":[2,2],"8":[1,1]},"inputSourceMap":{"version":3,"file":"ServicesController.js","sourceRoot":"","sources":["ServicesController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Service from 'App/Models/Service'\n\nexport default class ServicesController {\n\n    public async createService({request, response}: HttpContextContract):Promise<void>{\n        try{\n            const serviceData = request.only(['name', 'category', 'commission'])\n            if(await this.validateServiceByName(serviceData.name)){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Already exists a service with this name'\n                })\n            }\n\n            await Service.create(serviceData)\n\n            return response.status(200).json({\n                state: true,\n                message: 'Service created successfully'\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getServices({response}: HttpContextContract):Promise<void>{\n        try{\n            const services:Service[] = await Service.query().where({state: true}).from('services')\n\n            return response.status(200).json({\n                state: true,\n                message: 'List of services',\n                services\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async getServiceByName({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const name:string = params.name.replace('%20', ' ')\n            const service:any = await Service.findBy('name', name)\n            if(!service){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Service not found'\n                })\n            }\n\n            return response.status(200).json({\n                state: true,\n                service\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async updateServiceById({request, response, params}: HttpContextContract):Promise<void>{\n        try{\n            const service:any = await Service.find(params.id)\n            if(!service){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Service not found'\n                })\n            }\n\n            const serviceData = request.only(['name', 'category', 'commission'])\n            const serviceByName = await Service.findBy('name', serviceData.name)\n            if(serviceByName && serviceByName.id !== service.id){\n                return response.status(400).json({\n                    state: false,\n                    message: 'Already exists a service with this name'\n                })\n            }\n\n            service.merge(serviceData)\n            await service.save()\n\n            return response.status(200).json({\n                state: true,\n                message: 'Service updated successfully'\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    public async deleteServiceById({response, params}: HttpContextContract):Promise<void>{\n        try{\n            const service:any = await Service.findOrFail(params.id)\n            service.state = false\n            await service.save()\n            return response.status(200).json({\n                state: true,\n                message: 'Service deleted successfully'\n            })\n\n        }catch(error){\n            return response.status(400).json({\n                state: false,\n                message: error.message\n            })\n        }\n    }\n\n    private async validateServiceByName(name: string): Promise<boolean>{\n        const service:any = await Service.findBy('name', name)\n        return service ? true : false\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8b0eff0393b485b70c5d6aa06605605b5822cec2","contentHash":"1e168a2b549c1f378d9f0f25129287b2511d21dc1896652a5b7433cb92713a61"}}