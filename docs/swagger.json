{"openapi":"3.0.0","info":{"title":"API Hasta Tu Casa","version":"1.0.0","description":"Hasta Tu Casa is an application for delivery of services to the home."},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"getBills":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"bills":{"type":"array","description":"List of bills","items":{"$ref":"#/definitions/Bill"}}},"example":{"state":true,"message":"List of bills","bills":[{"id":1,"payment_amount":"90000.00","commission":"0.08","dibursed_amount":"82800.00","purchase":4,"state":true,"created_at":"2023-04-13T00:19:44.761-05:00","updated_at":"2023-04-13T00:19:44.761-05:00"},{"id":2,"payment_amount":"90000.00","commission":"0.08","dibursed_amount":"82800.00","purchase":8,"state":true,"created_at":"2023-04-24T15:38:36.929-05:00","updated_at":"2023-04-24T15:38:36.929-05:00"}]}},"getBillByPurchase":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"bill":{"$ref":"#/definitions/Bill"}},"example":{"state":true,"bill":{"id":1,"payment_amount":"90000.00","commission":"0.08","dibursed_amount":"82800.00","purchase":4,"state":true,"created_at":"2023-04-13T00:19:44.761-05:00","updated_at":"2023-04-13T00:19:44.761-05:00"}}},"createClient":{"type":"object","properties":{"phone":{"type":"string","description":"User phone"},"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"password":{"type":"string","description":"User password"},"address":{"type":"string","description":"User address"},"payment_method":{"type":"string","description":"Client payment method"}},"required":["phone","name","email","password","address","payment_method"],"example":{"phone":"3004597091","name":"Sofia","email":"sof@unal.edu.co","password":"sof","address":"Cali","payment_method":"Cash"}},"getClients":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"clients":{"type":"array","description":"List of clients","items":{"$ref":"#/definitions/Client"}}},"expample":{"state":true,"message":"List of clients","clients":[{"id":4,"name":"Anibal","phone":"3200876990","email":"anibla@unal.edu.co","address":"Medellin","bank_account":null,"role":"Client","payment_method":"Card","level":0},{"id":5,"name":"Amanda","phone":"3145644454","email":"ama@unal.edu.co","address":"Medellin","bank_account":null,"role":"Client","payment_method":"Card","level":0}]}},"getClientByEmail":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"client":{"description":"Client information","$ref":"#/definitions/Client"}},"example":{"state":true,"client":{"id":5,"name":"Amanda","phone":"3145644454","email":"ama@unal.edu.co","address":"Medellin","bank_account":null,"state":true,"role":"Client","payment_method":"Card","level":0}}},"updateClient":{"type":"object","properties":{"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"password":{"type":"string","description":"User password"},"address":{"type":"string","description":"User address"},"bank_account":{"type":"string","description":"User bank account"},"state":{"type":"boolean","description":"User state"},"payment_method":{"type":"string","description":"Client payment method"},"level":{"type":"integer","description":"Client level"}},"example":{"name":"Noelia","email":"noe@unal.edu.co","password":"noe","address":"CL 68 # 51b-31","bank_account":null,"state":true,"payment_method":"Card","level":3}},"makeRequest":{"type":"object","properties":{"time_limit":{"type":"integer","description":"Time limit to response the request"},"address":{"type":"string","description":"Client address"},"comments":{"type":"string","description":"Client comments"},"date":{"type":"string","description":"Request date"},"offers":{"type":"array","description":"List of offers (ids) that will be requested","items":{"type":"integer"}}},"example":{"time_limit":5200,"address":"CR 80 CL #45 Test3","comments":"","date":"2023-05-12","offers":[4,4,5]}},"seeMyRequests":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"myRequests":{"type":"array","description":"List of client requests","items":{"type":"object","properties":{"request_code":{"type":"integer","description":"Request code"},"time_limit":{"type":"integer","description":"Time limit to response the request"},"address":{"type":"string","description":"Client address"},"comments":{"type":"string","description":"Client comments"},"date":{"type":"string","description":"Request date"},"client":{"type":"string","description":"Client phone"},"purchases":{"type":"array","description":"List of purchases (relations between offers and requests)","items":{"type":"object","properties":{"state":{"type":"string","description":"Purchase state","enum":["pending","accepted","rejected","canceled"]},"offer":{"type":"integer","description":"Offer id"},"request":{"type":"integer","description":"Request code (foriegn key)"},"offers":{"type":"object","description":"Offer information","properties":{"id":{"type":"integer","description":"Offer id"},"price":{"type":"string","description":"Offer price"},"description":{"type":"string","description":"Offer description"},"service_provider":{"type":"string","description":"Service provider phone"},"state":{"type":"boolean","description":"Offer state"}}}}}}}}}},"example":{"state":true,"message":"List of my requests","myRequests":[{"request_code":2,"time_limit":4200,"address":"CL 79 #54C-31","comments":"","date":"2023-04-09T05:00:00.000Z","client":"3145644454","purchases":[{"state":"canceled","offer":1,"request":2,"offers":{"id":1,"price":"30000.00","description":"Por 30k ya no se lo dejo tan chimba chimba","service_provider":"3134872308","state":true}},{"state":"rejected","offer":2,"request":2,"offers":{"id":2,"price":"130000.00","description":"Le dejo el jardin melo (test)","service_provider":"3134872308","state":false}},{"state":"accepted","offer":3,"request":2,"offers":{"id":3,"price":"90000.00","description":"Te limpio el tubo","service_provider":"3149896767","state":true}}]}]}},"cancelPurchase":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"}},"example":{"state":true,"message":"Purchase canceled"}},"getFavoriteOffers":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"favoriteOffers":{"type":"array","description":"List of favorite offers","items":{"$ref":"#/definitions/Offer"}}},"example":{"state":true,"message":"List of favorite offers","favoriteOffers":[{"id":6,"price":"1300000.00","comments":null,"description":"Cleaning only","service":"Computing Repair","service_provider":"3149896767","state":true,"created_at":"2023-04-24T19:19:46.469-05:00","updated_at":"2023-04-24T19:19:46.469-05:00"}]}},"rateOffer":{"type":"object","properties":{"efficiency":{"type":"integer","description":"Efficiency rate"},"efficacy":{"type":"integer","description":"Efficacy rate"},"customer_service":{"type":"integer","description":"Customer service rate"}},"example":{"efficiency":5,"efficacy":5,"customer_service":5}},"commentOffer":{"type":"object","properties":{"comment":{"type":"oject","description":"Comment","properties":{"comments":{"type":"array","description":"List of comments","items":{"type":"string"}}}}},"example":{"comment":{"comments":["GoodJob"]}}},"createOffer":{"type":"object","properties":{"price":{"type":"number","description":"Offer price"},"description":{"type":"string","description":"Offer description"},"service":{"type":"string","description":"Service offered (foriegn key to Service)"},"service_provider":{"type":"string","description":"Service provider (foreign key to Service Provider)"}},"example":{"price":90000,"description":"Te limpio el tubo","service":"Sex","service_provider":"3149896767"}},"getOffers":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"offers":{"type":"array","description":"List of offers","items":{"$ref":"#/definitions/Offer"}}},"example":{"state":true,"message":"List of offers","offers":[{"id":1,"price":"30000.00","comments":null,"description":"Por 30k ya no se lo dejo tan chimba chimba","service":"Gardening","service_provider":"3134872308","state":true,"created_at":"2023-04-08T19:57:45.345-05:00","updated_at":"2023-04-08T20:09:40.158-05:00"},{"id":4,"price":"130000.00","comments":null,"description":"This is a full service","service":"Computing Repair","service_provider":"3149896767","state":true,"created_at":"2023-04-24T15:38:34.735-05:00","updated_at":"2023-04-24T15:38:34.735-05:00"}]}},"getOfferById":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"offer":{"description":"Offer information","$ref":"#/definitions/Offer"}},"example":{"state":true,"offer":{"id":2,"price":"130000.00","comments":null,"description":"Le dejo el jardin melo (test)","service":"Gardening","service_provider":"3134872308","state":false,"created_at":"2023-04-08T19:58:31.865-05:00","updated_at":"2023-04-24T19:19:46.677-05:00"}}},"updateOffer":{"type":"object","properties":{"price":{"type":"number","description":"Offer price"},"description":{"type":"string","description":"Offer description"}},"required":["price","description"],"example":{"price":100000,"description":"Le dejo el jardin una chimba"}},"getPurchases":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"purchases":{"type":"array","description":"List of purchases","items":{"$ref":"#/definitions/Purchase"}}},"example":{"state":true,"message":"List of purchases","purchases":[{"id":5,"state":"canceled","offer":1,"request":2,"created_at":"2023-04-10T23:27:09.527-05:00","updated_at":"2023-04-12T22:18:34.441-05:00"},{"id":6,"state":"rejected","offer":2,"request":2,"created_at":"2023-04-10T23:27:09.558-05:00","updated_at":"2023-04-12T23:10:45.389-05:00"}]}},"getPurchaseById":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"purchase":{"description":"Purchase information","$ref":"#/definitions/Purchase"}},"example":{"state":true,"purchase":{"id":5,"state":"canceled","offer":1,"request":2,"created_at":"2023-04-10T23:27:09.527-05:00","updated_at":"2023-04-12T22:18:34.441-05:00"}}},"getPurchaseByState":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"purchases":{"type":"array","description":"List of purchases with specified state","items":{"$ref":"#/definitions/Purchase"}}},"example":{"state":true,"message":"List of purchases with state accepted","purchases":[{"id":4,"state":"accepted","offer":3,"request":2,"created_at":"2023-04-10T23:27:09.509-05:00","updated_at":"2023-04-13T00:19:44.974-05:00"},{"id":8,"state":"accepted","offer":3,"request":4,"created_at":"2023-04-24T11:48:08.239-05:00","updated_at":"2023-04-24T15:38:36.945-05:00"}]}},"getBillPurchase":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"purchase":{"type":"array","description":"Purchase information","items":{"type":"object","properties":{"id":{"type":"integer","description":"Purchase id"},"offer":{"type":"integer","description":"Offer id"},"request":{"type":"integer","description":"Request code"},"bill":{"type":"object","description":"Bill information","properties":{"$ref":"#/definitions/Bill"}}},"example":{"state":true,"purchase":[{"id":4,"offer":3,"request":2,"bill":{"id":1,"payment_amount":"90000.00","commission":"0.08","dibursed_amount":"82800.00","purchase":4,"state":true,"created_at":"2023-04-13T00:19:44.761-05:00","updated_at":"2023-04-13T00:19:44.761-05:00"}}]}}}}},"getRatings":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"ratings":{"type":"array","description":"List of ratings","items":{"$ref":"#/definitions/Rating"}}},"example":{"state":true,"message":"List of ratings","ratings":[{"id":12,"efficiency":5,"efficacy":5,"customer_service":5,"client":"3200876990","offer":6,"state":true,"created_at":"2023-04-26T22:39:20.566-05:00","updated_at":"2023-04-26T22:39:20.566-05:00"},{"id":11,"efficiency":1,"efficacy":1,"customer_service":1,"client":"3145644454","offer":3,"state":true,"created_at":"2023-04-24T19:19:45.060-05:00","updated_at":"2023-04-24T19:19:45.060-05:00"}]}},"getRequests":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"requests":{"type":"array","description":"List of requests","items":{"$ref":"#/definitions/Request"}}},"example":{"state":true,"message":"List of requests","requests":[{"request_code":21,"time_limit":5200,"address":"CR 80 TestSwagger","comments":"All right","date":"2023-10-09T05:00:00.000Z","client":"3200876990","created_at":"2023-04-26T16:53:40.196-05:00","updated_at":"2023-04-26T16:53:40.196-05:00"},{"request_code":18,"time_limit":5200,"address":"CR 80 CL #45 Test","comments":"","date":"2023-07-21T05:00:00.000Z","client":"3145644454","created_at":"2023-04-24T19:19:44.502-05:00","updated_at":"2023-04-24T19:19:44.502-05:00"}]}},"getRequestByCode":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"request":{"description":"Request information","$ref":"#/definitions/Request"}},"example":{"state":true,"request":{"request_code":21,"time_limit":5200,"address":"CR 80 TestSwagger","comments":"All right","date":"2023-10-09T05:00:00.000Z","client":"3200876990","created_at":"2023-04-26T16:53:40.196-05:00","updated_at":"2023-04-26T16:53:40.196-05:00"}}},"getRequestByClient":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"requests":{"type":"array","description":"List of requests","items":{"$ref":"#/definitions/Request"}}},"example":{"state":true,"message":"List of requests","requests":[{"request_code":2,"time_limit":4200,"address":"CL 79 #54C-31","comments":"","date":"2023-04-09T05:00:00.000Z","client":"3145644454","created_at":"2023-04-10T23:27:09.494-05:00","updated_at":"2023-04-10T23:27:09.494-05:00"},{"request_code":3,"time_limit":6200,"address":"CL 79 #54C-31","comments":"","date":"2023-10-29T05:00:00.000Z","client":"3145644454","created_at":"2023-04-22T16:27:59.561-05:00","updated_at":"2023-04-22T16:27:59.561-05:00"}]}},"getOffersByRequest":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"offers":{"type":"array","description":"List of offers","items":{"$ref":"#/definitions/Offer"}}},"example":{"state":true,"message":"List of offers","offers":[{"id":6,"price":"1300000.00","comments":{"comments":["Que rico"]},"description":"Cleaning only","service":"Computing Repair","service_provider":"3149896767","state":true,"created_at":"2023-04-24T19:19:46.469-05:00","updated_at":"2023-04-26T22:39:49.748-05:00"}]}},"createService":{"type":"object","properties":{"name":{"type":"string","description":"Service name"},"category":{"type":"string","description":"Service category"},"commission":{"type":"string","description":"Service commission"}},"required":["name","category","commission"],"example":{"name":"Computing Repair","category":"Appliances","commission":0.09}},"getServices":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"services":{"type":"array","description":"List of services","items":{"$ref":"#/definitions/Service"}}},"example":{"state":true,"message":"List of services","services":[{"id":1,"name":"Sex","category":"Pleasure","commission":"0.08","state":true,"created_at":"2023-04-08T18:22:49.293-05:00","updated_at":"2023-04-08T18:22:49.293-05:00"},{"id":5,"name":"Hair Salon","category":"Beauty","commission":"0.09","state":true,"created_at":"2023-04-08T18:43:09.251-05:00","updated_at":"2023-04-08T18:43:09.251-05:00"}]}},"getServiceByName":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"service":{"description":"Service information","$ref":"#/definitions/Service"}}},"createServiceProvider":{"type":"object","properties":{"phone":{"type":"string","description":"User phone"},"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"password":{"type":"string","description":"User password"},"address":{"type":"string","description":"User address"},"bank_account":{"type":"string","description":"User bank account"},"professional_profile":{"type":"string","description":"Service provider professional profile"},"document_number":{"type":"string","description":"Service provider document number"}},"example":{"phone":"3134872308","name":"Amelia","email":"ame@unal.edu.co","password":"ame","address":"Pasto","bank_account":"6781436784437","professional_profile":"Gardener","document_number":"1001031725"}},"getServiceProviders":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"serviceProviders":{"type":"array","items":{"$ref":"#/definitions/ServiceProvider"}}},"example":{"state":true,"message":"List of service providers","serviceProviders":[{"id":9,"name":"Amelia","phone":"3134872308","email":"ame@unal.edu.co","address":"Pasto","bank_account":"6781436784437","role":"ServiceProvider","professional_profile":"Gardener","document_number":"1001031725","response_time":0,"unanswered_requests":0,"available":true,"income":"0.00"},{"id":8,"name":"Helena","phone":"3149896767","email":"hele@unal.edu.co","address":"Bucaramanga","bank_account":"8942436784437","role":"ServiceProvider","professional_profile":"Plumber","document_number":"1001031722","response_time":0,"unanswered_requests":0,"available":true,"income":"331200.00"}]}},"getServiceProviderByEmail":{"type":"object","properties":{"id":{"type":"integer","description":"User id"},"name":{"type":"string","description":"User name"},"phone":{"type":"string","description":"User phone"},"email":{"type":"string","description":"User email"},"address":{"type":"string","description":"User address"},"bank_account":{"type":"string","description":"User bank account"},"state":{"type":"boolean","description":"User state"},"role":{"type":"string","description":"User role"},"professional_profile":{"type":"string","description":"Service provider professional profile"},"document_number":{"type":"string","description":"Service provider document number"},"response_time":{"type":"number","description":"Service provider response time"},"unanswered_requests":{"type":"integer","description":"Service provider unanswered requests"},"available":{"type":"boolean","description":"Service provider availability"},"income":{"type":"number","description":"Service provider income"}},"example":{"state":true,"serviceProvider":{"id":7,"name":"Sara","phone":"315678000","email":"sara@unal.edu.co","address":"Manizales","bank_account":"8942435093436","state":true,"role":"ServiceProvider","professional_profile":"Stylist","document_number":"1001031723","response_time":30,"unanswered_requests":0,"available":true,"income":"0.00"}}},"updateServiceProvider":{"type":"object","properties":{"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"password":{"type":"string","description":"User password"},"address":{"type":"string","description":"User address"},"bank_account":{"type":"string","description":"User bank account"},"state":{"type":"boolean","description":"User state"},"professional_profile":{"type":"string","description":"Service provider professional profile"},"response_time":{"type":"number","description":"Service provider response time"},"unanswered_requests":{"type":"integer","description":"Service provider unanswered requests"},"available":{"type":"boolean","description":"Service provider availability"},"income":{"type":"number","description":"Service provider income"}},"example":{"name":"Sara","email":"sara@unal.edu.co","password":"sara","address":"Medellin","bank_account":"8942435093436","state":true,"professional_profile":"stylist","response_time":30,"unanswered_requests":3,"income":420000}},"seeMyRequestsServiceProvider":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"myOffersRequested":{"type":"array","description":"List of my offers requested","items":{"type":"object","properties":{"id":{"type":"integer","description":"Offer id"},"price":{"type":"number","description":"Offer price"},"description":{"type":"string","description":"Offer description"},"service":{"type":"string","description":"Service offered"},"service_provider":{"type":"string","description":"Service provider phone"},"purchases":{"type":"array","description":"List of purchases","items":{"type":"object","properties":{"state":{"type":"string","description":"Purchase state","enum":["pending","accepted","rejected"]},"request":{"type":"integer","description":"Request code"},"offer":{"type":"integer","description":"Offer id"},"requests":{"type":"object","description":"Request information","properties":{"time_limit":{"type":"integer","description":"Request time limit"},"address":{"type":"string","description":"Client address"},"comments":{"type":"string","description":"Request comments"},"date":{"type":"string","description":"Request date"},"client":{"type":"string","description":"Client phone"},"request_code":{"type":"integer","description":"Request code"}}}}}}}}}},"example":{"state":true,"message":"List of my requests","myOffersRequested":[{"id":4,"price":"130000.00","description":"This is a full service","service":"Computing Repair","service_provider":"3149896767","purchases":[{"state":"accepted","request":12,"offer":4,"requests":{"time_limit":5200,"address":"CR 80 CL #45 Test","comments":"","date":"2023-07-21T05:00:00.000Z","client":"3145644454","request_code":12}},{"state":"rejected","request":16,"offer":4,"requests":{"time_limit":5200,"address":"CR 80 CL #45 Test2","comments":"","date":"2023-05-12T05:00:00.000Z","client":"3145644454","request_code":16}},{"state":"accepted","request":15,"offer":4,"requests":{"time_limit":5200,"address":"CR 80 CL #45 Test","comments":"","date":"2023-05-12T05:00:00.000Z","client":"3145644454","request_code":15}},{"state":"rejected","request":17,"offer":4,"requests":{"time_limit":5200,"address":"CR 80 CL #45 Test3","comments":"","date":"2023-05-12T05:00:00.000Z","client":"3145644454","request_code":17}}]}]}},"seeMyOffers":{"type":"object","properties":{"state":{"type":"boolean","description":"Response state"},"message":{"type":"string","description":"Response message"},"myOffers":{"type":"array","description":"List of my offers","items":{"$ref":"#/definitions/Offer"}}},"example":{"state":true,"message":"List of my offers","myOffers":[{"id":4,"price":"130000.00","comments":null,"description":"This is a full service","service":"Computing Repair","service_provider":"3149896767","state":true,"created_at":"2023-04-24T15:38:34.735-05:00","updated_at":"2023-04-24T15:38:34.735-05:00"},{"id":3,"price":"90000.00","comments":{"comments":["Excellent service","GoodJob","Test comment","Test comment","Test comment"]},"description":"Te limpio el tubo","service":"Sex","service_provider":"3149896767","state":true,"created_at":"2023-04-09T00:33:39.544-05:00","updated_at":"2023-04-24T19:19:45.257-05:00"}]}},"loginByPhone":{"type":"object","properties":{"phone":{"type":"string","description":"User phone"},"password":{"type":"string","description":"User password"}},"required":["phone","password"],"example":{"phone":"3149896767","password":"hele"}},"loginByEmail":{"type":"object","properties":{"email":{"type":"string","description":"User email"},"password":{"type":"string","description":"User password"}},"required":["email","password"],"example":{"email":"cass@unal.edu.co","password":"cass"}},"getUsers":{"type":"object","properties":{"state":{"type":"boolean","description":"Request state"},"message":{"type":"string","description":"Request message"},"users":{"type":"array","description":"List of users","items":{"$ref":"#/definitions/User"}}},"example":{"state":true,"message":"List of all users","users":[{"id":2,"name":"Cassandra","phone":"3104975520","email":"cass@unal.edu.co","address":"CL 68 # 51bB-31","bank_account":null,"role":"Admin"},{"id":4,"name":"Anibal","phone":"3200876990","email":"anibla@unal.edu.co","address":"Medellin","bank_account":null,"role":"Client"}]}},"getUserByEmail":{"type":"object","properties":{"state":{"type":"boolean","description":"Request state"},"user":{"type":"object","description":"User information","properties":{"id":{"type":"integer"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"address":{"type":"string"},"bank_account":{"type":"string"},"state":{"type":"boolean"},"role":{"type":"string","enum":["Admin","Client","ServiceProvider"]}},"required":["id","name","phone","email","address","state","role"]}},"example":{"state":true,"user":{"id":2,"name":"Cassandra","phone":"3104975520","email":"cass@unal.edu.co","address":"CL 68 # 51bB-31","bank_account":null,"state":true,"role":"Admin"}}}}},"paths":{"/api/hastaTuCasa/getBillByPurchase/{purchase}":{"get":{"tags":["Bill"],"security":[{"bearerAuth":[]}],"summary":"Get the bill of a purchase","parameters":[{"in":"path","name":"purchase","required":true,"schema":{"type":"integer"},"description":"Purchase id to get the bill"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getBillByPurchase"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Bill not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getBills":{"get":{"tags":["Bill"],"security":[{"bearerAuth":[]}],"summary":"Get all Bills","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getBills"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You not have permissions to access this resource"}}}}}}},"/api/hastaTuCasa/client/addFavoriteOffer/{offer}":{"get":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Add favorite offer (Client logged)","parameters":[{"in":"path","name":"offer","description":"Offer id","required":true,"schema":{"type":"integer"}}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Offer added to favorites"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Violation of foreign key constraint"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/client/cancelPurchase/{request}/{offer}":{"put":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Cancel purchase (Client logged)","parameters":[{"in":"path","name":"request","description":"Request code","required":true,"schema":{"type":"integer"}},{"in":"path","name":"offer","description":"Offer id","required":true,"schema":{"type":"integer"}}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/cancelPurchase"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Purchase not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/client/commentOffer/{offer}":{"post":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Comment offer (Client logged)","parameters":[{"in":"path","name":"offer","description":"Offer id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/commentOffer"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Offer commented successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You can not comment this offer"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/client/createClient":{"post":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Create a new client","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/createClient"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"User created successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Already exists a user with this email"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/client/getClientByEmail/{email}":{"get":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Get client by email","parameters":[{"in":"path","name":"email","required":true,"schema":{"type":"string"},"description":"Client email to get","allowReserved":true}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getClientByEmail"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"User not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/client/getClients":{"get":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Get all clients","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getClients"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Clients not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/client/getFavoriteOffers":{"get":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Get favorite offers (Client logged)","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getFavoriteOffers"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"related query does not exist"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/client/makeRequest":{"post":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Make a request","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/makeRequest"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Request created successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Offer not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/client/rateOffer/{request}/{offer}":{"post":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Rate offer (Client logged)","parameters":[{"in":"path","name":"request","description":"Request code","required":true,"schema":{"type":"integer"}},{"in":"path","name":"offer","description":"Offer id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/rateOffer"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Offer rated successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You can not rate this offer"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/client/seeMyRequests":{"get":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"See my requests (Client logged)","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/seeMyRequests"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Not rows found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/client/updateClient/{id}":{"put":{"tags":["Client"],"security":[{"bearerAuth":[]}],"summary":"Update client","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"User id to update"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/updateClient"}}}},"responses":{"200":{"description":"Successful request","content":{"appllication/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"User updated successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"User not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/createOffer":{"post":{"tags":["Offer"],"security":[{"bearerAuth":[]}],"summary":"Create a new offer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/createOffer"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Offer created successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Service or service provider not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/deleteOffer/{id}":{"delete":{"tags":["Offer"],"security":[{"bearerAuth":[]}],"summary":"Delete a offer by id","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Offer id to delete"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Offer deleted successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Offer not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/getOfferById/{id}":{"get":{"tags":["Offer"],"security":[{"bearerAuth":[]}],"summary":"Get offer by id","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Offer id to get"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getOfferById"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Offer not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/getOffers":{"get":{"tags":["Offer"],"security":[{"bearerAuth":[]}],"summary":"Get all offers","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getOffers"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/updateOffer/{id}":{"put":{"tags":["Offer"],"security":[{"bearerAuth":[]}],"summary":"Update a offer by id","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Offer id to update"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/updateOffer"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Offer updated successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Offer not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/getBillPurchase/{id}":{"get":{"tags":["Purchase"],"security":[{"bearerAuth":[]}],"summary":"Get the bill of a purchase","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Purchases id to get the bill"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getBillPurchase"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getPurchaseById/{id}":{"get":{"tags":["Purchase"],"security":[{"bearerAuth":[]}],"summary":"Get purchase by id","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Purchase id to get"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getPurchaseById"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Purchase not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getPurchaseByState/{state}":{"get":{"tags":["Purchase"],"security":[{"bearerAuth":[]}],"summary":"Get purchases by state","parameters":[{"in":"path","name":"state","required":true,"schema":{"type":"string"},"description":"Purchases state to get"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getPurchaseByState"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getPurchases":{"get":{"tags":["Purchase"],"security":[{"bearerAuth":[]}],"summary":"Get all purchases","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getPurchases"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/getRatings":{"get":{"tags":["Rating"],"security":[{"bearerAuth":[]}],"summary":"Get all ratings","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getRatings"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You not have permissions to access this resource"}}}}}}},"/api/hastaTuCasa/getOffersByRequest/{code}":{"get":{"tags":["Request"],"security":[{"bearerAuth":[]}],"summary":"Get offers required by a request","parameters":[{"in":"path","name":"code","required":true,"schema":{"type":"integer"},"description":"Request code"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getOffersByRequest"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Request not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getRequestByClient/{client}":{"get":{"tags":["Request"],"security":[{"bearerAuth":[]}],"summary":"Get requests by client","parameters":[{"in":"path","name":"client","required":true,"schema":{"type":"string"},"description":"Client phone who have made the requests to get"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getRequestByClient"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getRequestByCode/{code}":{"get":{"tags":["Request"],"security":[{"bearerAuth":[]}],"summary":"Get request by code","parameters":[{"in":"path","name":"code","required":true,"schema":{"type":"integer"},"description":"Request code to get"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getRequestByCode"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Request not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getRequests":{"get":{"tags":["Request"],"security":[{"bearerAuth":[]}],"summary":"Get all requests","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getRequests"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/acceptPurchase/{request}/{offer}":{"put":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"Accept purchase (Service provider logged)","parameters":[{"in":"path","name":"request","description":"Request code","required":true,"schema":{"type":"integer"}},{"in":"path","name":"offer","description":"Offer id","required":true,"schema":{"type":"integer"}}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Purchase accepted"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Purchase not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/createServiceProvider":{"post":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"Create a new service provider","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/createServiceProvider"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"User created successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Already exists a user with this email"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getServiceProviderByEmail/{email}":{"get":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"Get service provider by email","parameters":[{"in":"path","name":"email","required":true,"schema":{"type":"string"},"description":"Service Provider email to get","allowReserved":true}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getServiceProviderByEmail"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"User not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getServiceProviders":{"get":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"Get all service providers","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getServiceProviders"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Service providers not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/rejectPurchase/{request}/{offer}":{"put":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"Reject purchase (Service provider logged)","parameters":[{"in":"path","name":"request","description":"Request code","required":true,"schema":{"type":"integer"}},{"in":"path","name":"offer","description":"Offer id","required":true,"schema":{"type":"integer"}}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Purchase rejected"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Purchase not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/seeMyOffers":{"get":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"See my offers (Service provider logged)","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/seeMyOffers"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/seeMyRequests":{"get":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"See my offers requested (Service provider logged)","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/seeMyRequestsServiceProvider"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/updateServiceProvider/{id}":{"put":{"tags":["ServiceProvider"],"security":[{"bearerAuth":[]}],"summary":"Update service provider","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"User id to update"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/updateServiceProvider"}}}},"responses":{"200":{"description":"Successful request","content":{"appllication/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"User updated successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"User not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/createService":{"post":{"tags":["Service"],"security":[{"bearerAuth":[]}],"summary":"Create a new service","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/createService"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Service created successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Already exists a service with this name"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/deleteService/{id}":{"delete":{"tags":["Service"],"security":[{"bearerAuth":[]}],"summary":"Delete a service by id","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Service id to delete"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Service deleted successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Service not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/getServiceByName/{name}":{"get":{"tags":["Service"],"security":[{"bearerAuth":[]}],"summary":"Get service by name","parameters":[{"in":"path","name":"name","required":true,"schema":{"type":"string"},"description":"Service name to get","allowReserved":true}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getServiceByName"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Service not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/getServices":{"get":{"tags":["Service"],"security":[{"bearerAuth":[]}],"summary":"Get all services","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getServices"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Rows not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/updateService/{id}":{"put":{"tags":["Service"],"security":[{"bearerAuth":[]}],"summary":"Update a service by id","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Service id to update"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/createService"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"Service updated successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Service not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Missing authorization token"}}}}}}},"/api/hastaTuCasa/deleteUser/{id}":{"delete":{"tags":["User"],"security":[{"bearerAuth":[]}],"summary":"Delete user by id","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"User id to delete"}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":true,"message":"User deleted successfully"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"User not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getUserByEmail/{email}":{"get":{"tags":["User"],"security":[{"bearerAuth":[]}],"summary":"Get user by email","parameters":[{"in":"path","name":"email","required":true,"schema":{"type":"string"},"description":"User email to get","allowReserved":true}],"produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getUserByEmail"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"User not found"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/getUsers":{"get":{"tags":["User"],"security":[{"bearerAuth":[]}],"summary":"Get all users","produces":["application/json"],"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/getUsers"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Token expired"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"You do not have permission to access this resource"}}}}}}},"/api/hastaTuCasa/loginByEmail":{"post":{"tags":["Login"],"security":[],"summary":"Login by email","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/loginByEmail"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean","description":"The state of the request"},"message":{"type":"string","description":"The message of the request"},"name":{"type":"string","description":"The name of the user"},"email":{"type":"string","description":"The email of the user"},"token":{"type":"string","description":"The token of the user"}}},"example":{"state":true,"message":"Login successful","name":"Amanda","email":"ama@unal.edu.co","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQW1hbmRhIiwiaWQiOjUsImVtYWlsIjoiYW1hQHVuYWwuZWR1LmNvIiwicGhvbmUiOiIzMTQ1NjQ0NDU0IiwiaWF0IjoxNjgyNDgyNDk4LCJleHAiOjE2ODI0ODMzOTh9.0hF6Af_LKIhKO8zloV5pvNk5gbmMjTffqqnPspHQTog"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"This user is inactive"}}}}}}},"/api/hastaTuCasa/loginByPhone":{"post":{"tags":["Login"],"security":[],"summary":"Login by phone","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/loginByPhone"}}}},"responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean","description":"The state of the request"},"message":{"type":"string","description":"The message of the request"},"name":{"type":"string","description":"The name of the user"},"email":{"type":"string","description":"The email of the user"},"token":{"type":"string","description":"The token of the user"}}},"example":{"state":true,"message":"Login successful","name":"Amanda","email":"ama@unal.edu.co","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQW1hbmRhIiwiaWQiOjUsImVtYWlsIjoiYW1hQHVuYWwuZWR1LmNvIiwicGhvbmUiOiIzMTQ1NjQ0NDU0IiwiaWF0IjoxNjgyNDgyNDk4LCJleHAiOjE2ODI0ODMzOTh9.0hF6Af_LKIhKO8zloV5pvNk5gbmMjTffqqnPspHQTog"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/definitions/Response"},"example":{"state":false,"message":"Incorrect password or phone"}}}}}}}},"definitions":{"Bill":{"type":"object","properties":{"id":{"type":"integer","description":"Bill id"},"payment_amount":{"type":"string","description":"Cost of service done"},"commission":{"type":"string","description":"Service commission"},"dibursed_amount":{"type":"string","description":"Money to be paid to the provider"},"purchase":{"type":"integer","description":"Purchase id"},"state":{"type":"boolean","description":"Bill state"},"created_at":{"type":"string","description":"Bill creation date"},"updated_at":{"type":"string","description":"Bill update date"}}},"Client":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"address":{"type":"string"},"bank_account":{"type":"string"},"role":{"type":"string"},"payment_method":{"type":"string"},"level":{"type":"integer"}},"required":["id","name","phone","email","address","role","payment_method","level"]},"Offer":{"type":"object","properties":{"id":{"type":"integer","description":"Offer id"},"price":{"type":"number","description":"Offer price"},"comments":{"type":"JSON","description":"Offer comments"},"description":{"type":"string","description":"Offer description"},"service":{"type":"string","description":"Service offered (foriegn key to Service)"},"service_provider":{"type":"integer","description":"Service provider (foreign key to Service Provider)"},"state":{"type":"string","description":"Offer state"},"created_at":{"type":"string","description":"Offer creation date"},"updated_at":{"type":"string","description":"Offer update date"}},"required":["id","price","description","service","service_provider","state","created_at","updated_at"]},"Purchase":{"type":"object","properties":{"id":{"type":"integer","description":"Purchase id"},"state":{"type":"string","description":"Purchase state","enum":["pending","accepted","rejected","canceled"]},"offer":{"type":"integer","description":"Offer id"},"request":{"type":"integer","description":"Request code"},"created_at":{"type":"string","format":"date-time","description":"Purchase creation date"},"updated_at":{"type":"string","format":"date-time","description":"Purchase update date"}}},"Rating":{"type":"object","properties":{"id":{"type":"integer","description":"Rating id"},"efficiency":{"type":"integer","description":"Efficiency rating"},"efficacy":{"type":"integer","description":"Efficacy rating"},"customer_service":{"type":"integer","description":"Customer service rating"},"client":{"type":"string","description":"Client phone who made the rating"},"offer":{"type":"integer","description":"Offer id rated"},"state":{"type":"boolean","description":"Rating state"},"created_at":{"type":"string","format":"date-time","description":"Rating creation date"},"updated_at":{"type":"string","format":"date-time","description":"Rating update date"}}},"Request":{"type":"object","properties":{"request_code":{"type":"integer","description":"Request code"},"time_limit":{"type":"integer","description":"Time limit for response the request"},"address":{"type":"string","description":"Client address"},"comments":{"type":"string","description":"Comments about the request"},"date":{"type":"string","description":"Date of the request"},"client":{"type":"string","description":"Client phone number"},"created_at":{"type":"string","description":"Date of creation"},"updated_at":{"type":"string","description":"Date of last update"}}},"Response":{"type":"object","properties":{"state":{"type":"boolean","description":"The state of the request"},"message":{"type":"string","description":"The message of the request"}}},"Service":{"type":"object","properties":{"id":{"type":"integer","description":"Service id"},"name":{"type":"string","description":"Service name"},"category":{"type":"string","description":"Service category"},"commission":{"type":"string","description":"Service commission"},"state":{"type":"boolean","description":"Service state"},"created_at":{"type":"string","description":"Service creation date"},"updated_at":{"type":"string","description":"Service update date"}}},"ServiceProvider":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"address":{"type":"string"},"bank_account":{"type":"string"},"role":{"type":"string"},"professional_profile":{"type":"string"},"document_number":{"type":"string"},"response_time":{"type":"number"},"unanswered_requests":{"type":"integer"},"available":{"type":"boolean"},"income":{"type":"number"}},"required":["id","name","phone","email","address","bank_account","role","professional_profile","document_number","response_time","unanswered_requests","available","income"]},"User":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"address":{"type":"string"},"bank_account":{"type":"string"},"role":{"type":"string","enum":["Admin","Client","ServiceProvider"]}},"required":["id","name","phone","email","address","role"]}},"tags":[]}